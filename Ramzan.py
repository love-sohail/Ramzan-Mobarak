import base64
exec(base64.b64decode("IyBEZWNvbXBpbGUgYnkgTWFyZGlzIChUb29scyBCeSBLYXB0ZW4tS2Fpem8pCiMgVGltZSBTdWNjZXMgZGVjb21waWxlIDogMjAyMi0wNC0wMiAyMzo1ODowNS40NTkwNjQKaW1wb3J0IG9zLHN5cwppbXBvcnQgcmljaAp0cnk6IGltcG9ydCByZXF1ZXN0cwpleGNlcHQgTW9kdWxlTm90Rm91bmRFcnJvcjpwcmludCgiWyFdIFNlZGFuZyBJbnN0YWxsIE1vZHVsZSByZXF1ZXN0cyIpO29zLnN5c3RlbSgicHl0aG9uIC1tIHBpcCBpbnN0YWxsIHJlcXVlc3RzICY+IC9kZXYvbnVsbCIpCnRyeTogaW1wb3J0IGJzNApleGNlcHQgTW9kdWxlTm90Rm91bmRFcnJvcjpwcmludCgiWyFdIFNlZGFuZyBJbnN0YWxsIE1vZHVsZSBiczQiKTtvcy5zeXN0ZW0oInB5dGhvbiAtbSBwaXAgaW5zdGFsbCBiczQgJj4gL2Rldi9udWxsIikKdHJ5OiBpbXBvcnQgbWVjaGFuaXplCmV4Y2VwdCBNb2R1bGVOb3RGb3VuZEVycm9yOnByaW50KCJbIV0gU2VkYW5nIEluc3RhbGwgTW9kdWxlIG1lY2hhbml6ZSIpO29zLnN5c3RlbSgicHl0aG9uIC1tIHBpcCBpbnN0YWxsIG1lY2hhbml6ZSAmPiAvZGV2L251bGwiKQp0cnk6IGltcG9ydCBnVFRTCmV4Y2VwdCBNb2R1bGVOb3RGb3VuZEVycm9yOiBvcy5zeXN0ZW0oInB5dGhvbiAtbSBwaXAgaW5zdGFsbCBnVFRTICY+IC9kZXYvbnVsbCIpCgppbXBvcnQgb3Msc3lzLHRpbWUsZGF0ZXRpbWUscmFuZG9tLGhhc2hsaWIscmUsdGhyZWFkaW5nLGpzb24sdXJsbGliLHV1aWQsaXBhZGRyZXNzLGNhbGVuZGFyLHJlcXVlc3RzLG1lY2hhbml6ZSxiczQsc3lzLG9zLHN1YnByb2Nlc3MsdXVpZCxyZXF1ZXN0cyxzeXMscmFuZG9tLHRpbWUscmUsYmFzZTY0LGpzb24scGxhdGZvcm0KaW1wb3J0IHN5cywgb3MsIHN1YnByb2Nlc3MsIHBsYXRmb3JtLCBzdHJ1Y3QKaW1wb3J0IG9zLCBzeXMsIHJlLCB0aW1lLCByZXF1ZXN0cywgY2FsZW5kYXIsIHJhbmRvbSwgYnM0LCBzdWJwcm9jZXNzLCB1dWlkLCBqc29uIAppbXBvcnQgcmVxdWVzdHMgYXMgcmVxCmltcG9ydCB0aW1lLHJhbmRvbSxqc29uCmZyb20gcmljaC50YWJsZSBpbXBvcnQgVGFibGUgYXMgbWUKZnJvbSByaWNoLmNvbnNvbGUgaW1wb3J0IENvbnNvbGUgYXMgc29sCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHNvcApmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIHRyZWQKZnJvbSByaWNoLmNvbnNvbGUgaW1wb3J0IEdyb3VwIGFzIGdwCmZyb20gcmljaC5wYW5lbCBpbXBvcnQgUGFuZWwgYXMgbmVsCmZyb20gcmljaCBpbXBvcnQgcHJpbnQgYXMgY2V0YWsKZnJvbSByaWNoLm1hcmtkb3duIGltcG9ydCBNYXJrZG93biBhcyBtYXJrCmZyb20gcmljaC5jb2x1bW5zIGltcG9ydCBDb2x1bW5zIGFzIGNvbApmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcgpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBwYXJzZXIKZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAgYXMgcGFyCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwCmZyb20gcmFuZG9tIGltcG9ydCBjaG9pY2UgYXMgcGlsaWgKZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyBfX0tpa3lfXwpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yCmZyb20gcmVxdWVzdHMuZXhjZXB0aW9ucyBpbXBvcnQgQ29ubmVjdGlvbkVycm9yCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gdXJsbGliLnBhcnNlIGltcG9ydCBxdW90ZQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRlCm51bGw9b3Blbihvcy5kZXZudWxsLCAidyIpCmluc3RhPSBzdWJwcm9jZXNzLmNhbGwoWyJkcGtnIiwiLXMiLCJwbGF5LWF1ZGlvIl0sc3Rkb3V0PW51bGwsc3RkZXJyPXN1YnByb2Nlc3MuU1RET1VUKQpudWxsLmNsb3NlKCkKaWYgaW5zdGEgIT0wOm9zLnN5c3RlbSgncGtnIGluc3RhbGwgcGxheS1hdWRpbyAteSAmPiAvZGV2L251bGwnKQp0cnk6b3MubWtkaXIoImR1bXAiKQpleGNlcHQ6cGFzcwp0cnk6b3MubWtkaXIoIkhhc2lsIikKZXhjZXB0OnBhc3MKaW1wb3J0IHV1aWQKaWYgKCJsaW51eCIgaW4gc3lzLnBsYXRmb3JtLmxvd2VyKCkpOgoJSUk9J1x4MWJbMTszMm0nCglJPSdceDFiWzA7MzJtJwoJQz0nXHgxYlswOzM2bScKCU09J1x4MWJbMDszMW0nCglVPSdceDFiWzA7MzVtJwoJSz0nXHgxYlswOzMzbScKCVA9J1x4MWJbMDBtJwoJSD0nXHgxYlswOzkwbScKCVE9Ilx4MWJbMDBtIgoJTz0nXDAzM1szODsyOzI1NTsxMjc7MDsxbScgI09SQU5HRQoJQiA9ICdceDFiWzA7OTRtJyAjIEJJUlUuCgl3YXIgPSBmIlt7Q33igKJ7UX1dLS0+IgplbHNlOgoJSUk9JycKCUk9JycKCUM9JycKCU09JycKCVU9JycKCUs9JycKCVA9JycKCUg9JycKCVE9IiIKCU89JycgI09SQU5HRQoJQj0nJyAjIEJJUlUuCgl3YXIgPSAiW+KAol0tLT4iCmphcmFrID0gIiAgICAgIgp1YmFoUCA9IFtdCnB3YmFydSA9IFtdCmRhdGEgPSB7fQpkYXRhMiA9IHt9Cmxvb3AgPSAwCmxvb3AgPSAwCm9rID0gW10KY3AgPSBbXQp0dGwgPSBbXQppZCA9IFtdCm5hbXB1bmcgPSBbXQpkYXRhLGRhdGEyPXt9LHt9CnViYWhQLHB3QmFydT1bXSxbXQppZF9ncm91cCA9IFtdCmtvbWVuID0gW10Kb3Bvc3QgPSAwCgoKY3VycmVudCA9IGRhdGV0aW1lLm5vdygpCmR1cmFzaSA9IHN0cihkYXRldGltZS5ub3coKS5zdHJmdGltZSgiJWQtJW0tJVkiKSkKdGFodW4gPSBjdXJyZW50LnllYXIKYnVsYW4gPSBjdXJyZW50Lm1vbnRoCmhhcmkgPSBjdXJyZW50LmRheQpjdXJyZW50ID0gZGF0ZXRpbWUubm93KCkKd2FrdHV1ID0gc3RyKGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCIlWS0lbS0lZCIpKQp3YWt0dSA9IHN0cihkYXRldGltZS5ub3coKS5zdHJmdGltZSgiJVklbSVkIikpCmphbXogPSBkYXRldGltZS5ub3coKS5zdHJmdGltZSgnJUg6JU06JVMnKQpidWxhbl90dGwgPSB7IjAxIjogIkphbnVhcmkiLCAiMDIiOiAiRmVicnVhcmkiLCAiMDMiOiAiTWFyZXQiLCAiMDQiOiAiQXByaWwiLCAiMDUiOiAiTWVpIiwgIjA2IjogIkp1bmkiLCAiMDciOiAiSnVsaSIsICIwOCI6ICJBZ3VzdHVzIiwgIjA5IjogIlNlcHRlbWJlciIsICIxMCI6ICJPa3RvYmVyIiwgIjExIjogIk5vdmVtYmVyIiwgIjEyIjogIkRlc2VtYmVyIn0KCgoKCgpkZWYgamFsYW4oeik6Cglmb3IgZSBpbiB6ICsgIlxuIjpzeXMuc3Rkb3V0LndyaXRlKGUpO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDA5KQpkZWYgcGxheV9tcHYoeCk6Cgl0cnk6b3MucG9wZW4oInBsYXktYXVkaW8gIit4KQoJZXhjZXB0OnBhc3MKY2xhc3MgbWVudToKCWRlZiBfX2luaXRfXyhzZWxmKToKCQlvcy5zeXN0ZW0oImNsZWFyIikKCQlzZWxmLm1hbmkoKQoJCglkZWYgdGFtcGlsYW5fbG9nbyhzZWxmKToKCQl4bnh4PXBpbGloKFtCLEMsSUksUSxVLEssTyxNXSkKCQl2cD1RCgkJamFsYW4oZiIiInt4bnh4fQp7SUl94paI4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilZcgIOKWiOKWiOKVlyDilojilojilojilojilojilZcg4paI4paI4pWX4paI4paI4pWXICAgICAK4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWd4paI4paI4pWU4pWQ4pWQ4pWQ4paI4paI4pWX4paI4paI4pWRICDilojilojilZHilojilojilZTilZDilZDilojilojilZfilojilojilZHilojilojilZEgICAgIArilojilojilojilojilojilojilojilZfilojilojilZEgICDilojilojilZHilojilojilojilojilojilojilojilZHilojilojilojilojilojilojilojilZHilojilojilZHilojilojilZEgICAgIArilZrilZDilZDilZDilZDilojilojilZHilojilojilZEgICDilojilojilZHilojilojilZTilZDilZDilojilojilZHilojilojilZTilZDilZDilojilojilZHilojilojilZHilojilojilZEgICAgIArilojilojilojilojilojilojilojilZHilZrilojilojilojilojilojilojilZTilZ3ilojilojilZEgIOKWiOKWiOKVkeKWiOKWiOKVkSAg4paI4paI4pWR4paI4paI4pWR4paI4paI4paI4paI4paI4paI4paI4pWXCuKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVnSDilZrilZDilZDilZDilZDilZDilZ0g4pWa4pWQ4pWdICDilZrilZDilZ3ilZrilZDilZ0gIOKVmuKVkOKVneKVmuKVkOKVneKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVnSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICBcMDMzWzQ0bVwwMzNbMTszN20gU2NyaXB0IGluZm9ybWF0aW9uICBcMDMzWzQxbVwwMzNbMTszN20gVmVyc2lvbiAyLjAgXHgxYlswbVxuCiBBdXRob3IgICA6IHtQfVNPSEFJTCBXQVpJUiB7UX0KIENvZGVkICAgIDoge1B9U1NLIFdBWklSIENPREV7UX0KIFdoYXRzYXBwIDogOTIzMTMwOTk3Mzc4CiBGYWNlYm9vayA6IFNvaGFpbCBXYXppciAoe0lJfSBQbGVhc2UgRm9sbG93IHtRfSkKIEdpdGh1YiAgIDogLSBsb3ZlLXNvaGFpbAogIiIiKQoKCglkZWYgbWFuaShzZWxmKToKCQl0cnk6dG9rZW4gPSBvcGVuKCIubG9naW4udHh0IiwiciIpLnJlYWQoKQoJCWV4Y2VwdDpsb2dpbigpCgkJdHJ5OmNvb2tpZSA9IG9wZW4oIi5jb29raWUudHh0IiwiciIpLnJlYWQoKQoJCWV4Y2VwdDpwYXNzCgkJdHJ5OgoJCQl4bnh6eCA9ICIiK2Nvb2tpZQoJCQl6emEgPSAiVG9rZW4gQW5kIENvb2tpZSIKCQlleGNlcHQ6CgkJCXp6YSA9ICJUb2tlbiIKCQl0cnk6CgkJCW5hbWEgPSBzZXMuZ2V0KGYiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/JmFjY2Vzc190b2tlbj17dG9rZW59IikuanNvbigpWyJuYW1lIl0KCQkJaWR6ID0gc2VzLmdldChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lPyZhY2Nlc3NfdG9rZW49e3Rva2VufSIpLmpzb24oKVsiaWQiXQoJCWV4Y2VwdDoKCQkJb3Muc3lzdGVtKCdybSAtcmYgLmxvZ2luLnR4dCcpCgkJCW9zLnN5c3RlbSgncm0gLXJmIC5jb29raWUudHh0JykKCQkJamFsYW4oIiB8LS0+VG9rZW4gS2FkYWx1YXJzYSIpO3RpbWUuc2xlZXAoMC4yNSkKCQkJamFsYW4oIiB8LS0+SmFsYW5sYW4gVWxhbmcgU2NyaXB0Iik7dGltZS5zbGVlcCgwLjI1KQoJCQlvcy5zeXMuZXhpdCgpCgkJc2VsZi50YW1waWxhbl9sb2dvKCkKCQlqYWxhbihmIiIie1F9W3tDfeKAontRfV0ge099QWNjb3VudCBJbmZvL01lbnV7UX0KCiBOYW1hIEFrdW4gICAgICA6IHtPfXtuYW1hfXtRfQogSWQgQWt1biAgICAgICAgOiB7TX17aWR6fXtRfQogU3RhdHVzIExvZ2luICAgOiB7SUl9e3p6YX17UX0KIFN0YXR1cyBBcGlLZXkgIDoge0lJfVByZW1pdW17UX0KIEFwaWtleS9MaXNlbnNpIDoge0lJfVpYU0pEU0FCNDVKe1F9CiDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgTWVudVNjcmlwdCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJAiIiIpCgkJcHJpbnQoZicg4pSCLS0+MS4gQ3JhY2sgcHVibGljIGFuZCBmcmllbmQgKHtPfSBGYXN0IHtRfSkJICAgIAl7SUl9T057UX0gICAgIOKUgicpO3RpbWUuc2xlZXAoMC4yNSkKCQlwcmludChmJyDilIItLT4yLiBDcmFjayBwdWJsaWMgYW5kIGZyaWVuZAkJCQl7SUl9T057UX0gICAgIOKUgicpO3RpbWUuc2xlZXAoMC4yNSkKCQlwcmludChmJyDilIItLT4zLiBDcmFjayBEYXJpIEZvbGxvd2VycwkJCQl7SUl9T057UX0gICAgIOKUgicpO3RpbWUuc2xlZXAoMC4yNSkKCQlwcmludChmJyDilIItLT40LiBDcmFjayBGb2xsb3dlcnMgSWQgICh7T31VbHRpbWF0ZSBEdW1we1F9KQkJe0lJfU9Oe1F9ICAgICDilIInKTt0aW1lLnNsZWVwKDAuMjUpCgkJcHJpbnQoZicg4pSCLS0+NS4gQ3JhY2sgRnJvbSBOYW1lIFNlYXJjaCAoe099Tm90IExvZ2lue1F9KQkJe0lJfU9Oe1F9ICAgICDilIInKTt0aW1lLnNsZWVwKDAuMjUpCgkJcHJpbnQoZicg4pSCLS0+Ni4gQ3JhY2sgRnJvbSBMaWtlIFBvc3RzCQkJe0lJfU9Oe1F9ICAgICDilIInKTt0aW1lLnNsZWVwKDAuMjUpCgkJcHJpbnQoZicg4pSCLS0+Ny4gQ3JhY2sgRnJvbSBGaWxlCQkgCQkJe0lJfU9Oe1F9ICAgICB8Jyk7dGltZS5zbGVlcCgwLjI1KQoJCXByaW50KGYnIOKUgi0tPjguIENyYWNrIEZyb20gQ29tbWVudHMJCQkJe019T0ZGe1F9ICAgIHwnKTt0aW1lLnNsZWVwKDAuMjUpCgkJcHJpbnQoZicg4pSCLS0+OS4gQ3JhY2sgRnJvbSBNZW1iZXIgR3JvdXAJCQkJe0lJfU9Oe1F9ICAgICB8Jyk7dGltZS5zbGVlcCgwLjI1KQoJCXByaW50KGYnIOKUgi0tPjEwLkNyYWNrIGZyb20gU2FyYW4gVGVhbW4JCQkJe019T0ZGe1F9ICAgIHwnKTt0aW1lLnNsZWVwKDAuMjUpCgkJcHJpbnQoZicg4pSCLS0+MTEuQ2hlY2sgTnVtYmVyIG9mIEZyaWVuZHMgKHtPfVByb25lIENoZWNrIFBvaW50e1F9KQkJe0lJfU9Oe1F9ICAgICB8Jyk7dGltZS5zbGVlcCgwLjI1KQoJCXByaW50KGYnIOKUgi0tPjEyLlZpZXcgQ3JhY2sgUmVzdWx0cyAJCQkJe0lJfU9Oe1F9ICAgICB8Jyk7dGltZS5zbGVlcCgwLjI1KQoJCXByaW50KGYnIOKUgi0tPjEzLkNoZWNrIEZhY2Vib29rIE9wdGlvbnMgQ3JhY2sgUmVzdWx0cwkJe0lJfU9Oe1F9ICAgICB8Jyk7dGltZS5zbGVlcCgwLjI1KQoJCXByaW50KGYnIOKUgi0tPjE0LkF1dG8gU2hhcmUgQm90cwkJCQkJe0lJfU9Oe1F9ICAgICB8Jyk7dGltZS5zbGVlcCgwLjI1KQoJCXByaW50KGYnIOKUgi0tPjE1LlJlcG9ydCBTY3JpcHQJCQkJCXtJSX1PTntRfSAgICAgfCcpO3RpbWUuc2xlZXAoMC4yNSkKCQlwcmludChmJyDilIItLT4xNi5Ub2tlbiBhbmQgQ29va2llcyBJbmZvCQkJCXtJSX1PTntRfSAgICAgfCcpO3RpbWUuc2xlZXAoMC4yNSkKCQlwcmludChmJyDilIItLT4xNy5TZWUgUmVsYXRlZCBBcHBsaWNhdGlvbnMgVGhyb3VnaCBDcmFjayBSZXN1bHRzICAgCXtJSX1PTntRfSAgICAgfCcpO3RpbWUuc2xlZXAoMC4yNSkKCQlwcmludChmJyDilIItLT4xOC5TZXR0aW5nIFVzZXIgQWdlbnQgICAgICAg4pSCJyk7dGltZS5zbGVlcCgwLjI1KQoJCXByaW50KGYnIOKUgi0tPjAwLk9VVCAoe019UmVtb3ZlIFRva2Vue1F9KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCcpO3RpbWUuc2xlZXAoMC4yNSkKCQlwcmludChmJyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJgnKTt0aW1lLnNsZWVwKDAuMjUpCgkJcGlvID0gaW5wdXQoZiJ7UX1be019P3tRfV0tLT5QaWxpaGFuIDogIikKCQlpZiBwaW8gaW4gKCIiLCIgIik6CgkJCWphbGFuKCIgLS0+SXNpIERlbmdhbiBCZW5hciAhISIpO3RpbWUuc2xlZXAoMSkKCQkJbWVudSgpCgkJZWxpZiBwaW8gaW4gKCIwMSIsIjEiKToKCQkJc2VsZi5wdWJsaWNfbWFzcygpCgkJCW9zLnN5cy5leGl0KCkKCQllbGlmIHBpbyBpbiAoIjAyIiwiMiIpOgoJCQlzZWxmLnB1YmxpY18oKQoJCQlvcy5zeXMuZXhpdCgpCgkJZWxpZiBwaW8gaW4gKCIwMyIsIjMiKToKCQkJc2VsZi5mb2xsb3dfKCkKCQkJb3Muc3lzLmV4aXQoKQoJCWVsaWYgcGlvIGluICgiMDQiLCI0Iik6CgkJCXNlbGYuZHVtcF9mb2xsb3dfdWx0aSgpCgkJCW9zLnN5cy5leGl0KCkKCQllbGlmIHBpbyBpbiAoIjA1IiwiNSIpOgoJCQlzZWxmLnBlbmNhcmlhbl9ub2xvZ2luKCkKCQkJb3Muc3lzLmV4aXQoKQoJCWVsaWYgcGlvIGluICgiMDYiLCI2Iik6CgkJCXNlbGYubGlrZXNfKCkKCQkJb3Muc3lzLmV4aXQoKQoJCWVsaWYgcGlvIGluICgiMDciLCI3Iik6CgkJCXNlbGYuY3JhY2tfZmlsZSgpCgkJCW9zLnN5cy5leGl0KCkKCQllbGlmIHBpbyBpbiAoIjA5IiwiOSIpOgoJCQlzZWxmLm1lbnVfZ3J1cCgpCgkJCW9zLnN5cy5leGl0KCkKCQllbGlmIHBpbyBpbiAoIjExIik6CgkJCXNlbGYuY2VrX2p1bWxhaF90ZW1hbigpCgkJCW9zLnN5cy5leGl0KCkKCQllbGlmIHBpbyBpbiAoIjEyIik6CgkJCXNlbGYucmVrKCkKCQkJaW5wdXQod2FyKydUZWthbiBFbnRlciAhJyk7dGltZS5zbGVlcCgzKQoJCQltZW51KCkKCQkJb3Muc3lzLmV4aXQoKQoJCWVsaWYgcGlvIGluICgiMTMiKToKCQkJc2VsZi5jaGVja19vcHNpaSgpCgkJCW9zLnN5cy5leGl0KCkKCQllbGlmIHBpbyBpbiAoIjE0Iik6CgkJCXNlbGYuU2hhcmVfUG9zdF92MigpCgkJCW9zLnN5cy5leGl0KCkKCQllbGlmIHBpbyBpbiAoIjE1Iik6CgkJCXNlbGYubWVudWp1d2EoKQoJCQlvcy5zeXMuZXhpdCgpCgkJZWxpZiBwaW8gaW4gKCIxNiIpOgoJCQlzZWxmLmhpZGVfdGtuKCkKCQkJb3Muc3lzLmV4aXQoKQoJCWVsaWYgcGlvIGluICgiMTciKToKCQkJc2VsZi5jZWtfYXBrX2hhc2lsX2NyaygpCgkJCW9zLnN5cy5leGl0KCkKCQllbGlmIHBpbyBpbiAoIjE4Iik6CgkJCXVzZXJhZ2VudCgpCgkJCW9zLnN5cy5leGl0KCkKCQllbGlmIHBpbyBpbiAoIjAwIik6CgkJCW9zLnN5c3RlbSgncm0gLXJmIC5sb2dpbi50eHQnKQoJCQlvcy5zeXN0ZW0oJ3JtIC1yZiAuY29va2llLnR4dCcpCgkJCWphbGFuKCIgfC0tPlRva2VuIEJlcmhhc2lsIERpaGFwdXMuLi4iKQoJCQlvcy5zeXMuZXhpdCgpCgkJZWxzZToKCQkJamFsYW4oIiAtLT5Ib3cgbXVjaCBkbyB5b3Ugd2FudCB0byBkdW1wPyAhISIpO3RpbWUuc2xlZXAoMSkKCQkJbWVudSgpCgoJZGVmIHB1YmxpY19tYXNzKHNlbGYpOgoJCXRyeToKCQkJdG9rZW4gPSBvcGVuKCIubG9naW4udHh0IiwgInIiKS5yZWFkKCkKCQlleGNlcHQgSU9FcnJvcjoKCQkJb3Muc3lzdGVtKCJybSAtcmYgLmxvZ2luLnR4dCIpCgkJCWV4aXQod2FyKyJUb2tlbiBGYWlsZWQgISEiKTt0aW1lLnNsZWVwKDIpCgkJdHJ5OgoJCQl0YW55YV90b3RhbCA9IGludChpbnB1dCh3YXIrIkhvdyBtdWNoIGRvIHlvdSB3YW50IHRvIGR1bXA/IDogIikpCgkJZXhjZXB0OnRhbnlhX3RvdGFsPTEKCQluYW1hZmkgPSB1dWlkLnV1aWQ0KCkuaGV4WzoxMF0udXBwZXIoKQoJCWR1bXAgPSBvcGVuKCdkdW1wLycrbmFtYWZpKycuanNvbicsJ3cnKSAKCQlqYWxhbigiIC0tPlR5cGUgPiIrSSsibWUiK1ErIjwgVG8gRHVtcCBZb3VyIE93biBEYXRhIikKCQlwcmludCgiICIpCgkJcHJpbnQoZiJbe019IXtRfV0tLT57T31FbnRlciBJZCBvciBUYXJnZXQgVXNlcm5hbWV7UX0iKQoJCXByaW50KCIgIikKCQlmb3IgdCBpbiByYW5nZSh0YW55YV90b3RhbCk6CgkJCXQgKz0xCgkJCWlkdCA9IGlucHV0KCIgLS0+VGFyZ2V0ICVzIDogIiUodCkpCgkJCXRyeToKCQkJCWlmIGlkdCA9PSAibWUiOmlkdCA9ICJtZSIKCQkJCWVsc2U6CgkJCQkJcGF5bG9hZCA9IHsiZmJ1cmwiOiAiaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS97fSIuZm9ybWF0KGlkdCksICJjaGVjayI6ICJMb29rdXAifQoJCQkJCWlmICJmYWNlYm9vayIgaW4gaWR0OgoJCQkJCQlwYXlsb2FkID0geyJmYnVybCI6IGlkdCwgImNoZWNrIjogIkxvb2t1cCJ9CgkJCQkJbW1rID0gcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9sb29rdXAtaWQuY29tLyIsIGRhdGE9cGF5bG9hZCkuY29udGVudAoJCQkJCXh4eCA9IHBhcihtbWssICJodG1sLnBhcnNlciIpCgkJCQkJaWR0dCA9IHh4eC5maW5kKCJzcGFuIiwgaWQ9ImNvZGUiKQoJCQkJCWFzdyA9IGlkdHQudGV4dAoJCQkJCWlkdCA9IGFzdwoJCQlleGNlcHQ6aWR0ID0gaWR0CgkJCWxpbWl0ID0gKCIxMDAwMCIpCgkJCXRyeToKCQkJCWlmIGlkdCA9PSAibWUiIG9yICJtZSIgPT0gaWR0OgoJCQkJCW90dyA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvP2FjY2Vzc190b2tlbj0iK3Rva2VuKQoJCQkJCW9wID0ganNvbi5sb2FkcyhvdHcudGV4dCkKCQkJCWVsc2U6CgkJCQkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2VuKQoJCQkJCW9wID0ganNvbi5sb2Fkcyhqb2sudGV4dCkKCQkJCXRyeToKCQkJCQluYW1hID0gb3BbJ25hbWUnXQoJCQkJZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6CgkJCQkJbmFtYSA9ICgiTmFtZSBOb3QgRm91bmQgISIpCgoJCQlleGNlcHQgRXhjZXB0aW9uIGFzIGU6CgkJCQlqYWxhbigiLS0+U29ycnkgSUQgIitDK2lkdCtRKyIgVGhpcyBXYXMgTm90IEZvdW5kICEgKCIrc3RyKGUpKyIpIikKCQkJCWNvbnRpbnVlCgkJCWphbGFuKCIgLS0+TmFtYSAgIDogIitJK25hbWErUSkKCQkJdHJ5OgoJCQkJZHVtcCA9IG9wZW4oJ2R1bXAvJytuYW1hZmkrJy5qc29uJywnYSsnKSAKCQkJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/ZmllbGRzPWZyaWVuZHMuZmllbGRzKGlkLG5hbWUpJmFjY2Vzc190b2tlbj0iK3Rva2VuKQoJCQkJeiA9IGpzb24ubG9hZHMoci50ZXh0KVsiZnJpZW5kcyJdCgkJCQlmb3IgaSBpbiB6WyJkYXRhIl06CgkJCQkJdHJ5OgoJCQkJCQl1aWQgPSBpWyJpZCJdCgkJCQkJCW5hbWEgPSBpWyJuYW1lIl0KCQkJCQkJaWQuYXBwZW5kKHVpZCsiPD0+IituYW1hKQoJCQkJCQlkdW1wLndyaXRlKHVpZCsnPD0+JytuYW1hKydcbicpCgkJCQkJZXhjZXB0OnBhc3MKCQkJCWR1bXAuY2xvc2UoKQoJCQlleGNlcHQgS2V5RXJyb3I6cGFzcwoJCWlkXyA9ICgiJXMiJShsZW4oaWQpKSkKCQlpZiBpZF8gPT0gIjAiIG9yICIwIiA9PSBpZF86CgkJCWphbGFuKCIgLS0+S2VtdW5na2luYW4gSWR6IFlhbmcgQW5kYSBNYXN1a2FuIFRpZGFrIERpUHVibGlja2FuICEhIikKCQllbHNlOgoJCQlwcmludChmIlt7Q33igKJ7UX1dLS0+VG90YWwgSUQgOiB7T30lcyVzIiUobGVuKGlkKSxRKSkKCQkJamFsYW4oIiAtLT5OYW1hIEhhc2lsIER1bXAgOiAiK0krImR1bXAvIituYW1hZmkrIi5qc29uIitRKQoJCQlqYWxhbigiIC0tPlBsZWFzZSBDb3B5IHRoZSBEdW1wIFJlc3VsdCBOYW1lICEhIikKCQkJamFsYW4oIiAtLT5EbyB5b3Ugd2FudCB0byBkaXJlY3RseSBjcmFjayB3aXRoIHRoaXMgZmlsZSAoWS9uKSA6ICIpCgkJCXp6ID0gaW5wdXQod2FyKyctLT5QaWxpaCA6ICcpCgkJCWlmIHp6IGluIFsiWSIsICJ5IiwgIlllcyIsICIxIl06CgkJCQljcmFja21lbnUoImR1bXAvIituYW1hZmkrIi5qc29uIikucGFzc21lbnUoImR1bXAvIituYW1hZmkrIi5qc29uIikKCQkJCWV4aXQoKQoJCQllbHNlOgoJCQkJcGFzcwoJCWlucHV0KGYiW3tNfSF7UX1dIFRla2FuIEVudGVyICEhIikKCQltZW51KCkKCWRlZiBwdWJsaWNfKHNlbGYpOgoJCXRyeToKCQkJdG9rZW4gPSBvcGVuKCIubG9naW4udHh0IiwgInIiKS5yZWFkKCkKCQlleGNlcHQgSU9FcnJvcjoKCQkJb3Muc3lzdGVtKCJybSAtcmYgLmxvZ2luLnR4dCIpCgkJCWV4aXQod2FyKyJUb2tlbiBGYWlsZWQgISEiKTt0aW1lLnNsZWVwKDIpCgkJbmFtYWZpID0gdXVpZC51dWlkNCgpLmhleFs6MTBdLnVwcGVyKCkKCQlkdW1wID0gb3BlbignZHVtcC8nK25hbWFmaSsnLmpzb24nLCd3JykgCgkJamFsYW4oIiAtLT5LZXRpayA+IitJKyJtZSIrUSsiPCBVbnR1ayBEdW1wIERhdGEgU2VuZGlyaSIpCgkJcHJpbnQoIiAiKQoJCXByaW50KGYiW3tNfSF7UX1dLS0+e099RW50ZXIgSWQgb3IgVGFyZ2V0IFVzZXJuYW1le1F9IikKCQlwcmludCgiICIpCgkJaWR0ID0gaW5wdXQoIiAtLT5UYXJnZXQgOiIpCgkJdHJ5OgoJCQlpZiBpZHQgPT0gIm1lIjppZHQgPSAibWUiCgkJCWVsc2U6CgkJCQlwYXlsb2FkID0geyJmYnVybCI6ICJodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL3t9Ii5mb3JtYXQoaWR0KSwgImNoZWNrIjogIkxvb2t1cCJ9CgkJCQlpZiAiZmFjZWJvb2siIGluIGlkdDoKCQkJCQlwYXlsb2FkID0geyJmYnVybCI6IGlkdCwgImNoZWNrIjogIkxvb2t1cCJ9CgkJCQltbWsgPSByZXF1ZXN0cy5wb3N0KCJodHRwczovL2xvb2t1cC1pZC5jb20vIiwgZGF0YT1wYXlsb2FkKS5jb250ZW50CgkJCQl4eHggPSBwYXIobW1rLCAiaHRtbC5wYXJzZXIiKQoJCQkJaWR0dCA9IHh4eC5maW5kKCJzcGFuIiwgaWQ9ImNvZGUiKQoJCQkJYXN3ID0gaWR0dC50ZXh0CgkJCQlpZHQgPSBhc3cKCQlleGNlcHQ6aWR0ID0gaWR0CgkJbGltaXQgPSAoIjEwMDAwIikKCQl0cnk6CgkJCWlmIGlkdCA9PSAibWUiIG9yICJtZSIgPT0gaWR0OgoJCQkJb3R3ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS8/YWNjZXNzX3Rva2VuPSIrdG9rZW4pCgkJCQlvcCA9IGpzb24ubG9hZHMob3R3LnRleHQpCgkJCWVsc2U6CgkJCQlqb2sgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZW4pCgkJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXRyeToKCQkJCW5hbWEgPSBvcFsnbmFtZSddCgkJCWV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOgoJCQkJbmFtYSA9ICgiTmFtZSBOb3QgRm91bmQgISIpCgkJZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgoJCQlqYWxhbigifC0tPlNvcnJ5IElEICIrQytpZHQrUSsiIEluaSBUaWRhayBEaVRlbXVrYW4gISAoIitzdHIoZSkrIikiKQoJCQl0aW1lLnNsZWVwKDIpCgkJCW1lbnUoKQoJCWphbGFuKCIgfC0tPk5hbWEgICA6ICIrSStuYW1hK1EpCgkJdHJ5OgoJCQlkdW1wID0gb3BlbignZHVtcC8nK25hbWFmaSsnLmpzb24nLCdhKycpCgkJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/ZmllbGRzPWZyaWVuZHMuZmllbGRzKGlkLG5hbWUpJmFjY2Vzc190b2tlbj0iK3Rva2VuKQoJCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpWyJmcmllbmRzIl0KCQkJZm9yIGkgaW4gelsiZGF0YSJdOgoJCQkJdHJ5OgoJCQkJCXVpZCA9IGlbImlkIl0KCQkJCQluYW1hID0gaVsibmFtZSJdCgkJCQkJaWQuYXBwZW5kKHVpZCsiPD0+IituYW1hKQoJCQkJCWR1bXAud3JpdGUodWlkKyc8PT4nK25hbWErJ1xuJykKCQkJCWV4Y2VwdDpwYXNzCgkJCWR1bXAuY2xvc2UoKQoJCWV4Y2VwdCBLZXlFcnJvcjpwYXNzCgkJaWRfID0gKCIlcyIlKGxlbihpZCkpKQoJCWlmIGlkXyA9PSAiMCIgb3IgIjAiID09IGlkXzoKCQkJamFsYW4oIiB8LS0+S2VtdW5na2luYW4gSWR6IFlhbmcgQW5kYSBNYXN1a2FuIFRpZGFrIERpUHVibGlja2FuICEhIikKCQllbHNlOgoJCQlwcmludChmIlt7Q33igKJ7UX1dLS0+VG90YWwgSUQgOiB7T30lcyVzIiUobGVuKGlkKSxRKSkKCQkJamFsYW4oIiB8LS0+TmFtYSBIYXNpbCBEdW1wIDogIitJKyJkdW1wLyIrbmFtYWZpKyIuanNvbiIrUSkKCQkJamFsYW4oIiB8LS0+UGxlYXNlIENvcHkgdGhlIER1bXAgUmVzdWx0IE5hbWUgISEiKQoJCQlqYWxhbigiIHwtLT5EbyB5b3Ugd2FudCB0byBkaXJlY3RseSBjcmFjayB3aXRoIHRoaXMgZmlsZSAoWS9uKSA6ICIpCgkJCXp6ID0gaW5wdXQod2FyKyctLT5QaWxpaCA6ICcpCgkJCWlmIHp6IGluIFsiWSIsICJ5IiwgIlllcyIsICIxIl06CgkJCQljcmFja21lbnUoImR1bXAvIituYW1hZmkrIi5qc29uIikucGFzc21lbnUoImR1bXAvIituYW1hZmkrIi5qc29uIikKCQkJCWV4aXQoKQoJCQllbHNlOgoJCQkJcGFzcwoJCWlucHV0KGYiW3tNfSF7UX1dIFRla2FuIEVudGVyICEhIikKCQltZW51KCkKCWRlZiBwdWJsaWNfYW1iaWxfb2xkKHNlbGYpOgoJCXRyeToKCQkJdG9rZW4gPSBvcGVuKCIubG9naW4udHh0IiwgInIiKS5yZWFkKCkKCQlleGNlcHQgSU9FcnJvcjoKCQkJb3Muc3lzdGVtKCJybSAtcmYgLmxvZ2luLnR4dCIpCgkJCWV4aXQod2FyKyJUb2tlbiBGYWlsZWQgISEiKTt0aW1lLnNsZWVwKDIpCgkJbmFtYWZpID0gdXVpZC51dWlkNCgpLmhleFs6MTBdLnVwcGVyKCkKCQlkdW1wID0gb3BlbignZHVtcC8nK25hbWFmaSsnLmpzb24nLCd3JykgCgkJamFsYW4oIiB8LS0+S2V0aWsgPiIrSSsibWUiK1ErIjwgVW50dWsgRHVtcCBEYXRhIFNlbmRpcmkiKQoJCXByaW50KCIgfCIpCgkJcHJpbnQoZiJbe019IXtRfV0tLT57T31NYXN1a2FuIElkeiBBdGF1IFVzZXJuYW1lIFRhcmdldHtRfSIpCgkJcHJpbnQoIiB8IikKCQlpZHQgPSBpbnB1dCgiIHwtLT5UYXJnZXQgOiIpCgkJdHJ5OgoJCQlpZiBpZHQgPT0gIm1lIjppZHQgPSAibWUiCgkJCWVsc2U6CgkJCQlwYXlsb2FkID0geyJmYnVybCI6ICJodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL3t9Ii5mb3JtYXQoaWR0KSwgImNoZWNrIjogIkxvb2t1cCJ9CgkJCQlpZiAiZmFjZWJvb2siIGluIGlkdDoKCQkJCQlwYXlsb2FkID0geyJmYnVybCI6IGlkdCwgImNoZWNrIjogIkxvb2t1cCJ9CgkJCQltbWsgPSByZXF1ZXN0cy5wb3N0KCJodHRwczovL2xvb2t1cC1pZC5jb20vIiwgZGF0YT1wYXlsb2FkKS5jb250ZW50CgkJCQl4eHggPSBwYXIobW1rLCAiaHRtbC5wYXJzZXIiKQoJCQkJaWR0dCA9IHh4eC5maW5kKCJzcGFuIiwgaWQ9ImNvZGUiKQoJCQkJYXN3ID0gaWR0dC50ZXh0CgkJCQlpZHQgPSBhc3cKCQlleGNlcHQ6aWR0ID0gaWR0CgkJbGltaXQgPSAoIjEwMDAwIikKCQl0cnk6CgkJCWlmIGlkdCA9PSAibWUiIG9yICJtZSIgPT0gaWR0OgoJCQkJb3R3ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS8/YWNjZXNzX3Rva2VuPSIrdG9rZW4pCgkJCQlvcCA9IGpzb24ubG9hZHMob3R3LnRleHQpCgkJCWVsc2U6CgkJCQlqb2sgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZW4pCgkJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXRyeToKCQkJCW5hbWEgPSBvcFsnbmFtZSddCgkJCWV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOgoJCQkJbmFtYSA9ICgiTmFtYSBUaWRhayBEaVRlbXVrYW4gISIpCgkJZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgoJCQlqYWxhbigifC0tPk1hYWYgSUQgIitDK2lkdCtRKyIgSW5pIFRpZGFrIERpVGVtdWthbiAhICgiK3N0cihlKSsiKSIpCgkJCXRpbWUuc2xlZXAoMikKCQkJbWVudSgpCgkJamFsYW4oIiB8LS0+TmFtYSAgIDogIitJK25hbWErUSkKCQl0cnk6CgkJCWR1bXAgPSBvcGVuKCdkdW1wLycrbmFtYWZpKycuanNvbicsJ2ErJykKCQkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9maWVsZHM9ZnJpZW5kcy5maWVsZHMoaWQsbmFtZSkmYWNjZXNzX3Rva2VuPSIrdG9rZW4pCgkJCXogPSBqc29uLmxvYWRzKHIudGV4dClbImZyaWVuZHMiXQoJCQlmb3IgaSBpbiB6WyJkYXRhIl06CgkJCQl0cnk6CgkJCQkJdWlkID0gaVsiaWQiXQoJCQkJCW5hbWEgPSBpWyJuYW1lIl0KCQkJCQlpZC5hcHBlbmQodWlkKyI8PT4iK25hbWEpCgkJCQkJZHVtcC53cml0ZSh1aWQrJzw9PicrbmFtYSsnXG4nKQoJCQkJZXhjZXB0OnBhc3MKCQkJZHVtcC5jbG9zZSgpCgkJZXhjZXB0IEtleUVycm9yOnBhc3MKCQlpZF8gPSAoIiVzIiUobGVuKGlkKSkpCgkJaWYgaWRfID09ICIwIiBvciAiMCIgPT0gaWRfOgoJCQlqYWxhbigiIHwtLT5LZW11bmdraW5hbiBJZHogWWFuZyBBbmRhIE1hc3VrYW4gVGlkYWsgRGlQdWJsaWNrYW4gISEiKQoJCWVsc2U6CgkJCXByaW50KGYiW3tDfeKAontRfV0tLT5Ub3RhbCBJRCA6IHtPfSVzJXMiJShsZW4oaWQpLFEpKQoJCQlqYWxhbigiIHwtLT5OYW1hIEhhc2lsIER1bXAgOiAiK0krImR1bXAvIituYW1hZmkrIi5qc29uIitRKQoJCQlqYWxhbigiIHwtLT5TaWxhaGthbiBDb3B5IE5hbWEgSGFzaWwgRHVtcCBUYWRpICEhIikKCQkJamFsYW4oIiB8LS0+QXBha2FoIEFuZGEgTWF1IExhc3VuZyBDcmFjayBEZW5nYW4gRmlsZSBJbmkgKFkvbikgOiAiKQoJCQl6eiA9IGlucHV0KHdhcisnLS0+UGlsaWggOiAnKQoJCQlpZiB6eiBpbiBbIlkiLCAieSIsICJZZXMiLCAiMSJdOgoJCQkJY3JhY2ttZW51KCJkdW1wLyIrbmFtYWZpKyIuanNvbiIpLnBhc3NtZW51KCJkdW1wLyIrbmFtYWZpKyIuanNvbiIpCgkJCQlleGl0KCkKCQkJZWxzZToKCQkJCXBhc3MKCQlpbnB1dChmIlt7TX0he1F9XSBUZWthbiBFbnRlciAhISIpCgkJbWVudSgpCglkZWYgZm9sbG93XyhzZWxmKToKCQl0cnk6CgkJCXRva2VuID0gb3BlbigiLmxvZ2luLnR4dCIsICJyIikucmVhZCgpCgkJZXhjZXB0IElPRXJyb3I6CgkJCW9zLnN5c3RlbSgicm0gLXJmIC5sb2dpbi50eHQiKQoJCQlleGl0KHdhcisiVG9rZW4gRmFpbGVkICEhIik7dGltZS5zbGVlcCgyKQoJCW5hbWFmaSA9IHV1aWQudXVpZDQoKS5oZXhbOjEwXS51cHBlcigpCgkJZHVtcCA9IG9wZW4oJ2R1bXAvJytuYW1hZmkrJy5qc29uJywndycpIAoJCWphbGFuKCIgfC0tPktldGlrID4iK0krIm1lIitRKyI8IFVudHVrIER1bXAgRGF0YSBTZW5kaXJpIikKCQlwcmludCgiIHwiKQoJCXByaW50KGYiW3tNfSF7UX1dLS0+e099TWFzdWthbiBJZHogQXRhdSBVc2VybmFtZSBUYXJnZXR7UX0iKQoJCXByaW50KCIgfCIpCgkJaWR0ID0gaW5wdXQoIiB8LS0+VGFyZ2V0IDoiKQoJCXRyeToKCQkJaWYgaWR0ID09ICJtZSI6aWR0ID0gIm1lIgoJCQllbHNlOgoJCQkJcGF5bG9hZCA9IHsiZmJ1cmwiOiAiaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS97fSIuZm9ybWF0KGlkdCksICJjaGVjayI6ICJMb29rdXAifQoJCQkJaWYgImZhY2Vib29rIiBpbiBpZHQ6CgkJCQkJcGF5bG9hZCA9IHsiZmJ1cmwiOiBpZHQsICJjaGVjayI6ICJMb29rdXAifQoJCQkJbW1rID0gcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9sb29rdXAtaWQuY29tLyIsIGRhdGE9cGF5bG9hZCkuY29udGVudAoJCQkJeHh4ID0gcGFyKG1taywgImh0bWwucGFyc2VyIikKCQkJCWlkdHQgPSB4eHguZmluZCgic3BhbiIsIGlkPSJjb2RlIikKCQkJCWFzdyA9IGlkdHQudGV4dAoJCQkJaWR0ID0gYXN3CgkJZXhjZXB0OmlkdCA9IGlkdAoJCWxpbWl0ID0gKCIxMDAwMCIpCgkJdHJ5OgoJCQlpZiBpZHQgPT0gIm1lIiBvciAibWUiID09IGlkdDoKCQkJCW90dyA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvP2FjY2Vzc190b2tlbj0iK3Rva2VuKQoJCQkJb3AgPSBqc29uLmxvYWRzKG90dy50ZXh0KQoJCQllbHNlOgoJCQkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2VuKQoJCQkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCQl0cnk6CgkJCQluYW1hID0gb3BbJ25hbWUnXQoJCQlleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKToKCQkJCW5hbWEgPSAoIk5hbWEgVGlkYWsgRGlUZW11a2FuICEiKQoJCWV4Y2VwdCBFeGNlcHRpb24gYXMgZToKCQkJamFsYW4oInwtLT5NYWFmIElEICIrQytpZHQrUSsiIEluaSBUaWRhayBEaVRlbXVrYW4gISAoIitzdHIoZSkrIikiKQoJCQl0aW1lLnNsZWVwKDIpCgkJCW1lbnUoKQoJCWphbGFuKCIgfC0tPk5hbWEgICA6ICIrSStuYW1hK1EpCgkJdHJ5OgoJCQlkdW1wID0gb3BlbignZHVtcC8nK25hbWFmaSsnLmpzb24nLCdhKycpCgkJCWZvciBpIGluIHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIi9zdWJzY3JpYmVycz9saW1pdD0iK2xpbWl0KyImYWNjZXNzX3Rva2VuPSIrdG9rZW4pLmpzb24oKVsiZGF0YSJdOgoJCQkJdHJ5OgoJCQkJCXVpZCA9IGlbImlkIl0KCQkJCQluYW1hID0gaVsibmFtZSJdCgkJCQkJaWQuYXBwZW5kKHVpZCsiPD0+IituYW1hKQoJCQkJCWR1bXAud3JpdGUodWlkKyc8PT4nK25hbWErJ1xuJykKCQkJCWV4Y2VwdDpwYXNzCgkJCWR1bXAuY2xvc2UoKQoJCWV4Y2VwdCBLZXlFcnJvcjpwYXNzCgkJaWRfID0gKCIlcyIlKGxlbihpZCkpKQoJCWlmIGlkXyA9PSAiMCIgb3IgIjAiID09IGlkXzoKCQkJamFsYW4oIiB8LS0+S2VtdW5na2luYW4gSWR6IFlhbmcgQW5kYSBNYXN1a2FuIFRpZGFrIERpUHVibGlja2FuICEhIikKCQllbHNlOgoJCQlwcmludChmIlt7Q33igKJ7UX1dLS0+VG90YWwgSUQgOiB7T30lcyVzIiUobGVuKGlkKSxRKSkKCQkJamFsYW4oIiB8LS0+TmFtYSBIYXNpbCBEdW1wIDogIitJKyJkdW1wLyIrbmFtYWZpKyIuanNvbiIrUSkKCQkJamFsYW4oIiB8LS0+U2lsYWhrYW4gQ29weSBOYW1hIEhhc2lsIER1bXAgVGFkaSAhISIpCgkJCWphbGFuKCIgfC0tPkFwYWthaCBBbmRhIE1hdSBMYXN1bmcgQ3JhY2sgRGVuZ2FuIEZpbGUgSW5pIChZL24pIDogIikKCQkJenogPSBpbnB1dCh3YXIrJy0tPlBpbGloIDogJykKCQkJaWYgenogaW4gWyJZIiwgInkiLCAiWWVzIiwgIjEiXToKCQkJCWNyYWNrbWVudSgiZHVtcC8iK25hbWFmaSsiLmpzb24iKS5wYXNzbWVudSgiZHVtcC8iK25hbWFmaSsiLmpzb24iKQoJCQkJZXhpdCgpCgkJCWVsc2U6CgkJCQlwYXNzCgkJaW5wdXQoZiJbe019IXtRfV0gVGVrYW4gRW50ZXIgISEiKQoJCW1lbnUoKQoJZGVmIGR1bXBfZm9sbG93X3VsdGkoc2VsZik6CgkJbmV4dHQgPSAiIgoJCXRyeToKCQkJdG9rZW4gPSBvcGVuKCIubG9naW4udHh0IiwgInIiKS5yZWFkKCkKCQlleGNlcHQgSU9FcnJvcjoKCQkJb3Muc3lzdGVtKCJybSAtcmYgLmxvZ2luLnR4dCIpCgkJCWV4aXQod2FyKyJUb2tlbiBGYWlsZWQgISEiKTt0aW1lLnNsZWVwKDIpCgkJbmFtYWZpID0gdXVpZC51dWlkNCgpLmhleFs6MTBdLnVwcGVyKCkKCQlkdW1wID0gb3BlbignZHVtcC8nK25hbWFmaSsnLmpzb24nLCd3JykgCgkJamFsYW4oIiB8LS0+S2V0aWsgPiIrSSsibWUiK1ErIjwgVW50dWsgRHVtcCBEYXRhIFNlbmRpcmkiKQoJCXByaW50KCIgfCIpCgkJcHJpbnQoZiJbe019IXtRfV0tLT57T31NYXN1a2FuIElkeiBBdGF1IFVzZXJuYW1lIFRhcmdldHtRfSIpCgkJcHJpbnQoIiB8IikKCQlpZHQgPSBpbnB1dCgiIHwtLT5UYXJnZXQgOiIpCgkJdHJ5OgoJCQlpZiBpZHQgPT0gIm1lIjppZHQgPSAibWUiCgkJCWVsc2U6CgkJCQlwYXlsb2FkID0geyJmYnVybCI6ICJodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL3t9Ii5mb3JtYXQoaWR0KSwgImNoZWNrIjogIkxvb2t1cCJ9CgkJCQlpZiAiZmFjZWJvb2siIGluIGlkdDoKCQkJCQlwYXlsb2FkID0geyJmYnVybCI6IGlkdCwgImNoZWNrIjogIkxvb2t1cCJ9CgkJCQltbWsgPSByZXF1ZXN0cy5wb3N0KCJodHRwczovL2xvb2t1cC1pZC5jb20vIiwgZGF0YT1wYXlsb2FkKS5jb250ZW50CgkJCQl4eHggPSBwYXIobW1rLCAiaHRtbC5wYXJzZXIiKQoJCQkJaWR0dCA9IHh4eC5maW5kKCJzcGFuIiwgaWQ9ImNvZGUiKQoJCQkJYXN3ID0gaWR0dC50ZXh0CgkJCQlpZHQgPSBhc3cKCQlleGNlcHQ6aWR0ID0gaWR0CgkJbGltaXQgPSAoIjEwMDAwIikKCQl0cnk6CgkJCWlmIGlkdCA9PSAibWUiIG9yICJtZSIgPT0gaWR0OgoJCQkJb3R3ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS8/YWNjZXNzX3Rva2VuPSIrdG9rZW4pCgkJCQlvcCA9IGpzb24ubG9hZHMob3R3LnRleHQpCgkJCWVsc2U6CgkJCQlqb2sgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZW4pCgkJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXRyeToKCQkJCW5hbWEgPSBvcFsnbmFtZSddCgkJCWV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOgoJCQkJbmFtYSA9ICgiTmFtYSBUaWRhayBEaVRlbXVrYW4gISIpCgkJZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgoJCQlqYWxhbigifC0tPk1hYWYgSUQgIitDK2lkdCtRKyIgSW5pIFRpZGFrIERpVGVtdWthbiAhICgiK3N0cihlKSsiKSIpCgkJCXRpbWUuc2xlZXAoMikKCQkJbWVudSgpCgkJbGltaXQgPSAiNTAwMCIKCQlqYWxhbigiIHwtLT5OYW1hICAgOiAiK0krbmFtYStRKQoJCWphbGFuKCcgfC0tPlRla2FuIENUUkwgKyBDIFVudHVrIFN0b3AgRHVtcCAhJykKCgkJdHJ5OgoJCQlkdW1wID0gb3BlbignZHVtcC8nK25hbWFmaSsnLmpzb24nLCdhKycpIAoJCQlmb3IgaSBpbiByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyIvc3Vic2NyaWJlcnM/bGltaXQ9IitsaW1pdCsiJmFjY2Vzc190b2tlbj0iK3Rva2VuKS5qc29uKClbImRhdGEiXToKCQkJCXRyeToKCQkJCQl1aWQgPSBpWyJpZCJdCgkJCQkJbmFtYSA9IGlbIm5hbWUiXQoJCQkJCWlkLmFwcGVuZCh1aWQrIjw9PiIrbmFtYSkKCQkJCQlkdW1wLndyaXRlKHVpZCsnPD0+JytuYW1hKydcbicpCgkJCQlleGNlcHQ6cGFzcwoJCQlkdW1wLmNsb3NlKCkKCQkJcHJpbnQoIiB8LS0+VG90YWwgSUQgOiAlcyIlKGxlbihvcGVuKCJkdW1wLyIrbmFtYWZpKyIuanNvbiIsInIiKS5yZWFkbGluZXMoKSkpKQoJCWV4Y2VwdDpwYXNzCgkJdHJ5OgoJCQlpID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiL3N1YnNjcmliZXJzP2xpbWl0PTUwMDAmYWNjZXNzX3Rva2VuPSIrdG9rZW4pLmpzb24oKVsicGFnaW5nIl1bIm5leHQiXQoJCQlzZWxmLmtlX3NpdHUoaSwgbmFtYWZpKQoJCWV4Y2VwdDpwYXNzCgkJaWRfID0gKCIlcyIlKGxlbihvcGVuKCJkdW1wLyIrbmFtYWZpKyIuanNvbiIsInIiKS5yZWFkbGluZXMoKSkpKQoJCWlmIGlkXyA9PSAiMCIgb3IgIjAiID09IGlkXzoKCQkJamFsYW4oIiB8LS0+S2VtdW5na2luYW4gSWR6IFlhbmcgQW5kYSBNYXN1a2FuIFRpZGFrIERpUHVibGlja2FuICEhIikKCQllbHNlOgoJCQlqYWxhbigiIHwtLT5OYW1hIEhhc2lsIER1bXAgOiAiK0krImR1bXAvIituYW1hZmkrIi5qc29uIitRKQoJCQlqYWxhbigiIHwtLT5TaWxhaGthbiBDb3B5IE5hbWEgSGFzaWwgRHVtcCBUYWRpICEhIikKCQkJamFsYW4oIiB8LS0+QXBha2FoIEFuZGEgTWF1IExhc3VuZyBDcmFjayBEZW5nYW4gRmlsZSBJbmkgKFkvbikgOiAiKQoJCQl6eiA9IGlucHV0KHdhcisnUGlsaWggOiAnKQoJCQlpZiB6eiBpbiBbIlkiLCAieSIsICJZZXMiLCAiMSJdOgoJCQkJY3JhY2ttZW51KCJkdW1wLyIrbmFtYWZpKyIuanNvbiIpLnBhc3NtZW51KCJkdW1wLyIrbmFtYWZpKyIuanNvbiIpCgkJCQlleGl0KCkKCQkJZWxzZToKCQkJCXBhc3MKCQlpbnB1dCh3YXIrIlRla2FuIEVudGVyICEhIikKCQltZW51KCkKCgoJZGVmIGtlX3NpdHUoc2VsZiwgeG5oYSwgbmFtYWYpOgoJCWlkID0gW10KCQl4bm4gPSB4bmhhCgkJbmFtYWEgPSBuYW1hZgoJCXRyeToKCQkJZHVtcCA9IG9wZW4oJ2R1bXAvJytuYW1hZisnLmpzb24nLCdhKycpIAoJCQlmb3IgaSBpbiByZXF1ZXN0cy5nZXQoeG5oYSkuanNvbigpWyJkYXRhIl06CgkJCQl0cnk6CgkJCQkJdWlkID0gaVsiaWQiXQoJCQkJCW5hbWEgPSBpWyJuYW1lIl0KCQkJCQlpZC5hcHBlbmQodWlkKyI8PT4iK25hbWEpCgkJCQkJZHVtcC53cml0ZSh1aWQrJzw9PicrbmFtYSsnXG4nKQoJCQkJZXhjZXB0OnBhc3MKCQkJZHVtcC5jbG9zZSgpCgkJZXhjZXB0IEtleUVycm9yOnBhc3MKCQlwcmludCgiIHwtLT5Ub3RhbCBJRCA6ICVzIiUobGVuKG9wZW4oImR1bXAvIituYW1hZisiLmpzb24iLCJyIikucmVhZGxpbmVzKCkpKSkKCQl0cnk6CgkJCWkgPSByZXF1ZXN0cy5nZXQoeG5oYSkuanNvbigpWyJwYWdpbmciXVsibmV4dCJdCgkJCXNlbGYua2Vfc2l0dShpLCBuYW1hYSkKCQlleGNlcHQ6cGFzcwoJZGVmIHBlbmNhcmlhbl9ub2xvZ2luKHNlbGYpOgoJCW5hbWFmaSA9IHV1aWQudXVpZDQoKS5oZXhbOjEwXS51cHBlcigpCgkJZHVtcCA9IG9wZW4oJ2R1bXAvJytuYW1hZmkrJy5qc29uJywndycpCgkJamFsYW4oIiB8LS0+SGFzaWwgRHVtcCBEYXJpIFBlbmNhcmlhbiBOYW1hIERpU2ltcGFuIDogIitPKyJkdW1wLyIrbmFtYWZpKyIuanNvbiIrUSkKCQl0cnk6anVtID0gaW50KGlucHV0KCIgfC0tPkp1bWxhaCBUYXJnZXQgOiAiKSkKCQlleGNlcHQ6anVtID0gMQoJCXByaW50KGYiIHwtLT57T31NYXN1a2FuIE5hbWEgVGFyZ2V0e1F9IikKCQlwcmludCgiIHwiKQoJCWZvciB0IGluIHJhbmdlKGp1bSk6CgkJCXQgKz0xCgkJCWlkdCA9IGlucHV0KGYiIHwtLT5OYW1hIDogIikKCQkJcHJpbnQoIiB8IikKCQkJc2VsZi5kdW1wX3BlbmNhcmlhbihmImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9wdWJsaWMve2lkdH0/L2xvY2FsZTI9aWRfSUQiLG5hbWFmaSkKCQljcmFja21lbnUoImR1bXAvIituYW1hZmkrIi5qc29uIikucGFzc21lbnUoImR1bXAvIituYW1hZmkrIi5qc29uIikKCQlleGl0KCkKCglkZWYgZHVtcF9wZW5jYXJpYW4oc2VsZixsaW5rLG5hbWZpKToKCQlyID0gcGFyc2VyKHNlcy5nZXQoc3RyKGxpbmspKS50ZXh0LCdodG1sLnBhcnNlcicpCgkJbmFtYXFxID0gbmFtZmkKCQl0cnk6CgkJCWZvciB4IGluIHIuZmluZF9hbGwoJ3RkJyk6CgkJCQl0cnk6CgkJCQkJZGF0YSA9IHJlLmZpbmRhbGwoJ1w8YVwgaHJlZlw9XCJcLyguKj8pXCI+XDxkaXZcIGNsYXNzXD1cIi4qP1wiPlw8ZGl2XCBjbGFzc1w9XCIuKj9cIj4oLio/KTxcL2Rpdlw+JyxzdHIoeCkpIAoJCQkJCWZvciB1aWQsbmFtYSBpbiBkYXRhOgoJCQkJCQlpZiAncHJvZmlsZS5waHA/JyBpbiB1aWQ6CgkJCQkJCQl1aWQgPSByZS5maW5kYWxsKCdpZD0oLiopJyxzdHIodWlkKSlbMF0KCQkJCQkJZWxpZiAnPHNwYW4nIGluIG5hbWE6CgkJCQkJCQluYW1hID0gcmUuZmluZGFsbCgnKC4qPylcPCcsc3RyKG5hbWEpKVswXQoJCQkJCQlpZC5hcHBlbmQodWlkKyc8PT4nK25hbWEpCgkJCQkJCW9wZW4oJ2R1bXAvJytuYW1maSsnLmpzb24nLCdhKycpLndyaXRlKHVpZCsnPD0+JytuYW1hKydcbicpCgkJCQkJbGluayA9IHIuZmluZCgnYScsc3RyaW5nPSdMaWhhdCBIYXNpbCBTZWxhbmp1dG55YScpLmdldCgnaHJlZicpCgkJCQkJaWYobGluayk6CgkJCQkJCXN5cy5zdGRvdXQud3JpdGUoZiJcciB8LS0+U2VkYW5nIE1lbmd1bXB1bGthbiB7T317bGVuKGlkKX17UX0gSWR6Li4uIiksCgkJCQkJCXN5cy5zdGRvdXQuZmx1c2goKQoJCQkJCQlzZWxmLmR1bXBfcGVuY2FyaWFuKGxpbmssbmFtYXFxKQoJCQkJZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OmJyZWFrCgkJZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgoJCQlvcy5zeXMuZXhpdCgpCglkZWYgbGlrZXNfKHNlbGYpOgoJCXRyeToKCQkJdG9rZW4gPSBvcGVuKCIubG9naW4udHh0IiwgInIiKS5yZWFkKCkKCQlleGNlcHQgSU9FcnJvcjoKCQkJb3Muc3lzdGVtKCJybSAtcmYgLmxvZ2luLnR4dCIpCgkJCWV4aXQod2FyKyJUb2tlbiBGYWlsZWQgISEiKTt0aW1lLnNsZWVwKDIpCgkJbmFtYWZpID0gdXVpZC51dWlkNCgpLmhleFs6MTBdLnVwcGVyKCkKCQlkdW1wID0gb3BlbignZHVtcC8nK25hbWFmaSsnLmpzb24nLCd3JykgCgkJcHJpbnQoIiB8IikKCQlwcmludCgiIHwiKQoJCXByaW50KGYiW3tNfSF7UX1dLS0+e099TWFzdWthbiBJZHogUG9zdGluZ2Fue1F9IikKCQlwcmludCgiIHwiKQoJCWlkdCA9IGlucHV0KCIgfC0tPlRhcmdldCA6IikKCQl0cnk6CgkJCWR1bXAgPSBvcGVuKCdkdW1wLycrbmFtYWZpKycuanNvbicsJ2ErJykKCQkJZm9yIGkgaW4gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8lcy9saWtlcz9saW1pdD01MDAwJmFjY2Vzc190b2tlbj0lcyIlKGlkdCwgdG9rZW4pKS5qc29uKClbImRhdGEiXToKCQkJCXRyeToKCQkJCQl1aWQgPSBpWyJpZCJdCgkJCQkJbmFtYSA9IGlbIm5hbWUiXQoJCQkJCWlkLmFwcGVuZCh1aWQrIjw9PiIrbmFtYSkKCQkJCQlkdW1wLndyaXRlKHVpZCsnPD0+JytuYW1hKydcbicpCgkJCQlleGNlcHQ6cGFzcwoJCQlkdW1wLmNsb3NlKCkKCQlleGNlcHQgS2V5RXJyb3I6cGFzcwoJCWlkXyA9ICgiJXMiJShsZW4oaWQpKSkKCQlpZiBpZF8gPT0gIjAiIG9yICIwIiA9PSBpZF86CgkJCWphbGFuKCIgfC0tPktlbXVuZ2tpbmFuIElkeiBZYW5nIEFuZGEgTWFzdWthbiBUaWRhayBEaVB1YmxpY2thbiAhISIpCgkJZWxzZToKCQkJcHJpbnQoZiJbe0N94oCie1F9XS0tPlRvdGFsIElEIDoge099JXMlcyIlKGxlbihpZCksUSkpCgkJCWphbGFuKCIgfC0tPk5hbWEgSGFzaWwgRHVtcCA6ICIrSSsiZHVtcC8iK25hbWFmaSsiLmpzb24iK1EpCgkJCWphbGFuKCIgfC0tPlNpbGFoa2FuIENvcHkgTmFtYSBIYXNpbCBEdW1wIFRhZGkgISEiKQoJCQlqYWxhbigiIHwtLT5BcGFrYWggQW5kYSBNYXUgTGFzdW5nIENyYWNrIERlbmdhbiBGaWxlIEluaSAoWS9uKSA6ICIpCgkJCXp6ID0gaW5wdXQod2FyKyctLT5QaWxpaCA6ICcpCgkJCWlmIHp6IGluIFsiWSIsICJ5IiwgIlllcyIsICIxIl06CgkJCQljcmFja21lbnUoImR1bXAvIituYW1hZmkrIi5qc29uIikucGFzc21lbnUoImR1bXAvIituYW1hZmkrIi5qc29uIikKCQkJCWV4aXQoKQoJCQllbHNlOgoJCQkJcGFzcwoJCWlucHV0KGYiW3tNfSF7UX1dIFRla2FuIEVudGVyICEhIikKCQltZW51KCkKCWRlZiBjcmFja19maWxlKHNlbGYpOgoJCWRpcnMgPSBvcy5saXN0ZGlyKCJkdW1wIikKCQlmb3IgZmlsZSBpbiBkaXJzOgoJCQlmaWxleCA9ICgiZHVtcC8iK2ZpbGUpCgkJCXRyeToKCQkJCWp1bWEgPSBvcGVuKGZpbGV4LCJyIikucmVhZGxpbmVzKCkKCQkJCXRvdGFsID0gKCIlcyIlKHN0cihsZW4oanVtYSkpKSkKCQkJZXhjZXB0OnRvdGFsID0gKCIwIikKCQkJcHJpbnQoUSsiIHwtLT4iK0MrZmlsZXgrVSsiPC0tfC0tPiIrUStLK3RvdGFsK1EpCgkJZGVmIHBpbGloX2ZpbGUoKToKCQkJdHJ5OgoJCQkJZmlsZSA9IGlucHV0KCIgfC0tPk5hbWEgRmlsZSA6ICIpCgkJCQljcmFja21lbnUoZmlsZSkucGFzc21lbnUoZmlsZSkKCQkJCW9zLnN5cy5leGl0KCkKCQkJZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOgoJCQkJamFsYW4oIiB8LS0+TWFhZiBGaWxlIFlhbmcgQW5kYSBNYXN1a2FuIFRpZGFrIEFkYS4uLi4iKQoJCQkJdGltZS5zbGVlcCgxKQoJCQkJcHJpbnQoIiB8IikKCQkJCXBpbGloX2ZpbGUoKQoJCQlvcy5zeXMuZXhpdCgpCgkJcHJpbnQoIiB8IikKCQlwaWxpaF9maWxlKCkKCQlwcmludCgiIHwiKQoKCWRlZiBtZW51X2dydXAoc2VsZik6CgkJdHJ5OgoJCQljb2sgPSBvcGVuKCIuY29va2llLnR4dCIsInIiKS5yZWFkKCkKCQlleGNlcHQ6CgkJCWphbGFuKCIgfC0tPk1hYWYgQW5kYSBCZWx1bSBMb2dpbiBDb29raWVzLi4uIEFuZGEgTWVudWp1IExvZ2luIENva2llcyIpCgkJCXRpbWUuc2xlZXAoMSkKCQkJY29va2llX21lKCkKCQkJb3Muc3lzLmV4aXQoKQoJCXByaW50KCcgfCcpCgkJcHJpbnQoZicgfC0tPjEuIE1hc3Vha2FuIElkeiAoe099TWFudWFse1F9KScpCgkJcHJpbnQoZicgfC0tPjIuIE90b21hdGlzICh7T31BbWJpbCBEYXJpIEdydXAgU2VuZGlyaXtRfSknKQoJCXByaW50KCcgfCcpCgkJcWl3ID0gaW5wdXQoIiB8LS0+UGlsaWggOiAiKQoJCWlmIHFpdyBpbiAoIiIsIiAiKToKCQkJamFsYW4oZicgfC0tPkphbmdhbiBLb3NvbnYgS29udG9sLi4uLicpCgkJCXRpbWUuc2xlZXAoMSkKCQkJc2VsZi5tZW51X2dydXAoKQoJCWVsaWYgcWl3IGluICgiMSIsIjAxIik6CgkJCXNlbGYubWFudWFsXygpCgkJCW9zLnN5cy5leGl0KCkKCQllbGlmIHFpdyBpbiAoIjIiLCIwMiIpOgoJCQlzZWxmLmFtYmlsX2Rpcmlfc2VuZGlyaShvcGVuKCIubG9naW4udHh0IiwiciIpLnJlYWQoKSkKCQkJb3Muc3lzLmV4aXQoKQoJCWVsc2U6CgkJCWphbGFuKGYnIHwtLT5Jc2kgRGVuZ2FuIEJlbmFyIERvbnYuLi4uJykKCQkJdGltZS5zbGVlcCgxKQoJCQlzZWxmLm1lbnVfZ3J1cCgpCgoKCglkZWYgbWFudWFsXyhzZWxmKToKCQluYW1hZmkgPSB1dWlkLnV1aWQ0KCkuaGV4WzoxMF0udXBwZXIoKQoJCWR1bXAgPSBvcGVuKCdkdW1wLycrbmFtYWZpKycuanNvbicsJ3cnKQoJCWphbGFuKCIgfC0tPkhhc2lsIER1bXAgRGFyaSBHcnVwIERpU2ltcGFuIDogIitPKyJkdW1wLyIrbmFtYWZpKyIuanNvbiIrUSkKCQl0cnk6CgkJCWNvayA9IG9wZW4oIi5jb29raWUudHh0IiwiciIpLnJlYWQoKQoJCWV4Y2VwdDoKCQkJamFsYW4oIiB8LS0+TWFhZiBBbmRhIEJlbHVtIExvZ2luIENvb2tpZXMuLi4gQW5kYSBNZW51anUgTG9naW4gQ29raWVzIikKCQkJdGltZS5zbGVlcCgxKQoJCQljb29raWVfbWUoKQoJCQlvcy5zeXMuZXhpdCgpCgkJa3VlID0geyJjb29raWUiOmNva30KCQlwcmludCgiIHwiKQoJCWphbGFuKGYiIHwtLT57T31NYXN1YWthbiBJZHogR3J1b3B7UX0iKQoJCWlkZyA9IGlucHV0KCIgfC0tPlRhcmdldCA6ICIpCgkJdXJsX2dyb3VwID0gImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9icm93c2UvZ3JvdXAvbWVtYmVycy8/aWQ9IitpZGcKCQlzZWxmLmdyb3VwKGt1ZSwgdXJsX2dyb3VwLCBuYW1hZmkpCgkJY3JhY2ttZW51KCJkdW1wLyIrbmFtYWZpKyIuanNvbiIpLnBhc3NtZW51KCJkdW1wLyIrbmFtYWZpKyIuanNvbiIpCgkJZXhpdCgpCglkZWYgZ3JvdXAoc2VsZiwga3VlLCB1cmxfZ3JvdXAsIG5hbWFfZmkpOgoJCW5hbWFfZmYgPSBuYW1hX2ZpCgkJdHJ5OgoJCQlzb3BfZGV2ID0gcGFyc2VyKHNlcy5nZXQodXJsX2dyb3VwLCBjb29raWVzPWt1ZSkuY29udGVudCwgImh0bWwucGFyc2VyIikKCQkJbWVtYmVycyA9IHNvcF9kZXYuZmluZCgiZGl2IiwgaWQ9Im9iamVjdHNfY29udGFpbmVyIikKCQkJZm9yIGRldiBpbiBtZW1iZXJzLmZpbmRfYWxsKCJ0YWJsZSIpOgoJCQkJdHJ5OgoJCQkJCXVzZXJfID0gZGV2WyJpZCJdLnJlcGxhY2UoIm1lbWJlcl8iLCAiIikKCQkJCQluYW1hXyA9IHJlLmZpbmRhbGwoJzxpbWcgYWx0PSIoLiopLCBwcm9maWxlIHBpY3R1cmUiJywgc3RyKGRldikpWzBdCgkJCQkJaWQuYXBwZW5kKHN0cih1c2VyXykrIjw9PiIrc3RyKG5hbWFfKSkKCQkJCQlvcGVuKCdkdW1wLycrbmFtYV9maSsnLmpzb24nLCdhKycpLndyaXRlKHN0cih1c2VyXykrJzw9Picrc3RyKG5hbWFfKSsnXG4nKQoJCQkJCXN5cy5zdGRvdXQud3JpdGUoZiJcciB8LS0+U2VkYW5nIE1lbmd1bXB1bGthbiB7T317bGVuKGlkKX17UX0gSWR6Li4uIiksCgkJCQkJc3lzLnN0ZG91dC5mbHVzaCgpCgkJCQlleGNlcHQ6cGFzcwoJCQlpZiAiTGloYXQgU2VsZW5na2FwbnlhIiBpbiBzdHIoc29wX2Rldik6CgkJCQl1cmwgPSBzb3BfZGV2LmZpbmQoImEiLCBzdHJpbmc9IkxpaGF0IFNlbGVuZ2thcG55YSIpWyJocmVmIl0KCQkJCXVybF9ncnVwID0gImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIrdXJsCgkJCQlzZWxmLmdyb3VwKGt1ZSwgdXJsX2dydXAsIG5hbWFfZmYpCgkJZXhjZXB0OnBhc3MKCWRlZiBhbWJpbF9kaXJpX3NlbmRpcmkoc2VsZiwgdG9rZW4pOgoJCW5hbWFmaSA9IHV1aWQudXVpZDQoKS5oZXhbOjEwXS51cHBlcigpCgkJZHVtcCA9IG9wZW4oJ2R1bXAvJytuYW1hZmkrJy5qc29uJywndycpCgkJamFsYW4oIiB8LS0+SGFzaWwgRHVtcCBEYXJpIEdydXAgRGlTaW1wYW4gOiAiK08rImR1bXAvIituYW1hZmkrIi5qc29uIitRKQoJCXRyeToKCQkJY29rID0gb3BlbigiLmNvb2tpZS50eHQiLCJyIikucmVhZCgpCgkJZXhjZXB0OgoJCQlqYWxhbigiIHwtLT5NYWFmIEFuZGEgQmVsdW0gTG9naW4gQ29va2llcy4uLiBBbmRhIE1lbnVqdSBMb2dpbiBDb2tpZXMiKQoJCQl0aW1lLnNsZWVwKDEpCgkJCWNvb2tpZV9tZSgpCgkJCW9zLnN5cy5leGl0KCkKCQlrdWUgPSB7ImNvb2tpZSI6Y29rfQoJCW5vID0gMAoJCXRyeToKCQkJZm9yIGkgaW4gc2VzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZ3JvdXBzP2FjY2Vzc190b2tlbj0lcyIlKHRva2VuKSkuanNvbigpWyJkYXRhIl06CgkJCQl0cnk6CgkJCQkJaWRfZ3JvdXAuYXBwZW5kKGlbImlkIl0pCgkJCQkJbm8gKz0xCgkJCQkJcHJpbnQoIiB8LS0+JXMuICVzJXMlczwtLXwtLT4lcyVzJXMiJShzdHIobm8pLCBVLCBpWyJuYW1lIl0sIFEsIEMsIGlbJ2lkJ10sIFEpKQoJCQkJZXhjZXB0OnBhc3MKCQlleGNlcHQ6CgkJCWphbGFuKCIgfC0tPk1hYWYgVG9rZW4gRGFuIENvb2tpZXMgQW5kYSBTdWRhaCBLYWRhbHVhcnNhLi4iKQoJCQl0cnk6b3MucmVtb3ZlKCIuY29va2llLnR4dCIpCgkJCWV4Y2VwdDpwYXNzCgkJCXRyeTpvcy5yZW1vdmUoIi5sb2dpbi50eHQiKQoJCQlleGNlcHQ6cGFzcwoJCQlvcy5zeXMuZXhpdCgpCgkJamFsYW4oZiIgfC0tPntPfVRvdGFsIElkeiBHcnVwIFRlcmt1bXB1bCA6IHtsZW4oaWRfZ3JvdXApfXtRfSIpCgkJZm9yIGlkZyBpbiBpZF9ncm91cDoKCQkJdHJ5OgoJCQkJcHJpbnQoIlxuIHwiKQoJCQkJdXJsX2dyb3VwID0gImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9icm93c2UvZ3JvdXAvbWVtYmVycy8/aWQ9IitpZGcKCQkJCXNlbGYuZ3JvdXAoa3VlLCB1cmxfZ3JvdXAsIG5hbWFmaSkKCQkJZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OmJyZWFrCgkJY3JhY2ttZW51KCJkdW1wLyIrbmFtYWZpKyIuanNvbiIpLnBhc3NtZW51KCJkdW1wLyIrbmFtYWZpKyIuanNvbiIpCgkJZXhpdCgpCgoKCgoJZGVmIGNla19qdW1sYWhfdGVtYW4oc2VsZik6CgkJdHJ5OgoJCQl0b2tlbiA9IG9wZW4oIi5sb2dpbi50eHQiLCAiciIpLnJlYWQoKQoJCQl0b2tldCA9IG9wZW4oIi5sb2dpbi50eHQiLCAiciIpLnJlYWQoKQoJCWV4Y2VwdCBJT0Vycm9yOgoJCQlvcy5zeXN0ZW0oInJtIC1yZiAubG9naW4udHh0IikKCQkJb3Muc3lzLmV4aXQod2FyKyJUb2tlbiBGYWlsZWQgISEiKTt0aW1lLnNsZWVwKDIpCgkJcHJpbnQoJyB8JykKCQlqYWxhbigiIHwtLT5LZXRpayA+IitJKyJtZSIrUSsiPCBVbnR1ayBEdW1wIERhdGEgU2VuZGlyaSIpCgkJamFsYW4oIiB8LS0+TWFzdWthbiBJZHogQXRhdSBVc2VybmFtZSBUYXJnZXQiKQoJCXByaW50KCcgfCcpCgkJaWR0ID0gaW5wdXQoIiB8LS0+VGFyZ2V0IDoiKQoJCXRyeToKCQkJaWYgaWR0ID09ICJtZSI6aWR0ID0gIm1lIgoJCQllbHNlOgoJCQkJcGF5bG9hZCA9IHsiZmJ1cmwiOiAiaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS97fSIuZm9ybWF0KGlkdCksICJjaGVjayI6ICJMb29rdXAifQoJCQkJaWYgImZhY2Vib29rIiBpbiBpZHQ6CgkJCQkJcGF5bG9hZCA9IHsiZmJ1cmwiOiBpZHQsICJjaGVjayI6ICJMb29rdXAifQoJCQkJbW1rID0gcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9sb29rdXAtaWQuY29tLyIsIGRhdGE9cGF5bG9hZCkuY29udGVudAoJCQkJeHh4ID0gcGFyKG1taywgImh0bWwucGFyc2VyIikKCQkJCWlkdHQgPSB4eHguZmluZCgic3BhbiIsIGlkPSJjb2RlIikKCQkJCWFzdyA9IGlkdHQudGV4dAoJCQkJaWR0ID0gYXN3CgkJZXhjZXB0OmlkdCA9IGlkdAoJCWR1bXAgPSBvcGVuKCcuamFuZ2FuZWRpdCcsJ3cnKSAKCQl0cnk6CgkJCWR1bXAgPSBvcGVuKCcuamFuZ2FuZWRpdCcsJ2ErJykgCgkJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/ZmllbGRzPWZyaWVuZHMuZmllbGRzKGlkLG5hbWUpJmFjY2Vzc190b2tlbj0iK3Rva2VuKQoJCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpWyJmcmllbmRzIl0KCQkJZm9yIGkgaW4gelsiZGF0YSJdOgoJCQkJdWlkID0gaVsiaWQiXQoJCQkJbmFtYSA9IGlbIm5hbWUiXQoJCQkJaWQuYXBwZW5kKHVpZCsiPD0+IituYW1hKQoJCQkJZHVtcC53cml0ZSh1aWQrJzw9PicrbmFtYSsnXG4nKQoJCQlkdW1wLmNsb3NlKCkKCQlleGNlcHQgS2V5RXJyb3I6cGFzcwoJCWlkXyA9ICgiJXMiJShsZW4oaWQpKSkKCQlpZiBpZF8gPT0gIjAiIG9yICIwIiA9PSBpZF86CgkJCWphbGFuKCIgfC0tPktlbXVuZ2tpbmFuIElkICIraWR0KyIgSW5pIFRpZGFrIERpUHVibGlja2FuICEhIikKCQkJdGltZS5zbGVlcCgyKQoJCQlzZWxmLmNla19qdW1sYWhfdGVtYW4oKQoJCWVsc2U6CgkJCXByaW50KCIgfC0tPlRvdGFsIElEIDogJXMiJShsZW4oaWQpKSkKCQkJd2l0aCBfX0tpa3lfXyhtYXhfd29ya2Vycz0yMCkgYXMgKGtpa3lfZ3RnKToKCQkJCWp1bWEgPSBvcGVuKCIuamFuZ2FuZWRpdCIsInIiKS5yZWFkbGluZXMoKQoJCQkJZm9yIGRhdGEgaW4ganVtYToKCQkJCQlkYXRhID0gZGF0YS5yZXBsYWNlKCJcbiIsIiIpCgkJCQkJa2lreSA9IGRhdGEuc3BsaXQoIjw9PiIpCgkJCQkJbWFsID0gKCIlcyIlKGtpa3lbMF0pKQoJCQkJCW5tID0gKCIlcyIlKGtpa3lbMV0pKQoJCQkJCWtpa3lfZ3RnLnN1Ym1pdChzZWxmLmxvbnRlXywgbWFsLCB0b2tldCwgdG9rZW4pCglkZWYgbG9udGVfKHNlbGYsIG1sLCB0b2tlbiwgdG9rZXQpOgoJCXRyeToKCQkJZ29ibG9rID0gW10KCQkJdG9sb2wgPSBbXQoJCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK21sKyI/ZmllbGRzPWZyaWVuZHMuZmllbGRzKGlkLG5hbWUpJmFjY2Vzc190b2tlbj0iK3Rva2VuKQoJCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpWyJmcmllbmRzIl0KCQkJZm9yIGkgaW4gelsiZGF0YSJdOgoJCQkJYW5ha19rb250b2xfYW5ha19hbmppbmdfcGFudGVrX2xvbnRlX2JlbnRhcl9sYWdpX21hdV90YWh1bl9iYXJ1X2tvbnRvbCA9IGlbImlkIl0KCQkJCWdvYmxvay5hcHBlbmQoYW5ha19rb250b2xfYW5ha19hbmppbmdfcGFudGVrX2xvbnRlX2JlbnRhcl9sYWdpX21hdV90YWh1bl9iYXJ1X2tvbnRvbCkKCQkJZm9yIGkgaW4gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK21sKyIvc3Vic2NyaWJlcnM/bGltaXQ9OTk5OSZhY2Nlc3NfdG9rZW49Iit0b2tlbikuanNvbigpWyJkYXRhIl06CgkJCQlhbmFrX2tvbnRvbF9hbmFrX2FuamluZ19wYW50ZWtfbG9udGVfYmVudGFyX2xhZ2lfbWF1X3RhaHVuX2JhcnVfa29udG9sX2FzdyA9IGlbImlkIl0KCQkJCXRvbG9sLmFwcGVuZChhbmFrX2tvbnRvbF9hbmFrX2FuamluZ19wYW50ZWtfbG9udGVfYmVudGFyX2xhZ2lfbWF1X3RhaHVuX2JhcnVfa29udG9sX2FzdykKCQlleGNlcHQgS2V5RXJyb3I6cGFzcwoJCV9pZCA9ICgiJXMiJShsZW4oZ29ibG9rKSkpCgkJX2lkeCA9ICgiJXMiJShsZW4odG9sb2wpKSkKCQlpZiBfaWQgPT0gIjAiIG9yICIwIiA9PSBfaWQ6CgkJCXZvYSA9ICgiVGVtYW4gOiAlczAlcyIlKFUsUSkpCgkJZWxzZToKCQkJdm9hID0gKCJUZW1hbiA6ICVzJXMlcyIlKFUsX2lkLFEpKQoJCWlmIF9pZHggPT0gIjAiIG9yICIwIiA9PSBfaWR4OgoJCQl2b2F4ID0gKCJQZW5naWt1dCA6ICVzMCVzIiUoSSxRKSkKCQllbHNlOgoJCQl2b2F4ID0gKCJQZW5naWt1dCA6ICVzJXMlcyIlKEksX2lkeCxRKSkKCQlpZiB2b2EgPT0gIiIgb3IgIiIgPT0gdm9hOnBhc3MKCQllbHNlOgoJCQlwcmludCAoZiIgfC0tPntPfXttbH17UX08LS18LS0+e0N9e3ZvYX17UX08LS18LS0+e3ZvYXh9IikKCWRlZiBjZWtmaWxlX2NyayhzZWxmLCBmb2xkZXIpOgoJCWRpcnMgPSBvcy5saXN0ZGlyKGZvbGRlcikKCQlmb3IgZmlsZSBpbiBkaXJzOgoJCQlmaWxleCA9IChmb2xkZXIrIi8iK2ZpbGUpCgkJCXRyeToKCQkJCWp1bWEgPSBvcGVuKGZpbGV4LCJyIikucmVhZGxpbmVzKCkKCQkJCXRvdGFsID0gKCIlcyIlKHN0cihsZW4oanVtYSkpKSkKCQkJZXhjZXB0OnRvdGFsID0gKCIgPz8gIikKCQkJdHJ5Omlqb19fID0gZmlsZXguc3BsaXQoIkhhc2lsL09LLSIpWzFdO2lqb18gPSAoUSsiIHwtLT4iK0krIkhhc2lsL09LLSIraWpvX18pO3ByaW50KGlqb18rUSsiIDwtLXwtLT4gIitRK00rdG90YWwrUSkKCQkJZXhjZXB0OnBhc3MKCQkJdHJ5Omt1bmluZ19fID0gZmlsZXguc3BsaXQoIkhhc2lsL0NQLSIpWzFdO2t1bmluZ18gPSAoUSsiIHwtLT4iK0srIkhhc2lsL0NQLSIra3VuaW5nX18pO3ByaW50KGt1bmluZ18rUSsiIDwtLXwtLT4gIitRK00rdG90YWwrUSkKCQkJZXhjZXB0OnBhc3MKCWRlZiByZWsoc2VsZik6CgkJc2VsZi5jZWtmaWxlX2NyaygiSGFzaWwiKQoJCW5hbWF4PWlucHV0KCIgfC0tPk5hbWEgRmlsZSA6ICIpCgkJdHJ5OgoJCQlmaWxhPW9wZW4obmFtYXgsInIiKS5yZWFkbGluZXMoKQoJCWV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKCQkJamFsYW4oIiB8LS0+TWFhZiBGaWxlIFRpZGFrIERpVGVtdWthbiIpCgkJCXNlbGYucmVrKCkKCQl0cnk6CgkJCXZvbGFrID0gbmFtYXguc3BsaXQoIkNQLSIpWzFdO2NvcHlfcmkgPSAoIkNQIik7QXNzID0gKCIlcyIlKEspKTthU3MgPSBLCgkJZXhjZXB0OgoJCQl0cnk6CgkJCQl2b2sgPSBuYW1heC5zcGxpdCgiT0stIilbMV0KCQkJCWNvcHlfcmkgPSAoIk9LIikKCQkJCUFzcyA9ICgiJXMiJShJKSkKCQkJCWFTcyA9IEkKCQkJZXhjZXB0OgoJCQkJY29weV9yaSA9ICgiVnZpcCIpCgkJCQlBc3MgPSAoIiVzIiUoQykpCgkJCQlhU3MgPSBNCgkJcHJpbnQoIiB8LS0+SnVtbGFoIEFrdW4gOiIsbGVuKGZpbGEpLCJcbiIpCgkJd2l0aCBfX0tpa3lfXyhtYXhfd29ya2Vycz0zMCkgYXMgKGZvcm0pOgoJCQlmb3IgZGF0YSBpbiBmaWxhOgoJCQkJdHJ5OgoJCQkJCWRhdGEgPSBkYXRhLnJlcGxhY2UoIlxuIiwiIikKCQkJCQl0cnk6dXNlcixwdyx0bGwgPSBkYXRhLnNwbGl0KCJ8IikKCQkJCQlleGNlcHQ6dXNlcixwdyA9IGRhdGEuc3BsaXQoInwiKTt0bGw9KCIgLSAiKQoJCQkJCXByaW50KGYiIHtRfXwtLT57QXNzfXtjb3B5X3JpfXtRfS4ge2FTc317dXNlcn18e3B3fXx7dGxsfXtRfSIpCgkJCQlleGNlcHQ6cGFzcwoJCQkJdGltZS5zbGVlcCgwLjAxKQoJZGVmIGNla19hcGtfaGFzaWxfY3JrKHNlbGYpOgoJCXNlbGYuY2VrZmlsZV9jcmsoIkhhc2lsIikKCQluYW1hX3ogPSBpbnB1dCgiIHwtLT5OYW1hIEZpbGUgOiAiKQoJCWlmIG5hbWFfeiA9PSAiIjpqYWxhbigiIHwtLT5KYW5nYW4gS29zb25nIFNheWFuZyIpO3RpbWUuc2xlZXAoMik7ZXhpdCgpCgkJdHJ5OnRvdGFsX18gPSBsZW4ob3BlbihuYW1hX3osInIiKS5yZWFkbGluZXMoKSkKCQlleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6amFsYW4oIiB8LS0+TWFhZiBGaWxlIFRpZGFrIEFkYSIpO2V4aXQoKQoJCWphbGFuKCIgfC0tPlRvdGFsIEFrdW4gOiAiK0krc3RyKHRvdGFsX18pK1EpCgkJd2l0aCBfX0tpa3lfXyhtYXhfd29ya2Vycz03KSBhcyAoZm9ybSk6CgkJCWZvciBkYXRhIGluIG9wZW4obmFtYV96LCJyIikucmVhZGxpbmVzKCk6CgkJCQlkYXRhID0gZGF0YS5yZXBsYWNlKCJcbiIsIiIpCgkJCQl0cnk6dXNlciwgcHcgPSBkYXRhLnNwbGl0KCJ8IikKCQkJCWV4Y2VwdDp1c2VyLCBwdywgY29raSA9IGRhdGEuc3BsaXQoInwiKQoJCQkJYmFqaW5nYW4gPSAoJ1xyJXMgfC0tPiVzICVzfCVzfCVzICAgICAgICAgICAgICAgICAnICUgKFEsSSx1c2VyLHB3LGNva2kpKQoJCQkJZm9ybS5zdWJtaXQoY2VrX2Nvb2tpZXNfYnlfcmlza3ksIHVzZXIsIGNva2ksIGJhamluZ2FuKQoJCWV4aXQoKQoJZGVmIGNoZWNrX29wc2lpKHNlbGYpOgoJCXByaW50KCIgfCIpCgkJc2VsZi5jZWtmaWxlX2NyaygiSGFzaWwiKQoJCXByaW50KCIgfCIpCgkJbmFtYXg9aW5wdXQoIiB8LS0+TmFtYSBGaWxlIDogIikKCQl0cnk6CgkJCWZpbGE9b3BlbihuYW1heCwiciIpLnJlYWRsaW5lcygpCgkJZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOgoJCQlqYWxhbigiIHwtLT5NYWFmIEZpbGUgVGlkYWsgRGl0ZW11a2FuLi4iKQoJCQl0aW1lLnNsZWVwKDIpCgkJCXNlbGYuY2hlY2tfb3BzaWkoKQoJCWphbGFuKCIgfC0tPlNlYmVsdW0gTGFuanV0IEhhcmFwIEhpZHVwIE1hdGlrYW4gTW9kZSBQZXNhd2F0IFNlbGFtYSAyLkRldGlrIikKCQlwcmludCgiIHwtLT5Ub3RhbCBBa3VuIFlhbmcgQ2hlY2sgUG9pbnQgOiAlcyVzJXMiJShPLGxlbihmaWxhKSxRKSkKCQlwcmludCgiIHwiKQoJCXByaW50KCIgfCIpCgkJZm9yIG1lbWVrIGluIGZpbGE6CgkJCWtvbnRvbCA9IG1lbWVrLnJlcGxhY2UoIlxuIiwiIikKCQkJdGl0aWQgID0ga29udG9sLnNwbGl0KCJ8IikKCQkJcHJpbnQoIiB8IikKCQkJcHJpbnQoIiB8LS0+JXMiJShrb250b2wpKQoJCQl0cnk6Y3JhY2ttZW51KCJNZW1layIpLmNla19vcHNpX2NwKHRpdGlkWzBdLCB0aXRpZFsxXSkKCQkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOnBhc3MKCQkJZXhjZXB0OnBhc3MKCQlwcmludCgiIHwiKQoJCWphbGFuKCIgfC0tPkNoZWNrIEFrdW4gU3VkYWggU2VsZXNhaS4uLi4iKQoJCW9zLnN5cy5leGl0KCkKCglkZWYgcHJvc2VzXyhzZWxmLCB0b2tlbiwgaWR6LCBvcG9zdHQpOgoJCWgxID0geydhdXRob3JpdHknOidncmFwaC5mYWNlYm9vay5jb20nLCdjYWNoZS1jb250cm9sJzonbWF4LWFnZT0wJywnc2VjLWNoLXVhLW1vYmlsZSc6Jz8wJywndXNlci1hZ2VudCc6J01vemlsbGEvNS4wIChYMTE7IExpbnV4IHg4Nl82NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk4LjAuNDc1OC42NiBTYWZhcmkvNTM3LjM2J30KCQlkYW5jb2s9cmVxdWVzdHMucG9zdChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZlZWQ/bGluaz0iK2lkeisiJnB1Ymxpc2hlZD0wJmFjY2Vzc190b2tlbj0iK3Rva2VuLGhlYWRlcnM9aDEpLnRleHQKCQlpZiAnaWQnIGluIGRhbmNvazoKCQkJaWRfcCA9IGpzb24ubG9hZHMoZGFuY29rKVsnaWQnXQoJCQlwcmludChmIiB8LS0+e3N0cihvcG9zdHQpfS4gQmVyaGFzaWwgU2hhcmUgUG9zdGluZ2FuIHtJfXtpZF9wfXtRfSIpCgkJZWxzZToKCQkJcHJpbnQoIiB8LS0+R2FnYWwgU2hhcmUgUG9zdGluZ2FuIikKCglkZWYgU2hhcmVfUG9zdF92MihzZWxmKToKCQlnbG9iYWwgb3Bvc3QKCQl0cnk6CgkJCXRva2VuX21lID0gb3BlbigiLmxvZ2luLnR4dCIsInIiKS5yZWFkKCkKCQlleGNlcHQ6CgkJCWxvZ2luKCkKCQkJb3Muc3lzLmV4aXQoKQoJCXByaW50KCIgfCIpCgkJamFsYW4oIiB8LS0+TWFzdWthbiBMaW5rIFBvc3RpbmdhbiBBbmRhLi4iKQoJCWlkel9wb3N0ID0gaW5wdXQoIiB8LS0+VGFyZ2V0IFBvc3QgOiAiKQoJCXByaW50KCIgfCIpCgkJcHJpbnQoIiB8IikKCQl3aXRoIF9fS2lreV9fKG1heF93b3JrZXJzPTUpIGFzIChmb3JtKToKCQkJZm9yIGEgaW4gcmFuZ2UoOTk5OTk5OTkpOgoJCQkJb3Bvc3QgKz0gMQoJCQkJZm9ybS5zdWJtaXQoc2VsZi5wcm9zZXNfLHRva2VuX21lLGlkel9wb3N0LG9wb3N0KQoJCW9zLnN5cy5leGl0KCIgfC0tPkppa2EgQmVyaGVudGkgU2VuZGlyaSBDb2JhbGFoIEdhbnRpIFRva2VuIikKCglkZWYgc2hhcmVfcG9zdChzZWxmKToKCQlzdWtrc2VzID0gMAoJCWRlZiBjZXB0XyhpZHBvc3QpOgoJCQl0b2tlbiA9IG9wZW4oIi5sb2dpbi50eHQiLCAiciIpLnJlYWQoKQoJCQl0b2tldCA9IG9wZW4oIi5sb2dpbi50eHQiLCAiciIpLnJlYWQoKQoJCQl0cnk6CgkJCQlyZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjAvbWUvZmVlZD9tZXRob2Q9cG9zdCZwcml2YWN5PXsidmFsdWUiOiJFVkVSWU9ORSJ9Jm1lc3NhZ2U9Jmxpbms9aHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tLycrc3RyKGlkcG9zdCkrJyZhY2Nlc3NfdG9rZW49JytzdHIodG9rZW4pKQoJCQlleGNlcHQ6cGFzcwoJCXRyeToKCQkJdG9rZW4gPSBvcGVuKCIubG9naW4udHh0IiwgInIiKS5yZWFkKCkKCQkJdG9rZXQgPSBvcGVuKCIubG9naW4udHh0IiwgInIiKS5yZWFkKCkKCQlleGNlcHQgSU9FcnJvcjoKCQkJb3Muc3lzdGVtKCJybSAtcmYgLmxvZ2luLnR4dCIpCgkJCW9zLnN5cy5leGl0KHdhcisiVG9rZW4gRmFpbGVkICEhIik7dGltZS5zbGVlcCgyKQoJCWlkcG9zdHQgPSBpbnB1dCgnIHwtLT5JZHogUG9zdCA6ICcpCgkJaWYgaWRwb3N0dCBpbiAoIiIsIiAiKToKCQkJamFsYW4oJyB8LS0+SmFuZ2FuIEtvc29uZy4uLicpO3RpbWUuc2xlZXAoMikKCQkJc2VsZi5zaGFyZV9wb3N0KCkKCQl0cnk6bGltaXQgPSBpbnQoaW5wdXQoJyB8LS0+TGltaXQgU2hhcmUgOiAnKSkKCQlleGNlcHQ6bGltaXQgPSAxMDAKCQl0cnk6dGltZV9kZWxheSA9IGludChpbnB1dCgnIHwtLT5XYWt0dSBEZWxheSA6ICcpKQoJCWV4Y2VwdDp0aW1lX2RlbGF5ID0gMQoJCXByaW50KCIgfCIpCgkJamFsYW4oZiIgfC0tPntPfVNoYXJlIFBvc3QgU2VkYW5nIEJlcmphbGFuIEhhcmFwIFR1bmdndSBIaW5nZ2EgU2VsZXNhaS4uLntRfSIpCgkJamFsYW4oZiIgfC0tPntPfVNpbGFoa2FuIENoZWNrIFBvc3RpbmdhbiBZYW5nIEFuZGEgU2hhcmUgQXBha2FoIEJlcmphbGFuLi4ue1F9IikKCQlwcmludCgiIHwiKQoJCXdpdGggX19LaWt5X18obWF4X3dvcmtlcnM9MikgYXMgKGZvcm0pOgoJCQlmb3IgdCBpbiByYW5nZShsaW1pdCk6CgkJCQlzdWtrc2VzICs9IDEKCQkJCXN5cy5zdGRvdXQud3JpdGUoZidcciB8LS0+e1F9e099e3N1a2tzZXN9e1F9LntJfUJlcmhhc2lsIFNoYXJlIFBvc3R7UX0gOiB7c3RyKGlkcG9zdHQpfScpLAoJCQkJc3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAodGltZV9kZWxheSkKCQkJCWZvcm0uc3VibWl0KGNlcHRfLCBpZHBvc3R0KQoJCWphbGFuKCJcbiB8LS0+QmVyaGFzaWwgU2hhcmUgTGluay4uLiIpCgkJb3Muc3lzLmV4aXQoKQoJZGVmIG1lbnVqdXdhKHNlbGYpOgoJCW5vX3dhID0gIjYyODU5MjkzNDA3MjQiCgkJdXJsX3dhID0gKCJodHRwczovL2FwaS53aGF0c2FwcC5jb20vc2VuZD9waG9uZT0iK25vX3dhKyImdGV4dD1SZXBvcnQiKSAjIFVCQUggTk9NT1IgSFAgS0FNVQoJCXN1YnByb2Nlc3MuY2hlY2tfb3V0cHV0KFsiYW0iLCAic3RhcnQiLCB1cmxfd2FdKQoJZGVmIGhpZGVfdGtuKHNlbGYpOgoJCXRyeToKCQkJdG9rZW4gPSBvcGVuKCIubG9naW4udHh0IiwgInIiKS5yZWFkKCkKCQlleGNlcHQgSU9FcnJvcjoKCQkJb3Muc3lzdGVtKCJybSAtcmYgLmxvZ2luLnR4dCIpCgkJCWV4aXQod2FyKyJUb2tlbiBGYWlsZWQgISEiKTt0aW1lLnNsZWVwKDIpCgkJdHJ5OgoJCQljb2tlcyA9IG9wZW4oIi5jb29raWUudHh0IiwgInIiKS5yZWFkKCkKCQlleGNlcHQ6CgkJCWNva2VzID0gIiIKCQl0cnk6CgkJCXZ2ID0gc2VzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPSIrdG9rZW4pCgkJCXZhID0ganNvbi5sb2Fkcyh2di50ZXh0KQoJCWV4Y2VwdDpwYXNzCgkJdHJ5Om5hbWFxID0gdmFbIm5hbWUiXQoJCWV4Y2VwdDpuYW1hcSA9ICIiCgkJdHJ5OmlkX2EgPSB2YVsiaWQiXQoJCWV4Y2VwdDppZF9hID0gIiIKCQl0cnk6dXNlcnIgPSB2YVsidXNlcm5hbWUiXQoJCWV4Y2VwdDp1c2VyciA9ICIiCgkJdHJ5OnR0bCA9IHZhWyJiaXJ0aGRheSJdCgkJZXhjZXB0OnR0bCA9ICIiCgkJamFsYW4oZiIiIiB8CiB8LS0+TmFtYSBGYWNlYm9vayA6IHtPfXtuYW1hcX17UX0KIHwtLT5UYW5nZ2FsIExhaGlyIDoge099e3R0bH17UX0KIHwtLT5JZHogRmFjZWJvb2sgIDoge099e2lkX2F9e1F9CiB8LS0+VXNlcm5hbWUgICAgICA6IHtPfXt1c2Vycn17UX0KIHwKIHwtLT5Ub2tlbiA6IHtJSX17dG9rZW59e1F9CiB8LS0+Q29va2llOiB7VX17Y29rZXN9e1F9CiB8IiIiKQogCiAKICMgVVNFUiBBR0VOVApkZWYgdXNlcl9hZ2VudEFQSSgpOgoJdWdlbnQgPVsKCSAgICAiTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuNC4yOyB6aC1DTjsgSFVBV0VJIE1UNy1UTDAwIEJ1aWxkL0h1YXdlaU1UNy1UTDAwKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNDAuMC4yMjE0Ljg5IFVDQnJvd3Nlci8xMS4zLjguOTA5IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwKCSAgICAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBTTS1HOTcwRikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc1LjAuMzM5Ni44MSBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsCgkgICAgIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA4LjEuMDsgTUkgOCBCdWlsZC9PUE0xLjE3MTAxOS4wMTEpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS82OS4wLjM0OTcuODYgTW9iaWxlIFNhZmFyaS81MzcuMzYiLAoJICAgICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC4xLjI7IE5va2lhX1ggQnVpbGQvSlpPNTRLKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMzAuMC4xNTk5LjgyIE1vYmlsZSBTYWZhcmkvNTM3LjM2IE5va2lhQnJvd3Nlci8xLjIuMC4xMiIsCgkgICAgIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85MC4wLjQ0MzAuOTMgU2FmYXJpLzUzNy4zNiIsCgkgICAgIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA0LjEuMjsgTm9raWFfWCBCdWlsZC9KWk81NEspIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8yNy4wLjg3LjkwIE1vYmlsZSBTYWZhcmkvNTM3LjM2IE5va2lhQnJvd3Nlci8xLjAsZ3ppcChnZmUpIiwKICAgICAgICAiTm9raWFDMy0wMC81LjAgKDA3LjIwKSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArIiwKICAgICAgICAiTm9raWFYMi0wMC81LjAgKDA4LjM1KSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgKEphdmE7IFU7IGVuLXVzOyBub2tpYXgyLTAwKSIsCiAgICAgICAgIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdIiwKICAgICAgICAiTW96aWxsYS81LjAgKFdpbmRvd3M7IFU7IFdpbmRvd3MgTlQgNS4xOyBlbi1VUykgQXBwbGVXZWJLaXQvNTMyLjIgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWVQbHVzLzQuMC4yMjIuMyBDaHJvbWUvNC4wLjIyMi4zIFNhZmFyaS81MzIuMiIsCiAgICAgICAgIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA1LjA7IEFTVVNfWjAwQUQgQnVpbGQvTFJYMjFWKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvMzcuMC4wLjAgTW9iaWxlIFNhZmFyaS81MzcuMzYiLAogICAgICAgICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNS4xLjE7IE5hdm9yaSBRTCBTdGl4IDM1MDAgQnVpbGQvTE1ZNDlGOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzY3LjAuMzM5Ni44NyBTYWZhcmkvNTM3LjM2IiwKICAgICAgICAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDcuMDsgU00tRzkzMEYgQnVpbGQvTlJEOTBNOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzU4LjAuMzAyOS44MyBNb2JpbGUgU2FmYXJpLzUzNy4zNiBbRkJfSUFCL0ZCNEE7RkJBVi8xMjcuMC4wLjIyLjY5O10iLAogICAgICAgICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNy4wOyBNSEEtTDI5IEJ1aWxkL0hVQVdFSU1IQS1MMjk7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNTguMC4zMDI5LjgzIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQl9JQUIvRkI0QTtGQkFWLzEyNy4wLjAuMjIuNjk7XSIsCiAgICAgICAiTW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxMF8zXzIgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNjAzLjIuNCAoS0hUTUwsIGxpa2UgR2Vja28pIE1vYmlsZS8xNEY4OSBbRkJBTi9GQklPUztGQkFWLzk2LjAuMC40NS43MDtGQkJWLzYwNTQ4NTQ1O0ZCRFYvaVBob25lNywyO0ZCTUQvaVBob25lO0ZCU04vaU9TO0ZCU1YvMTAuMy4yO0ZCU1MvMjtGQkNSL0UtUGx1cztGQklEL3Bob25lO0ZCTEMvZGVfREU7RkJPUC81O0ZCUlYvMF0iLAogICAgICAgIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA0LjQuNDsgRzctTDAxIEJ1aWxkL0h1YXdlaUc3LUwwMSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzMzLjAuMC4wIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQl9JQUIvTUVTU0VOR0VSO0ZCQVYvMTIxLjAuMC4xNS43MDtdIiwKICAgICAgICJEYWx2aWsvMi4xLjAgKExpbnV4OyBVOyBBbmRyb2lkIDUuMS4xOyBTTS1KMzIwRiBCdWlsZC9MTVk0N1YpIFtGQkFOL0ZCNEE7RkJBVi80My4wLjAuMjkuMTQ3O0ZCUE4vY29tLmZhY2Vib29rLmthdGFuYTtGQkxDL2VuX0dCO0ZCQlYvMTQyNzQxNjE7RkJDUi9UZWxlMiBMVDtGQk1GL3NhbXN1bmc7RkJCRC9zYW1zdW5nO0ZCRFYvU00tSjMyMEY7RkJTVi81LjA7RkJDQS9hcm1lYWJpLXY3YTphcm1lYWJpO0ZCRE0ve2RlbnNpdHk9My4wLHdpZHRoPTEwODAsaGVpZ2h0PTE5MjB9O0ZCX0ZXLzE7XSIsCiAgICAgICAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBSZWRtaSBOb3RlIDkgUHJvIEJ1aWxkL1FLUTEuMTkxMjE1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS85MS4wLjQ0NzIuNzcgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCX0lBQi9GQjRBO0ZCQVYvMzI1LjAuMC4zNi4xNzA7XSIsCiAgICAgICAiW0ZCQU4vRkI0QSxGQkFWLzIyMi4wLjAuNDguMTEzO0ZCQlYvMTU1MzIzMzY2O0ZCRE0ve2RlbnNpdHk9Mi4wLHdpZHRoPTcyMCxoZWlnaHQ9MTM2MH07RkJMQy9zcl9SUztGQlJWLzE1NjYyNTY5NjtGQkNSL210OnM7RkJNRi9IVUFXRUk7RkJCRC9IVUFXRUksLkZCUE4vY29tLmZhY2Vib29rLmthdGFuYTtGQkRWL0xETi1MMjE7RkJTVi84LjAuMDtGQk9QLzE5LkZCQ0EvYXJtZWFiaS12N2E6YXJtZWFiaSxdIl0KCXJhbmRfdWEgPSByYW5kb20uY2hvaWNlKHVnZW50KQoJcmV0dXJuIHJhbmRfdWEKCQpkZWYgdXNlcmFnZW50KCk6CglwcmludCAoIlxuJXMlcyVzIDAxICVzR2FudGkgdXNlciBhZ2VudCAiJShVLHRpbCxQLE8pKQoJcHJpbnQgKCIlcyVzJXMgMDIgJXNDZWsgdXNlciBhZ2VudCAiJShVLHRpbCxQLE8pKQoJcHJpbnQgKCIlcyVzJXMgMDAgJXNLZW1iYWxpICIlKFUsdGlsLE0sTykpCglfcm9tel8gPSBpbnB1dCgnXG4lcyMlcyBQaWxpaCVzID4lcyAnJShQLE8sTSxLKSkKCXVhcyhfcm9tel8pCgkKZGVmIHVhcyhfcm9tel8pOgoJaWYgX3JvbXpfID09ICcnOgoJCXByaW50ICgnJXMlcyBpc2kgeWFuZyBiZW5hciclKE0sdGlsKSk7amVkYSgyKQoJCXVhcyhfcm9tel8pCgllbGlmIF9yb216XyBpbigiMSIsIjAxIik6CgkJcHJpbnQgKCIlcyVzJXMgS2V0aWsgJXNNeSB1c2VyIGFnZW50JXMgZGkgYnJvd3NlciBnb29nbGUgY2hyb21lXG4lcyVzJXMgdW50dWsgZ3VuYWthbiB1c2VyIGFnZW50IGFuZGEgc2VuZGlyaSIlKFUsdGlsLE8sSCxPLFUsdGlsLE8pKQoJCXByaW50ICgiJXMlcyVzIEtldGlrICVzQ2FuY2VsJXMgdW50dWsgZ3VuYWthbiB1c2VyIGFnZW50IGJhd2FhbiB0b29scyIlKFUsdGlsLE8sSCxPKSkKCQl1YSA9IGlucHV0KCIlcyVzJXMgRW50ZXIgdXNlciBhZ2VudCAlczogJXMiJShVLHRpbCxPLE0sSykpCgkJaWYgdWEgaW4oIiIpOgoJCQlwcmludCAoIiVzJXMgaXNpIHlhbmcgYmVuYXIgIiUoTSx0aWwpKTtqZWRhKDIpCgkJCW1lbnUoKQoJCWVsaWYgdWEgaW4oIm15IHVzZXIgYWdlbnQiLCJNeSBVc2VyIEFnZW50IiwiTVkgVVNFUiBBR0VOVCIsIk15IHVzZXIgYWdlbnQiKToKCQkJamFsYW4oIiVzJXMlcyBBbmRhIGFrYW4gZGkgYXJhaGthbiBrZSBicm93c2VyICIlKFUsdGlsLE8pKTtqZWRhKDIpCgkJCW9zLnN5c3RlbSgiYW0gc3RhcnQgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT1NeSt1c2VyK2FnZW50Pi9kZXYvbnVsbCIpO2plZGEoMikKCQkJdXNlcmFnZW50KF9yb216XykKCQllbGlmIHVhIGluKCJDQU5DRUwiLCJDYW5jZWwiLCJjYW5jZWwiKToKCQkJdWFfID0gKCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNltGQkFOL0VNQTtGQkxDL2l0X0lUO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XSIpCgkJCW9wZW4oInVhLnR4dCIsInciKS53cml0ZSh1YV8pO2plZGEoMikKCQkJcHJpbnQgKCJcbiVzJXMgbWVuZ2d1bmFrYW4gdXNlciBhZ2VudCBiYXdhYW4gIiUoSCx0aWwpKTtqZWRhKDIpCgkJCW1lbnUoKQoJCW9wZW4oInVhLnR4dCIsInciKS53cml0ZSh1YSk7amVkYSgyKQoJCXByaW50ICgiXG4lcyVzIGJlcmhhc2lsIG1lbmdnYW50aSB1c2VyIGFnZW50IiUoSCx0aWwpKTtqZWRhKDIpCgkJbWVudSgpCgllbGlmIF9yb216XyBpbigiMiIsIjAyIik6CgkJdHJ5OgoJCQl1YV8gPSBvcGVuKCd1YS50eHQnLCAncicpLnJlYWQoKTtqZWRhKDIpCgkJCXByaW50ICgiJXMlcyVzIHVzZXIgYWdlbnQgYW5kYSVzIDogJXMlcyIlKFUsdGlsLE8sTSxILHVhXykpO2plZGEoMikKCQkJaW5wdXQoJ1xuJXMlcyVzIFslcyBFbnRlciVzIF0gJyUoVSx0aWwsTyxVLE8pKQoJCQltZW51KCkKCQlleGNlcHQgSU9FcnJvcjoKCQkJdWFfID0gJyVzLSclKE0pCgllbGlmIF9yb216XyBpbigiMCIsIjAwIik6CgkJbWVudSgpCgllbHNlOgoJCXByaW50ICgnJXMlcyBpc2kgeWFuZyBiZW5hciclKE0sdGlsKSk7amVkYSgyKQoJCXVhcyhfcm9tel8pCgoKCgpjbGFzcyBjcmFja21lbnU6CglkZWYgX19pbml0X18oc2VsZixpc2lmaWxlKToKCQlzZWxmLmlkID0gW10KCWRlZiBtZW51X2NyYWNrKHNlbGYpOiAgICMgTUVUSE9EIEFVVE8gUEFTU1dST0QKCQlwcmludCgnICcpCgkJamFsYW4od2FyKyJTaWxhaGthbiBQaWxpaCBNZXRvZGUgTG9naW4gISIpCgkJcHJpbnQoJyAnKQoJCWphbGFuKCIg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIE1ldG9kZSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJAiKQoJCXByaW50KFErIiB8LS0+MS4gQi1BcGkgRnJlZSAgIFYxICAgICAgICAgICAgICAgICAgICB8Iik7dGltZS5zbGVlcCgwLjAyKQoJCXByaW50KFErIiB8LS0+Mi4gTW9iaWxlIFYyICAgICAgICAgICAgICAgICAgICAgICAgICB8Iik7dGltZS5zbGVlcCgwLjAyKQoJCXByaW50KFErIiB8LS0+My4gTW9iaWxlIFYzICgiK0lJKyJSZWNvbW1lbmRlZCBWNCIrUSsiKSAgICAgICAgIHwiKTt0aW1lLnNsZWVwKDAuMDIpCgkJcHJpbnQoUSsiIHwtLT40LiBNYmFzaWMgVjEgKCIrSUkrIiBCZXN0IENsb25pbmcgVjEiK1ErIikgICAgICAgICB8Iik7dGltZS5zbGVlcCgwLjAyKQoJCXByaW50KFErIiB8LS0+NS4gTWJhc2ljIFYyICgiK0lJKyJSZWNvbW1lbmRlZCBWMiIrUSsiKSAgICAgICAgICB8Iik7dGltZS5zbGVlcCgwLjAyKQoJCXByaW50KFErIiB8LS0+Ni4gTWJhc2ljIFYzICAgICAgICAgICAgICAgICAgICAgICAgICB8Iik7dGltZS5zbGVlcCgwLjAyKQoJCXByaW50KCcg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYJykKCWRlZiBtZW51X2NyYWNrX20oc2VsZik6ICAgIyBNRVRIT0QgTUFOVUFMIFBBU1NXT1JECgkJamFsYW4od2FyKyJQbGVhc2UgU2VsZWN0IExvZ2luIE1ldGhvZCAhIikKCQlwcmludCgnIHwnKQoJCWphbGFuKCIgfC0tPlBsZWFzZSB0cnkgb25lIGJ5IG9uZSwgZG9uJ3QgZm9yZ2V0IHRvIHR1cm4gb24gYW5kIG9mZiBhaXJwbGFuZSBtb2RlIikKCQlwcmludChRKyIgfC0tPjEuIE1vYmlsZSBWMSAiKTt0aW1lLnNsZWVwKDAuMDIpCgkJcHJpbnQoJyB8JykKCWRlZiBwcm9fc2VzKHNlbGYpOgoJCXByaW50KCcg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQJykKCQlqYWxhbihmIiB8LS0+Q1AgQ3JhY2sgUmVzdWx0cyBEaVNpbXBhbiA6IHtLfVJlc3VsdHMvQ1Ate099e2R1cmFzaX17S30udHh0e1F9fCIpCgkJamFsYW4oZiIgfC0tPlJlc3VsdHMgQ3JhY2sgT0sgU2F2ZWQgOiB7SUl9UmVzdWx0cy9PSy17T317ZHVyYXNpfXtJSX0udHh0e1F9fCIpCgkJcHJpbnQoJyDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJgnKQoJZGVmIHBhc3NtZW51KHNlbGYsaXNpZmlsZSk6CgkJdHJ5OgoJCQlzZWxmLmFwayA9IGlzaWZpbGUKCQkJc2VsZi5pZCA9IG9wZW4oc2VsZi5hcGspLnJlYWQoKS5zcGxpdGxpbmVzKCkKCQlleGNlcHQ6cHJpbnQod2FyKydGaWxlIE5vdCBGb3VuZCEgVHJ5IEFnYWluJyk7dGltZS5zbGVlcCgyKTttZW51KCkKCQljamogPSBvcGVuKCIucGF3dyIsICJ3IikKCQlwcmludCgnIHwnKQoJCXByaW50KCcgfC0tPkRvIHlvdSB3YW50IHRvIHVzZSBtYW51YWwgcGFzc3dvcmQgOicpCgkJcHJpbnQoJyB8LS0+TWFudWFsL0RlZmF1bHQnKQoJCXByaW50KCcgfCcpCgkJemsgPSBpbnB1dCgnIHwtLT5zZWxlY3QgKE0vRCk6ICcpCgkJcHJpbnQoIiB8IikKCQlpZiB6ayBpbiAoJ20nLCdNJywnTWFudWFsJywnbWFudWFsJyk6CgkJCXdoaWxlIFRydWU6CgkJCQlqYWxhbih3YXIrIkNvbnRvaCBQYXNzd29yZCA6IHNheWFuZywxMjM0NTYiKQoJCQkJcHd4ID0gaW5wdXQoIiB8LS0+SW5wdXQgUGFzc3dvcmQgOiAiKQoJCQkJamFsYW4oIiVzUGFzc3dvcmQgWWFuZyBEaUd1bmFrYW4gOiAlcyVzIiUod2FyLEkscHd4KSkKCQkJCWlmIHB3eCA9PSAnJzpqYWxhbigiIHwtLT5Jc2kgUGFzc3dvcmQgRGVuZ2FuIEJlbmFyICEhIikKCQkJCWVsaWYgbGVuKHB3eCk8PTU6amFsYW4oIiB8LS0+UGFzc3dvcmQgTWluaW1hbCA2IEh1cnVmICEhIikKCQkJCWVsc2U6c2VsZi5tZW51X2NyYWNrX20oKQoJCQkJam0gPSBpbnB1dCgiIHwtLT5QaWxpaCA6IikKCQkJCWlmIGptID09ICIiOgoJCQkJCWphbGFuKHdhcisiSXNpIERlbmdhbiBCZW5hciBMYWggS2VudG90Iik7dGltZS5zbGVlcCgxKQoJCQkJCWNyYWNrbWVudShpc2lmaWxlKS5wYXNzbWVudShpc2lmaWxlKQoJCQkJZWxpZiBqbSA9PSAiMSIgb3Igam0gPT0gIjAxIjoKCQkJCQlzZWxmLnByb19zZXMoKQoJCQkJCWRlZiBtb2JpbGVfbih6c2M9Tm9uZSk6CgkJCQkJCXdpdGggX19LaWt5X18obWF4X3dvcmtlcnM9MzUpIGFzIChmb3JtKToKCQkJCQkJCWZvciB1aWQgaW4gc2VsZi5pZDoKCQkJCQkJCQl0cnk6dXNlcmlkID0gdWlkLnNwbGl0KCc8PT4nKVswXTtmb3JtLnN1Ym1pdChzZWxmLm1ldG9kZSx1c2VyaWQsenNjLCJtYmFzaWMuZmFjZWJvb2suY29tIikKCQkJCQkJCQlleGNlcHQ6IHBhc3MKCQkJCQkJCW9zLnJlbW92ZShzZWxmLmFwayk7ZXhpdCh3YXIrIkRvbmUgISEiKQoKCQkJCQltb2JpbGVfbihwd3guc3BsaXQoJywnKSkKCQkJCWVsc2U6amFsYW4od2FyKyJJc2kgRGVuZ2FuIEJlbmFyIExhaCBLZW50b3QiKTt0aW1lLnNsZWVwKDEpO2NyYWNrbWVudShpc2lmaWxlKS5wYXNzbWVudShpc2lmaWxlKQoKCQllbGlmIHprIGluICgnZCcsICdEJywnRGVmYXVsdCcsJ2RlZmF1bHQnKToKCQkJc2VsZi5tZW51X2NyYWNrKCkgI1BpbGloYW4gTWV0aG9kCgkJCWptID0gaW5wdXQod2FyKyJQaWxpaCA6IikKCQkJaWYgam0gPT0gIiI6amFsYW4od2FyKyJJc2kgRGVuZ2FuIEJlbmFyIExhaCBLZW50b3QiKTt0aW1lLnNsZWVwKDEpO2NyYWNrbWVudShpc2lmaWxlKS5wYXNzbWVudShpc2lmaWxlKQoJCQllbGlmIGptID09ICIxIiBvciBqbSA9PSAiMDEiOgoJCQkJc2VsZi5PcHNpX3YxKCkKCQkJZWxpZiBqbSA9PSAiMiIgb3Igam0gPT0gIjAyIjoKCQkJCXNlbGYuT3BzaV92MigpCgkJCWVsaWYgam0gPT0gIjMiIG9yIGptID09ICIwMyI6CgkJCQlzZWxmLk9wc2lfdjMoKQoJCQllbGlmIGptID09ICI0IiBvciBqbSA9PSAiMDQiOgoJCQkJc2VsZi5PcHNpX3Y0KCkKCQkJZWxpZiBqbSA9PSAiNSIgb3Igam0gPT0gIjA1IjoKCQkJCXNlbGYuT3BzaV92NSgpCgkJCWVsaWYgam0gPT0gIjYiIG9yIGptID09ICIwNiI6CgkJCQlzZWxmLk9wc2lfdjYoKQoJCQllbHNlOmphbGFuKHdhcisiSXNpIERlbmdhbiBCZW5hciBMYWggS2VudG90Iik7dGltZS5zbGVlcCgxKTtjcmFja21lbnUoaXNpZmlsZSkucGFzc21lbnUoaXNpZmlsZSkKCQllbHNlOmphbGFuKHdhcisiSXNpIERlbmdhbiBCZW5hciBMYWggS2VudG90Iik7dGltZS5zbGVlcCgxKTtjcmFja21lbnUoaXNpZmlsZSkucGFzc21lbnUoaXNpZmlsZSkKCWRlZiBmcmVlX3YxKHNlbGYsIHVzZXIsIGtpa3lfX2d0Zyk6CgkJZ2xvYmFsIG9rLGNwLGxvb3AsaW5mb29uZwoJCXN5cy5zdGRvdXQud3JpdGUoJ1xyJXMgfC0tPiVzJXMlcyAlcy8lcyBPSzolcyBDUDolcyAlcyclKFEsQyxkYXRldGltZS5ub3coKS5zdHJmdGltZSgnJUg6JU06JVMnKSxRLGxvb3AsbGVuKHNlbGYuaWQpLGxlbihvayksbGVuKGNwKSwgUSkpLAoJCXN5cy5zdGRvdXQuZmx1c2goKQoJCWlmICIiID09ICIiOgoJCQlmb3IgcHcgaW4ga2lreV9fZ3RnOgoJCQkJcHcgPSBwdy5sb3dlcigpCgkJCQl1c2VyX2dnID0gcGlsaWgoWwoJCQkJCSJOb2tpYUMzLTAwLzUuMCAoMDguNjMpIFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSBNb3ppbGxhLzUuMCBBcHBsZVdlYktpdC80MjArIChLSFRNTCwgbGlrZSBHZWNrbykgU2FmYXJpLzQyMCsiLAoJCQkJCSJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNBTVNVTkcgU00tRzc4MEcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzE2LjAgQ2hyb21lLzkyLjAuNDUxNS4xNjYgTW9iaWxlIFNhZmFyaS81MzcuMzYiCgkJCQkJIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdIiwiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuNC40OyBlbi1hdTsgU0FNU1VORyBTTS1OOTE1RyBCdWlsZC9LVFU4NFApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS1RITUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMi4wIENocm9tZS8zNC4wLjE4NDcuNzYgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC4xLjI7IE5va2lhX1ggQnVpbGQvSlpPNTRLKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMjcuMC44Ny45MCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBOb2tpYUJyb3dzZXIvMS4wLGd6aXAoZ2ZlKSIsIk1vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCA0LjQuMjsgemgtQ047IEhVQVdFSSBNVDctVEwwMCBCdWlsZC9IdWF3ZWlNVDctVEwwMCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzQwLjAuMjIxNC44OSBVQ0Jyb3dzZXIvMTEuMy44LjkwOSBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTTIwMDZDM01HKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODEuMC40MDQ0LjEzOCBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA3LjA7IFNNLUc5MzBWQyBCdWlsZC9OUkQ5ME07IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNTguMC4zMDI5LjgzIE1vYmlsZSBTYWZhcmkvNTM3LjM2IgoJCQkJXSkKCQkJCXNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkKCQkJCXNlc3Npb24uaGVhZGVycy51cGRhdGUoeyJIb3N0IjoiZnJlZS5mYWNlYm9vay5jb20iLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsInVzZXItYWdlbnQiOnVzZXJfZ2csImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsImRudCI6IjEiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS8iLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifSkKCQkJCXAgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGJykudGV4dAoJCQkJZGF0YWEgPXsibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksInVpZCI6dXNlciwiZmxvdyI6ImxvZ2luX25vX3BpbiIsInBhc3MiOnB3LCJuZXh0IjoiaHR0cHM6Ly9kZXZlbG9wZXJzLmZhY2Vib29rLmNvbS90b29scy9kZWJ1Zy9hY2Nlc3N0b2tlbi8ifQoJCQkJX2hlYWRlcnMgPSB7Ikhvc3QiOiJmcmVlLmZhY2Vib29rLmNvbSIsImNhY2hlLWNvbnRyb2wiOiJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsIm9yaWdpbiI6Imh0dHBzOi8vZnJlZS5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJ1c2VyLWFnZW50IjoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuNC40OyBlbi1hdTsgU0FNU1VORyBTTS1OOTE1RyBCdWlsZC9LVFU4NFApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS1RITUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMi4wIENocm9tZS8zNC4wLjE4NDcuNzYgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0KCQkJCXBvID0gc2Vzc2lvbi5wb3N0KCdodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJyxkYXRhPWRhdGFhLGFsbG93X3JlZGlyZWN0cz1GYWxzZSkKCQkJCWlmICdjX3VzZXInIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOgoJCQkJCWNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkKCQkJCQl3cnQgPSAnJXN8JXN8JXMnICUgKHVzZXIscHcsY29raSkKCQkJCQlvay5hcHBlbmQod3J0KQoJCQkJCW9wZW4oJ0hhc2lsL09LLScrZHVyYXNpKycudHh0JywnYScpLndyaXRlKCclc1xuJyAlIHdydCkKCQkJCQl6Y3pjID0gKCdcciVzIHwtLT4lcyVzfCVzfCVzICAgICAgICAgICAgICAgICAnICUgKFEsSSx1c2VyLHB3LGNva2kpKQoJCQkJCWNla19jb29raWVzX2J5X3Jpc2t5KHVzZXIsIGNva2ksIHpjemMpO3BsYXlfbXB2KCIuV2lpaS5tcDMiKQoJCQkJCWJyZWFrCgkJCQllbGlmICdjaGVja3BvaW50JyBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKToKCQkJCQl0cnk6a29udG9sID0gb3BlbignLmxvZ2luLnR4dCcpLnJlYWQoKTtjcF90dGwgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzP2ZpZWxkcz1iaXJ0aGRheSZhY2Nlc3NfdG9rZW49JXMnJSh1c2VyLGtvbnRvbCkpLmpzb24oKVsnYmlydGhkYXknXTttb250aCwgZGF5LCB5ZWFyID0gY3BfdHRsLnNwbGl0KCcvJyk7bW9udGggPSBidWxhbl90dGxbbW9udGhdO3ByaW50KCdcciVzIHwtLT4lcyVzfCVzfCVzICVzICVzICAgICAgICcgJSAoUSxLLHVzZXIscHcsZGF5LG1vbnRoLHllYXIpKTt3cnQgPSAnJXN8JXN8JXMgJXMgJXMnICUgKHVzZXIscHcsZGF5LG1vbnRoLHllYXIpO2NwLmFwcGVuZCh3cnQpO29wZW4oJ0hhc2lsL0NQLScrZHVyYXNpKycudHh0JywnYScpLndyaXRlKCclc1xuJyAlIHdydCk7YnJlYWsKCQkJCQlleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKTptb250aCA9ICcnO2RheSAgID0gJyc7eWVhciAgPSAnJwoJCQkJCWV4Y2VwdDpwYXNzCgkJCQkJcHJpbnQoJ1xyJXMgfC0tPiVzJXN8JXMgICAgICAgICAgICAgICAgICcgJSAoUSxLLHVzZXIscHcpKTt3cnQgPSAnJXN8JXMnICUgKHVzZXIscHcpO2NwLmFwcGVuZCh3cnQpO29wZW4oJ0hhc2lsL0NQLScrZHVyYXNpKycudHh0JywnYScpLndyaXRlKCclc1xuJyAlIHdydCk7cGxheV9tcHYoIi5XaWlpLm1wMyIpCgkJCQkJYnJlYWsKCQkJCWVsc2U6Y29udGludWUKCQkJbG9vcCArPSAxCgoJZGVmIG1vYmlsZV92MihzZWxmLCB1c2VyLCBraWt5X19ndGcpOgoJCWdsb2JhbCBvayxjcCxsb29wLGluZm9vbmcKCQlzeXMuc3Rkb3V0LndyaXRlKCdcciVzIHwtLT4lcyVzJXMgJXMvJXMgT0s6JXMgQ1A6JXMgJXMnJShRLEMsZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoJyVIOiVNOiVTJyksUSxsb29wLGxlbihzZWxmLmlkKSxsZW4ob2spLGxlbihjcCksIFEpKSwKCQlzeXMuc3Rkb3V0LmZsdXNoKCkKCQlpZiAiIiA9PSAiIjoKCQkJZm9yIHB3IGluIGtpa3lfX2d0ZzoKCQkJCXB3ID0gcHcubG93ZXIoKQoJCQkJdXNlcl9nZyA9IHBpbGloKFsKCQkJCQkiTm9raWFDMy0wMC81LjAgKDA4LjYzKSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArIiwKCQkJCQkiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBTQU1TVU5HIFNNLUc3ODBHKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xNi4wIENocm9tZS85Mi4wLjQ1MTUuMTY2IE1vYmlsZSBTYWZhcmkvNTM3LjM2IgoJCQkJXSkKCQkJCXNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkKCQkJCXNlc3Npb24uaGVhZGVycy51cGRhdGUoeyJIb3N0IjoibS5mYWNlYm9vay5jb20iLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsInVzZXItYWdlbnQiOnVzZXJfZ2csImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsImRudCI6IjEiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6Im5vbmUiLCJzZWMtZmV0Y2gtbW9kZSI6Im5hdmlnYXRlIiwic2VjLWZldGNoLXVzZXIiOiI/MSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9kZXZlbG9wZXJzLmZhY2Vib29rLmNvbS8iLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIiwiYWNjZXB0LWxhbmd1YWdlIjoiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcifSkKCQkJCXAgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGJykudGV4dAoJCQkJZGF0YWEgPXsibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksInVpZCI6dXNlciwiZmxvdyI6ImxvZ2luX25vX3BpbiIsInBhc3MiOnB3LCJuZXh0IjoiaHR0cHM6Ly9kZXZlbG9wZXJzLmZhY2Vib29rLmNvbS90b29scy9kZWJ1Zy9hY2Nlc3N0b2tlbi8ifQoJCQkJcG8gPSBzZXNzaW9uLnBvc3QoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQoJCQkJaWYgJ2NfdXNlcicgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6CgkJCQkJY29raT0iOyIuam9pbihba2V5KyI9Iit2YWx1ZSBmb3Iga2V5LHZhbHVlIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCldKQoJCQkJCXdydCA9ICclc3wlc3wlcycgJSAodXNlcixwdyxjb2tpKQoJCQkJCW9rLmFwcGVuZCh3cnQpCgkJCQkJb3BlbignSGFzaWwvT0stJytkdXJhc2krJy50eHQnLCdhJykud3JpdGUoJyVzXG4nICUgd3J0KQoJCQkJCXpjemMgPSAoJ1xyJXMgfC0tPiVzJXN8JXN8JXMgICAgICAgICAgICAgICAgICcgJSAoUSxJLHVzZXIscHcsY29raSkpCgkJCQkJY2VrX2Nvb2tpZXNfYnlfcmlza3kodXNlciwgY29raSwgemN6Yyk7cGxheV9tcHYoIi5XaWlpLm1wMyIpCgkJCQkJYnJlYWsKCQkJCWVsaWYgJ2NoZWNrcG9pbnQnIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOgoJCQkJCXRyeTprb250b2wgPSBvcGVuKCcubG9naW4udHh0JykucmVhZCgpO2NwX3R0bCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJXM/ZmllbGRzPWJpcnRoZGF5JmFjY2Vzc190b2tlbj0lcyclKHVzZXIsa29udG9sKSkuanNvbigpWydiaXJ0aGRheSddO21vbnRoLCBkYXksIHllYXIgPSBjcF90dGwuc3BsaXQoJy8nKTttb250aCA9IGJ1bGFuX3R0bFttb250aF07cHJpbnQoJ1xyJXMgfC0tPiVzJXN8JXN8JXMgJXMgJXMgICAgICAgJyAlIChRLEssdXNlcixwdyxkYXksbW9udGgseWVhcikpO3dydCA9ICclc3wlc3wlcyAlcyAlcycgJSAodXNlcixwdyxkYXksbW9udGgseWVhcik7Y3AuYXBwZW5kKHdydCk7b3BlbignSGFzaWwvQ1AtJytkdXJhc2krJy50eHQnLCdhJykud3JpdGUoJyVzXG4nICUgd3J0KTticmVhawoJCQkJCWV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOm1vbnRoID0gJyc7ZGF5ICAgPSAnJzt5ZWFyICA9ICcnCgkJCQkJZXhjZXB0OnBhc3MKCQkJCQlwcmludCgnXHIlcyB8LS0+JXMlc3wlcyAgICAgICAgICAgICAgICAgJyAlIChRLEssdXNlcixwdykpO3dydCA9ICclc3wlcycgJSAodXNlcixwdyk7Y3AuYXBwZW5kKHdydCk7b3BlbignSGFzaWwvQ1AtJytkdXJhc2krJy50eHQnLCdhJykud3JpdGUoJyVzXG4nICUgd3J0KTtwbGF5X21wdigiLldpaWkubXAzIikKCQkJCQlicmVhawoJCQkJZWxzZTpjb250aW51ZQoJCQlsb29wICs9IDEKCgoJZGVmIG1vYmlsZV92MyhzZWxmLCB1c2VyLCBraWt5X19ndGcpOgoJCWdsb2JhbCBvayxjcCxsb29wCgkJc3lzLnN0ZG91dC53cml0ZSgnXHIlcyB8LS0+JXMlcyVzICVzLyVzIE9LOiVzIENQOiVzICVzJyUoUSxDLGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCclSDolTTolUycpLFEsbG9vcCxsZW4oc2VsZi5pZCksbGVuKG9rKSxsZW4oY3ApLCBRKSksCgkJc3lzLnN0ZG91dC5mbHVzaCgpCgkJaWYgIiIgPT0gIiI6CgkJCWZvciBwdyBpbiBraWt5X19ndGc6CgkJCQlwdyA9IHB3Lmxvd2VyKCkKCQkJCXNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkKCQkJCXNlc3Npb24uaGVhZGVycy51cGRhdGUoeyJIb3N0IjoibS5mYWNlYm9vay5jb20iLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsInVzZXItYWdlbnQiOiJbRkJBTi9GQjRBO0ZCQVYvMjQ2LjAuMC40OS4xMjE7RkJCVi8xODE0NDg0NDk7RkJETS97ZGVuc2l0eT0xLjUsd2lkdGg9NTQwLGhlaWdodD05NjB9O0ZCTEMvZW5fVVM7RkJSVi8xODMxMTk1MTY7RkJDUi9UTTtGQk1GL3Zpdm87RkJCRC92aXZvO0ZCUE4vY29tLmZhY2Vib29rLmthdGFuYTtGQkRWL3Zpdm8gMTYwNjtGQlNWLzYuMC4xO0ZCT1AvMTtGQkNBL2FybWVhYmktdjdhOmFybWVhYmk7XSIsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsImRudCI6IjEiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS8iLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifSkKCQkJCXAgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGJykudGV4dAoJCQkJZGF0YWEgPXsibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksInVpZCI6dXNlciwiZmxvdyI6ImxvZ2luX25vX3BpbiIsInBhc3MiOnB3LCJuZXh0IjoiaHR0cHM6Ly9kZXZlbG9wZXJzLmZhY2Vib29rLmNvbS90b29scy9kZWJ1Zy9hY2Nlc3N0b2tlbi8ifQoJCQkJc2Vzc2lvbi5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOiJtLmZhY2Vib29rLmNvbSIsImNhY2hlLWNvbnRyb2wiOiJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsIm9yaWdpbiI6Imh0dHBzOi8vbS5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJ1c2VyLWFnZW50IjoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuNC40OyBlbi1hdTsgU0FNU1VORyBTTS1OOTE1RyBCdWlsZC9LVFU4NFApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS1RITUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMi4wIENocm9tZS8zNC4wLjE4NDcuNzYgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0pCgkJCQlwbyA9IHNlc3Npb24ucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJyxkYXRhPWRhdGFhLGFsbG93X3JlZGlyZWN0cz1GYWxzZSkKCQkJCWlmICdjX3VzZXInIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOgoJCQkJCWNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkKCQkJCQl3cnQgPSAnJXN8JXN8JXMnICUgKHVzZXIscHcsY29raSkKCQkJCQlvay5hcHBlbmQod3J0KQoJCQkJCW9wZW4oJ0hhc2lsL09LLScrZHVyYXNpKycudHh0JywnYScpLndyaXRlKCclc1xuJyAlIHdydCkKCQkJCQl6Y3pjID0gKCdcciVzIHwtLT4lcyVzfCVzfCVzICAgICAgICAgICAgICAgICAnICUgKFEsSSx1c2VyLHB3LGNva2kpKQoJCQkJCWNla19jb29raWVzX2J5X3Jpc2t5KHVzZXIsIGNva2ksIHpjemMpO3BsYXlfbXB2KCIuV2lpaS5tcDMiKQoJCQkJCWJyZWFrCgkJCQllbGlmICdjaGVja3BvaW50JyBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKToKCQkJCQl0cnk6a29udG9sID0gb3BlbignLmxvZ2luLnR4dCcpLnJlYWQoKTtjcF90dGwgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzP2ZpZWxkcz1iaXJ0aGRheSZhY2Nlc3NfdG9rZW49JXMnJSh1c2VyLGtvbnRvbCkpLmpzb24oKVsnYmlydGhkYXknXTttb250aCwgZGF5LCB5ZWFyID0gY3BfdHRsLnNwbGl0KCcvJyk7bW9udGggPSBidWxhbl90dGxbbW9udGhdO3ByaW50KCdcciVzIHwtLT4lcyVzfCVzfCVzICVzICVzICAgICAgICcgJSAoUSxLLHVzZXIscHcsZGF5LG1vbnRoLHllYXIpKTt3cnQgPSAnJXN8JXN8JXMgJXMgJXMnICUgKHVzZXIscHcsZGF5LG1vbnRoLHllYXIpO2NwLmFwcGVuZCh3cnQpO29wZW4oJ0hhc2lsL0NQLScrZHVyYXNpKycudHh0JywnYScpLndyaXRlKCclc1xuJyAlIHdydCk7YnJlYWsKCQkJCQlleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKTptb250aCA9ICcnO2RheSAgID0gJyc7eWVhciAgPSAnJwoJCQkJCWV4Y2VwdDpwYXNzCgkJCQkJcHJpbnQoJ1xyJXMgfC0tPiVzJXN8JXMgICAgICAgICAgICAgICAgICcgJSAoUSxLLHVzZXIscHcpKTt3cnQgPSAnJXN8JXMnICUgKHVzZXIscHcpO2NwLmFwcGVuZCh3cnQpO29wZW4oJ0hhc2lsL0NQLScrZHVyYXNpKycudHh0JywnYScpLndyaXRlKCclc1xuJyAlIHdydCk7cGxheV9tcHYoIi5XaWlpLm1wMyIpCgkJCQkJYnJlYWsKCQkJCWVsc2U6Y29udGludWUKCQkJbG9vcCArPSAxCgoKCWRlZiBtb2JpbGVfdjQoc2VsZiwgdXNlciwga2lreV9fZ3RnKToKCQlnbG9iYWwgb2ssY3AsbG9vcAoJCXN5cy5zdGRvdXQud3JpdGUoJ1xyJXMgfC0tPiVzJXMlcyAlcy8lcyBPSzolcyBDUDolcyAlcyclKFEsQyxkYXRldGltZS5ub3coKS5zdHJmdGltZSgnJUg6JU06JVMnKSxRLGxvb3AsbGVuKHNlbGYuaWQpLGxlbihvayksbGVuKGNwKSwgUSkpLAoJCXN5cy5zdGRvdXQuZmx1c2goKQoJCWlmICIiID09ICIiOgoJCQlmb3IgcHcgaW4ga2lreV9fZ3RnOgoJCQkJcHcgPSBwdy5sb3dlcigpCgkJCQlzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpCgkJCQl1YV9yYW5kb20gPSByYW5kb20uY2hvaWNlKFsKCQkJCQknW0ZCQU4vRkI0QTtGQkFWLzI0Ni4wLjAuNDkuMTIxO0ZCQlYvMTgxNDQ4NDQ5O0ZCRE0ve2RlbnNpdHk9MS41LHdpZHRoPTU0MCxoZWlnaHQ9OTYwfTtGQkxDL2VuX1VTO0ZCUlYvMTgzMTE5NTE2O0ZCQ1IvVE07RkJNRi92aXZvO0ZCQkQvdml2bztGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi92aXZvIDE2MDY7RkJTVi82LjAuMTtGQk9QLzE7RkJDQS9hcm1lYWJpLXY3YTphcm1lYWJpO10nLAoJCQkJCSdbRkJBTi9GQjRBO0ZCQVYvMjIzLjAuMC40Ny4xMjA7RkJCVi8xNTY2NDk1MDU7RkJETS97ZGVuc2l0eT0yLjYyNSx3aWR0aD0xMDgwLGhlaWdodD0yMDM0fTtGQkxDL3N2X1NFO0ZCUlYvMDtGQkNSL1RlbGlhO0ZCTUYvSE1EIEdsb2JhbDtGQkJEL05va2lhO0ZCUE4vY29tLmZhY2Vib29rLmthdGFuYTtGQkRWL05va2lhIDcgcGx1cztGQlNWLzk7RkJPUC8xO0ZCQ0EvYXJtZWFiaS12N2E6YXJtZWFiaTtdJywKCQkJCV0pCgkJCQlzZXNzaW9uLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6Im1iYXNpYy5mYWNlYm9vay5jb20iLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsInVzZXItYWdlbnQiOnVhX3JhbmRvbSwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwiZG50IjoiMSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0pCgkJCQlwID0gc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGJykudGV4dAoJCQkJZGF0YWEgPXsibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksInVpZCI6dXNlciwiZmxvdyI6ImxvZ2luX25vX3BpbiIsInBhc3MiOnB3LCJuZXh0IjoiaHR0cHM6Ly9kZXZlbG9wZXJzLmZhY2Vib29rLmNvbS90b29scy9kZWJ1Zy9hY2Nlc3N0b2tlbi8ifQoJCQkJc2Vzc2lvbi5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOiJtYmFzaWMuZmFjZWJvb2suY29tIiwiY2FjaGUtY29udHJvbCI6Im1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwib3JpZ2luIjoiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIiwiY29udGVudC10eXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6dWFfcmFuZG9tLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2luZGV4LnBocD9uZXh0PWh0dHBzJTNBJTJGJTJGZGV2ZWxvcGVycy5mYWNlYm9vay5jb20lMkZ0b29scyUyRmRlYnVnJTJGYWNjZXNzdG9rZW4lMkYiLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifSkKCQkJCXBvID0gc2Vzc2lvbi5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQoJCQkJaWYgJ2NfdXNlcicgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6CgkJCQkJY29raT0iOyIuam9pbihba2V5KyI9Iit2YWx1ZSBmb3Iga2V5LHZhbHVlIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCldKQoJCQkJCXdydCA9ICclc3wlc3wlcycgJSAodXNlcixwdyxjb2tpKQoJCQkJCW9rLmFwcGVuZCh3cnQpCgkJCQkJb3BlbignSGFzaWwvT0stJytkdXJhc2krJy50eHQnLCdhJykud3JpdGUoJyVzXG4nICUgd3J0KQoJCQkJCXpjemMgPSAoJ1xyJXMgfC0tPiVzJXN8JXN8JXMgICAgICAgICAgICAgICAgICcgJSAoUSxJLHVzZXIscHcsY29raSkpCgkJCQkJY2VrX2Nvb2tpZXNfYnlfcmlza3kodXNlciwgY29raSwgemN6Yyk7cGxheV9tcHYoIi5XaWlpLm1wMyIpCgkJCQkJYnJlYWsKCQkJCWVsaWYgJ2NoZWNrcG9pbnQnIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOgoJCQkJCXRyeTprb250b2wgPSBvcGVuKCcubG9naW4udHh0JykucmVhZCgpO2NwX3R0bCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJXM/ZmllbGRzPWJpcnRoZGF5JmFjY2Vzc190b2tlbj0lcyclKHVzZXIsa29udG9sKSkuanNvbigpWydiaXJ0aGRheSddO21vbnRoLCBkYXksIHllYXIgPSBjcF90dGwuc3BsaXQoJy8nKTttb250aCA9IGJ1bGFuX3R0bFttb250aF07cHJpbnQoJ1xyJXMgfC0tPiVzJXN8JXN8JXMgJXMgJXMgICAgICAgJyAlIChRLEssdXNlcixwdyxkYXksbW9udGgseWVhcikpO3dydCA9ICclc3wlc3wlcyAlcyAlcycgJSAodXNlcixwdyxkYXksbW9udGgseWVhcik7Y3AuYXBwZW5kKHdydCk7b3BlbignSGFzaWwvQ1AtJytkdXJhc2krJy50eHQnLCdhJykud3JpdGUoJyVzXG4nICUgd3J0KTticmVhawoJCQkJCWV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOm1vbnRoID0gJyc7ZGF5ICAgPSAnJzt5ZWFyICA9ICcnCgkJCQkJZXhjZXB0OnBhc3MKCQkJCQlwcmludCgnXHIlcyB8LS0+JXMlc3wlcyAgICAgICAgICAgICAgICAgJyAlIChRLEssdXNlcixwdykpO3dydCA9ICclc3wlcycgJSAodXNlcixwdyk7Y3AuYXBwZW5kKHdydCk7b3BlbignSGFzaWwvQ1AtJytkdXJhc2krJy50eHQnLCdhJykud3JpdGUoJyVzXG4nICUgd3J0KTtwbGF5X21wdigiLldpaWkubXAzIikKCQkJCQlicmVhawoJCQkJZWxzZTpjb250aW51ZQoJCQlsb29wICs9IDEKCglkZWYgbWV0b2RlKHNlbGYsIHVzZXIsIHB3eCwgdXJsKToKCQlnbG9iYWwgb2ssY3AsbG9vcAoJCXN5cy5zdGRvdXQud3JpdGUoJ1xyJXMgfC0tPiVzJXMlcyAlcy8lcyBPSzolcyBDUDolcyAlcyclKFEsQyxkYXRldGltZS5ub3coKS5zdHJmdGltZSgnJUg6JU06JVMnKSxRLGxvb3AsbGVuKHNlbGYuaWQpLGxlbihvayksbGVuKGNwKSwgUSkpLAoJCXN5cy5zdGRvdXQuZmx1c2goKQoJCWZvciBwdyBpbiBwd3g6CgkJCXB3ID0gcHcubG93ZXIoKQoJCQlzZXNzaW9uPXJlcXVlc3RzLlNlc3Npb24oKQoJCQloZWFkZXIgPSB7Ikhvc3QiOnVybCwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJ1c2VyLWFnZW50IjoiTm9raWFDMy0wMC81LjAgKDA4LjYzKSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArIiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwiZG50IjoiMSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL20uZmFjZWJvb2suY29tLyIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCJ9CgkJCXIgPSBzZXNzaW9uLmdldChmImh0dHBzOi8ve3VybH0vaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRiIsIGhlYWRlcnM9aGVhZGVyKQoJCQlkYXMgPSB7ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIoci50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihyLnRleHQpKS5ncm91cCgxKSwidWlkIjp1c2VyLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsIm5leHQiOiJodHRwczovL2RldmVsb3BlcnMuZmFjZWJvb2suY29tL3Rvb2xzL2RlYnVnL2FjY2Vzc3Rva2VuLyJ9CgkJCWhlYWRlcjEgPSB7Ikhvc3QiOnVybCwiY2FjaGUtY29udHJvbCI6Im1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwib3JpZ2luIjoiaHR0cHM6Ly8iK3VybCwiY29udGVudC10eXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6Ik1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsgU0FNU1VORyBTTS1HNzgwRykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgU2Ftc3VuZ0Jyb3dzZXIvMTYuMCBDaHJvbWUvOTIuMC40NTE1LjE2NiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovLyIrdXJsKyIvaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRiIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCJ9CgkJCXBvID0gc2Vzc2lvbi5wb3N0KGYiaHR0cHM6Ly97dXJsfS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCIsIGRhdGEgPSBkYXMsIGhlYWRlcnMgPSBoZWFkZXIxLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSkKCQkJaWYgJ2NfdXNlcicgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6CgkJCQljb2tpPSI7Ii5qb2luKFtrZXkrIj0iK3ZhbHVlIGZvciBrZXksdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pCgkJCQl3cnQgPSAnJXN8JXN8JXMnICUgKHVzZXIscHcsY29raSkKCQkJCW9rLmFwcGVuZCh3cnQpCgkJCQlvcGVuKCdIYXNpbC9PSy0nK2R1cmFzaSsnLnR4dCcsJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpCgkJCQl6Y3pjID0gKCdcciVzIHwtLT4lcyVzfCVzfCVzICAgICAgICAgICAgICAgICAnICUgKFEsSSx1c2VyLHB3LGNva2kpKQoJCQkJY2VrX2Nvb2tpZXNfYnlfcmlza3kodXNlciwgY29raSwgemN6Yyk7cGxheV9tcHYoIi5XaWlpLm1wMyIpCgkJCQlicmVhawoJCQllbGlmICdjaGVja3BvaW50JyBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKToKCQkJCXRyeTprb250b2wgPSBvcGVuKCcubG9naW4udHh0JykucmVhZCgpO2NwX3R0bCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJXM/ZmllbGRzPWJpcnRoZGF5JmFjY2Vzc190b2tlbj0lcyclKHVzZXIsa29udG9sKSkuanNvbigpWydiaXJ0aGRheSddO21vbnRoLCBkYXksIHllYXIgPSBjcF90dGwuc3BsaXQoJy8nKTttb250aCA9IGJ1bGFuX3R0bFttb250aF07cHJpbnQoJ1xyJXMgfC0tPiVzJXN8JXN8JXMgJXMgJXMgICAgICAgJyAlIChRLEssdXNlcixwdyxkYXksbW9udGgseWVhcikpO3dydCA9ICclc3wlc3wlcyAlcyAlcycgJSAodXNlcixwdyxkYXksbW9udGgseWVhcik7Y3AuYXBwZW5kKHdydCk7b3BlbignSGFzaWwvQ1AtJytkdXJhc2krJy50eHQnLCdhJykud3JpdGUoJyVzXG4nICUgd3J0KTticmVhawoJCQkJZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6bW9udGggPSAnJztkYXkgICA9ICcnO3llYXIgID0gJycKCQkJCWV4Y2VwdDpwYXNzCgkJCQlwcmludCgnXHIlcyB8LS0+JXMlc3wlcyAgICAgICAgICAgICAgICAgJyAlIChRLEssdXNlcixwdykpO3dydCA9ICclc3wlcycgJSAodXNlcixwdyk7Y3AuYXBwZW5kKHdydCk7b3BlbignSGFzaWwvQ1AtJytkdXJhc2krJy50eHQnLCdhJykud3JpdGUoJyVzXG4nICUgd3J0KTtwbGF5X21wdigiLldpaWkubXAzIikKCQkJCWJyZWFrCgkJCWVsc2U6Y29udGludWUKCQlsb29wKz0xCgoJZGVmIG1ldG9kZV92MShzZWxmLCBpZGYsIHB3eCk6CgkJZ2xvYmFsIG9rLGNwLGxvb3AKCQlzeXMuc3Rkb3V0LndyaXRlKCdcciVzIHwtLT4lcyVzJXMgJXMvJXMgT0s6JXMgQ1A6JXMgJXMnJShRLEMsZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoJyVIOiVNOiVTJyksUSxsb29wLGxlbihzZWxmLmlkKSxsZW4ob2spLGxlbihjcCksIFEpKSwKCQlzeXMuc3Rkb3V0LmZsdXNoKCkKCQl1c2VyID0gaWRmCgkJZm9yIHB3IGluIHB3eDoKCQkJcHcgPSBwdy5sb3dlcigpCgkJCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJCQloZWFkZXIxID0gewoJCQkJIkhvc3QiOiAibS5mYWNlYm9vay5jb20iLAoJCQkJImNhY2hlLWNvbnRyb2wiOiAibWF4LWFnZT0wIiwKCQkJCSJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLAoJCQkJInVzZXItYWdlbnQiOiAiTm9raWFYMy0wMi81LjAgKDA2LjA1KSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArIiwKCQkJCSJhY2NlcHQiOiAidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwKCQkJCSJ4LXJlcXVlc3RlZC13aXRoIjogIm1hcmsudmlhLmdwIiwKCQkJCSJzZWMtZmV0Y2gtc2l0ZSI6ICJub25lIiwKCQkJCSJzZWMtZmV0Y2gtbW9kZSI6ICJuYXZpZ2F0ZSIsCgkJCQkic2VjLWZldGNoLXVzZXIiOiAiPzEiLAoJCQkJInNlYy1mZXRjaC1kZXN0IjogImRvY3VtZW50IiwKCQkJCSJyZWZlcmVyIjogImh0dHBzOi8vZGV2ZWxvcGVycy5mYWNlYm9vay5jb20vIiwKCQkJCSJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsCgkJCQkiYWNjZXB0LWxhbmd1YWdlIjogImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43IgoJCQl9CgkJCXogPSBzZXMuZ2V0KCJodHRwczovL20uZmFjZWJvb2suY29tL2xvZ2luLz9wcml2YWN5X211dGF0aW9uX3Rva2VuPWV5SjBlWEJsSWpvd0xDSmpjbVZoZEdsdmJsOTBhVzFsSWpveE5qUTFOVEUzTkRBMExDSmpZV3hzYzJsMFpWOXBaQ0k2TWpjMk1qTXdOakl4TnpReU1qUTROWDAlM0QmbmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGJTNGbG9jYWxlJTNEaWRfSUQmcmVmc3JjPWRlcHJlY2F0ZWQmX3JkciIsIGhlYWRlcnM9aGVhZGVyMSkKCQkJZHQgPSB7CgkJCQkibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cih6LnRleHQpKS5ncm91cCgxKSwKCQkJCSJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIoei50ZXh0KSkuZ3JvdXAoMSksCgkJCQkidWlkIjppZGYsCgkJCQkiZmxvdyI6ImxvZ2luX25vX3BpbiIsCgkJCQkicGFzcyI6cHcsCgkJCQkibmV4dCI6Imh0dHBzOi8vZGV2ZWxvcGVycy5mYWNlYm9vay5jb20vP2xvY2FsZT1pZF9JRCIKCQkJfQoJCQloZWFkZXIyID0gewoJCQkJIkhvc3QiOiAibS5mYWNlYm9vay5jb20iLAoJCQkJImNvbnRlbnQtbGVuZ3RoIjogIjEyOSIsCgkJCQkiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLAoJCQkJInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAiMSIsCgkJCQkib3JpZ2luIjogImh0dHBzOi8vbS5mYWNlYm9vay5jb20iLAoJCQkJImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLAoJCQkJInVzZXItYWdlbnQiOiAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMC4yOyBTQU1TVU5HIFNNLUc5MjVGIEJ1aWxkL0xSWDIyRykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgU2Ftc3VuZ0Jyb3dzZXIvNC4wIENocm9tZS80NC4wLjI0MDMuMTMzIE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwKCQkJCSJhY2NlcHQiOiAidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwKCQkJCSJ4LXJlcXVlc3RlZC13aXRoIjogIm1hcmsudmlhLmdwIiwKCQkJCSJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsCgkJCQkic2VjLWZldGNoLW1vZGUiOiAibmF2aWdhdGUiLAoJCQkJInNlYy1mZXRjaC11c2VyIjogIj8xIiwKCQkJCSJzZWMtZmV0Y2gtZGVzdCI6ICJkb2N1bWVudCIsCgkJCQkicmVmZXJlciI6ICJodHRwczovL20uZmFjZWJvb2suY29tL2xvZ2luLz9wcml2YWN5X211dGF0aW9uX3Rva2VuPWV5SjBlWEJsSWpvd0xDSmpjbVZoZEdsdmJsOTBhVzFsSWpveE5qUTFOVEUzTkRBMExDSmpZV3hzYzJsMFpWOXBaQ0k2TWpjMk1qTXdOakl4TnpReU1qUTROWDAlM0QmbmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGJTNGbG9jYWxlJTNEaWRfSUQmcmVmc3JjPWRlcHJlY2F0ZWQmX3JkciIsCgkJCQkiYWNjZXB0LWVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUiLAoJCQkJImFjY2VwdC1sYW5ndWFnZSI6ICJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyIKCQkJfQoJCQlqID0gc2VzLnBvc3QoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAiLCBkYXRhID0gZHQsIGhlYWRlcnMgPSBoZWFkZXIyLCBhbGxvd19yZWRpcmVjdHMgPSBUcnVlKQoJCQlpZiAnY191c2VyJyBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpOgoJCQkJY29raT0iOyIuam9pbihba2V5KyI9Iit2YWx1ZSBmb3Iga2V5LHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pCgkJCQl3cnQgPSAnJXN8JXN8JXMnICUgKHVzZXIscHcsY29raSkKCQkJCW9rLmFwcGVuZCh3cnQpCgkJCQlvcGVuKCdIYXNpbC9PSy0nK2R1cmFzaSsnLnR4dCcsJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpCgkJCQl6Y3pjID0gKCdcciVzIHwtLT4lcyVzfCVzfCVzICAgICAgICAgICAgICAgICAnICUgKFEsSSx1c2VyLHB3LGNva2kpKQoJCQkJY2VrX2Nvb2tpZXNfYnlfcmlza3kodXNlciwgY29raSwgemN6Yyk7cGxheV9tcHYoIi5XaWlpLm1wMyIpCgkJCQlicmVhawoJCQllbGlmICdjaGVja3BvaW50JyBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpOgoJCQkJdHJ5OmtvbnRvbCA9IG9wZW4oJy5sb2dpbi50eHQnKS5yZWFkKCk7Y3BfdHRsID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8lcz9maWVsZHM9YmlydGhkYXkmYWNjZXNzX3Rva2VuPSVzJyUodXNlcixrb250b2wpKS5qc29uKClbJ2JpcnRoZGF5J107bW9udGgsIGRheSwgeWVhciA9IGNwX3R0bC5zcGxpdCgnLycpO21vbnRoID0gYnVsYW5fdHRsW21vbnRoXTtwcmludCgnXHIlcyB8LS0+JXMlc3wlc3wlcyAlcyAlcyAgICAgICAnICUgKFEsSyx1c2VyLHB3LGRheSxtb250aCx5ZWFyKSk7d3J0ID0gJyVzfCVzfCVzICVzICVzJyAlICh1c2VyLHB3LGRheSxtb250aCx5ZWFyKTtjcC5hcHBlbmQod3J0KTtvcGVuKCdIYXNpbC9DUC0nK2R1cmFzaSsnLnR4dCcsJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpO2JyZWFrCgkJCQlleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKTptb250aCA9ICcnO2RheSAgID0gJyc7eWVhciAgPSAnJwoJCQkJZXhjZXB0OnBhc3MKCQkJCXByaW50KCdcciVzIHwtLT4lcyVzfCVzICAgICAgICAgICAgICAgICAnICUgKFEsSyx1c2VyLHB3KSk7d3J0ID0gJyVzfCVzJyAlICh1c2VyLHB3KTtjcC5hcHBlbmQod3J0KTtvcGVuKCdIYXNpbC9DUC0nK2R1cmFzaSsnLnR4dCcsJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpO3BsYXlfbXB2KCIuV2lpaS5tcDMiKQoJCQkJYnJlYWsKCQkJZWxzZTpjb250aW51ZQoJCWxvb3ArPTEKCglkZWYgbWV0b2RlX3YzKHNlbGYsIGlkZiwgcHd4LCB1cmwpOgoJCWdsb2JhbCBvayxjcCxsb29wCgkJc3lzLnN0ZG91dC53cml0ZSgnXHIlcyB8LS0+JXMlcyVzICVzLyVzIE9LOiVzIENQOiVzICVzJyUoUSxDLGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCclSDolTTolUycpLFEsbG9vcCxsZW4oc2VsZi5pZCksbGVuKG9rKSxsZW4oY3ApLCBRKSksCgkJc3lzLnN0ZG91dC5mbHVzaCgpCgkJdXNlciA9IGlkZgoJCWZvciBwdyBpbiBwd3g6CgkJCXB3ID0gcHcubG93ZXIoKQoJCQlzZXM9cmVxdWVzdHMuU2Vzc2lvbigpCgkJCWhlYWRlcjEgPSB7Ikhvc3QiOnVybCwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJ1c2VyLWFnZW50IjoiTm9raWFDMy0wMC81LjAgKDA4LjYzKSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArIiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwiZG50IjoiMSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL20uZmFjZWJvb2suY29tLyIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCJ9CgkJCXJnID0gc2VzLmdldChmImh0dHBzOi8ve3VybH0vaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRiIsIGhlYWRlcnM9aGVhZGVyMSkKCQkJZHQgPSB7ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocmcudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocmcudGV4dCkpLmdyb3VwKDEpLCJ1aWQiOmlkZiwiZmxvdyI6ImxvZ2luX25vX3BpbiIsInBhc3MiOnB3LCJuZXh0IjoiaHR0cHM6Ly9kZXZlbG9wZXJzLmZhY2Vib29rLmNvbS90b29scy9kZWJ1Zy9hY2Nlc3N0b2tlbi8ifQoJCQloZWFkZXIyID0geyJIb3N0Ijp1cmwsImNhY2hlLWNvbnRyb2wiOiJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsIm9yaWdpbiI6Imh0dHBzOi8vIit1cmwsImNvbnRlbnQtdHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNBTVNVTkcgU00tRzc4MEcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzE2LjAgQ2hyb21lLzkyLjAuNDUxNS4xNjYgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly8iK3VybCsiL2luZGV4LnBocD9uZXh0PWh0dHBzJTNBJTJGJTJGZGV2ZWxvcGVycy5mYWNlYm9vay5jb20lMkZ0b29scyUyRmRlYnVnJTJGYWNjZXNzdG9rZW4lMkYiLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifQoJCQlycCA9IHNlcy5wb3N0KGYiaHR0cHM6Ly97dXJsfS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCIsIGRhdGEgPSBkdCwgaGVhZGVycyA9IGhlYWRlcjIsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlKQoJCQlpZiAnY191c2VyJyBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpOgoJCQkJY29raT0iOyIuam9pbihba2V5KyI9Iit2YWx1ZSBmb3Iga2V5LHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKV0pCgkJCQl3cnQgPSAnJXN8JXN8JXMnICUgKHVzZXIscHcsY29raSkKCQkJCW9rLmFwcGVuZCh3cnQpCgkJCQlvcGVuKCdIYXNpbC9PSy0nK2R1cmFzaSsnLnR4dCcsJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpCgkJCQl6Y3pjID0gKCdcciVzIHwtLT4lcyVzfCVzfCVzICAgICAgICAgICAgICAgICAnICUgKFEsSSx1c2VyLHB3LGNva2kpKQoJCQkJY2VrX2Nvb2tpZXNfYnlfcmlza3kodXNlciwgY29raSwgemN6Yyk7cGxheV9tcHYoIi5XaWlpLm1wMyIpCgkJCQlicmVhawoJCQllbGlmICdjaGVja3BvaW50JyBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpOgoJCQkJdHJ5OmtvbnRvbCA9IG9wZW4oJy5sb2dpbi50eHQnKS5yZWFkKCk7Y3BfdHRsID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8lcz9maWVsZHM9YmlydGhkYXkmYWNjZXNzX3Rva2VuPSVzJyUodXNlcixrb250b2wpKS5qc29uKClbJ2JpcnRoZGF5J107bW9udGgsIGRheSwgeWVhciA9IGNwX3R0bC5zcGxpdCgnLycpO21vbnRoID0gYnVsYW5fdHRsW21vbnRoXTtwcmludCgnXHIlcyB8LS0+JXMlc3wlc3wlcyAlcyAlcyAgICAgICAnICUgKFEsSyx1c2VyLHB3LGRheSxtb250aCx5ZWFyKSk7d3J0ID0gJyVzfCVzfCVzICVzICVzJyAlICh1c2VyLHB3LGRheSxtb250aCx5ZWFyKTtjcC5hcHBlbmQod3J0KTtvcGVuKCdIYXNpbC9DUC0nK2R1cmFzaSsnLnR4dCcsJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpO2JyZWFrCgkJCQlleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKTptb250aCA9ICcnO2RheSAgID0gJyc7eWVhciAgPSAnJwoJCQkJZXhjZXB0OnBhc3MKCQkJCXByaW50KCdcciVzIHwtLT4lcyVzfCVzICAgICAgICAgICAgICAgICAnICUgKFEsSyx1c2VyLHB3KSk7d3J0ID0gJyVzfCVzJyAlICh1c2VyLHB3KTtjcC5hcHBlbmQod3J0KTtvcGVuKCdIYXNpbC9DUC0nK2R1cmFzaSsnLnR4dCcsJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpO3BsYXlfbXB2KCIuV2lpaS5tcDMiKQoJCQkJYnJlYWsKCQkJZWxzZTpjb250aW51ZQoJCWxvb3ArPTEKCglkZWYgT3BzaV92MShzZWxmKToKCQlwcmludCgiIHwiKQoJCXByaW50KCIgfCIpCgkJamFsYW4oZiIgfC0tPntPfVNlYmVsdW0gTGFuanV0IEFwYWthaCBBbmRhIE1hdSBNZW5nZ3VuYWthbiBQYXNzd29yZCBHYWJ1bmdhbiA6e1F9IikKCQlvYWcgPSBpbnB1dChmIiB8LS0+UGlsaWggKHtPfVkvbntRfSkgOiIpCgkJaWYgb2FnIGluICgiIiwiIik6CgkJCWphbGFuKCIgfC0tPkphbmdhbiBLb3NvbmcgU2F5YW5mLi4uLi4iKQoJCQl0aW1lLnNsZWVwKDEpCgkJCXNlbGYuT3BzaV92MygpCgkJZWxpZiBvYWcgaW4gKCJZIiwieSIsIkciLCJnIik6CgkJCXByaW50KCIgfCIpCgkJCWphbGFuKCIgfC0tPlNpbGFoa2FuIEd1bmFrYW4gS29tYSBVbnR1ayBQZW1pc2FoIFBhc3N3b3JkLi4uIikKCQkJamFsYW4oJyB8LS0+U2VtYWtpbiBCYW55YWsgUGFzc3dvcmQgWWFuZyBBbmRhIEd1bmFrYW4sIFNlbWFraW4gTGVsZWQgU2FhdCBDcmFjay4uLicpCgkJCWphbGFuKGYiIHwtLT5Db250b2ggOiB7SUl9c2F5YW5nLGtvbnRvbCxhbmppbmd7UX0iKQoJCQl0YW1iYWh4ID0gaW5wdXQoZiIgfC0tPlBhc3N3b3JkIDogIikuc3BsaXQoIiwiKQoJCQlwYXNxID0gIlkiCgkJCXByaW50KCIgfCIpCgkJZWxpZiBvYWcgaW4gKCJOIiwibiIsInQiLCJUIik6CgkJCXByaW50KCIgfCIpCgkJCXBhc3EgPSAiTiIKCQllbHNlOgoJCQlwcmludCgiIHwiKQoJCQlqYWxhbigiIHwtLT5Jc2kgRGVuZ2FuIEJlbmFyIERvbmcuLi4iKQoJCQlwcmludCgiIHwiKQoJCQl0aW1lLnNsZWVwKDEpCgkJCXNlbGYuT3BzaV92MygpCgkJc2VsZi5wcm9fc2VzKCkKCQl3aXRoIF9fS2lreV9fKG1heF93b3JrZXJzPTM1KSBhcyAoZm9ybSk6CgkJCWZvciB1bmFtZSBpbiBzZWxmLmlkOgoJCQkJdHJ5OgoJCQkJCWlkX3osbmFtYV9hcSA9IHVuYW1lLnNwbGl0KCc8PT4nKQoJCQkJCXpaelogPSBuYW1hX2FxLnNwbGl0KCcgJykKCQkJCQl6YXE9elp6WlswXQoJCQkJCWlmIGxlbih6YXEpPj02OgoJCQkJCQlwd3dfID0gW3phcSwgemFxKycxMjMnLCB6YXErJzEyMzQnLCB6YXErJzEyMzQ1JywgbmFtYV9hcV0KCQkJCQllbGlmIGxlbih6YXEpPD0yOgoJCQkJCQlwd3dfID0gW3phcSsnMTIzNCcsIHphcSsnMTIzNDUnLCBuYW1hX2FxXQoJCQkJCWVsaWYgbGVuKHphcSk8PTU6CgkJCQkJCXB3d18gPSBbemFxKycxMjMnLCB6YXErJzEyMzQnLCB6YXErJzEyMzQ1JywgbmFtYV9hcV0KCQkJCQllbHNlOgoJCQkJCQlwd3dfID0gW3phcSwgemFxKycxMjMnLCB6YXErJzEyMzQnLCB6YXErJzEyMzQ1JywgbmFtYV9hcV0KCQkJCQlpZiBwYXNxIGluICgiTiIsIm4iKToKCQkJCQkJcHd3XyA9IHB3d18KCQkJCQllbHNlOgoJCQkJCQlwd3dfID0gcHd3XyArIHRhbWJhaHgKCQkJCQlmb3JtLnN1Ym1pdChzZWxmLm1vYmlsZV92MSxpZF96LCBwd3dfKQoJCQkJZXhjZXB0OnBhc3MKCQlvcy5yZW1vdmUoc2VsZi5hcGspCgkJcHJpbnQoIiB8IikKCQlwcmludCgiIHwiKQoJCXByaW50KCIgfCIpCgkJcHJpbnQoIiB8LS0+Q3JhY2sgU2VsZXNhaSIpCgkJc2VsZi5jaGVja19vcHNpKCkKCQlvcy5zeXMuZXhpdCgpCgoJZGVmIE9wc2lfdjIoc2VsZik6CgkJcHJpbnQoIiB8IikKCQlwcmludCgiIHwiKQoJCWphbGFuKGYiIHwtLT57T31TZWJlbHVtIExhbmp1dCBBcGFrYWggQW5kYSBNYXUgTWVuZ2d1bmFrYW4gUGFzc3dvcmQgR2FidW5nYW4gOntRfSIpCgkJb2FnID0gaW5wdXQoZiIgfC0tPlBpbGloICh7T31ZL257UX0pIDoiKQoJCWlmIG9hZyBpbiAoIiIsIiIpOgoJCQlqYWxhbigiIHwtLT5KYW5nYW4gS29zb25nIFNheWFuZi4uLi4uIikKCQkJdGltZS5zbGVlcCgxKQoJCQlzZWxmLk9wc2lfdjMoKQoJCWVsaWYgb2FnIGluICgiWSIsInkiLCJHIiwiZyIpOgoJCQlwcmludCgiIHwiKQoJCQlqYWxhbigiIHwtLT5TaWxhaGthbiBHdW5ha2FuIEtvbWEgVW50dWsgUGVtaXNhaCBQYXNzd29yZC4uLiIpCgkJCWphbGFuKCcgfC0tPlNlbWFraW4gQmFueWFrIFBhc3N3b3JkIFlhbmcgQW5kYSBHdW5ha2FuLCBTZW1ha2luIExlbGVkIFNhYXQgQ3JhY2suLi4nKQoJCQlqYWxhbihmIiB8LS0+Q29udG9oIDoge0lJfXNheWFuZyxrb250b2wsYW5qaW5ne1F9IikKCQkJdGFtYmFoeCA9IGlucHV0KGYiIHwtLT5QYXNzd29yZCA6ICIpLnNwbGl0KCIsIikKCQkJcGFzcSA9ICJZIgoJCQlwcmludCgiIHwiKQoJCWVsaWYgb2FnIGluICgiTiIsIm4iLCJ0IiwiVCIpOgoJCQlwcmludCgiIHwiKQoJCQlwYXNxID0gIk4iCgkJZWxzZToKCQkJcHJpbnQoIiB8IikKCQkJamFsYW4oIiB8LS0+SXNpIERlbmdhbiBCZW5hciBEb25nLi4uIikKCQkJcHJpbnQoIiB8IikKCQkJdGltZS5zbGVlcCgxKQoJCQlzZWxmLk9wc2lfdjMoKQoJCXNlbGYucHJvX3NlcygpCgkJd2l0aCBfX0tpa3lfXyhtYXhfd29ya2Vycz0zNSkgYXMgKGZvcm0pOgoJCQlmb3IgdW5hbWUgaW4gc2VsZi5pZDoKCQkJCXRyeToKCQkJCQlpZF96LG5hbWFfYXEgPSB1bmFtZS5zcGxpdCgnPD0+JykKCQkJCQl6WnpaID0gbmFtYV9hcS5zcGxpdCgnICcpCgkJCQkJemFxPXpaelpbMF0KCQkJCQlpZiBsZW4oemFxKT49NjoKCQkJCQkJcHd3XyA9IFt6YXEsIHphcSsnMTIzJywgemFxKycxMjM0JywgemFxKycxMjM0NScsIG5hbWFfYXFdCgkJCQkJZWxpZiBsZW4oemFxKTw9MjoKCQkJCQkJcHd3XyA9IFt6YXErJzEyMzQnLCB6YXErJzEyMzQ1JywgbmFtYV9hcV0KCQkJCQllbGlmIGxlbih6YXEpPD01OgoJCQkJCQlwd3dfID0gW3phcSsnMTIzJywgemFxKycxMjM0JywgemFxKycxMjM0NScsIG5hbWFfYXFdCgkJCQkJZWxzZToKCQkJCQkJcHd3XyA9IFt6YXEsIHphcSsnMTIzJywgemFxKycxMjM0JywgemFxKycxMjM0NScsIG5hbWFfYXFdCgkJCQkJaWYgcGFzcSBpbiAoIk4iLCJuIik6CgkJCQkJCXB3d18gPSBwd3dfCgkJCQkJZWxzZToKCQkJCQkJcHd3XyA9IHB3d18gKyB0YW1iYWh4CgkJCQkJZm9ybS5zdWJtaXQoc2VsZi5tb2JpbGVfdjIsaWRfeiwgcHd3XykKCQkJCWV4Y2VwdDpwYXNzCgkJb3MucmVtb3ZlKHNlbGYuYXBrKQoJCXByaW50KCIgfCIpCgkJcHJpbnQoIiB8IikKCQlwcmludCgiIHwiKQoJCXByaW50KCIgfC0tPkNyYWNrIFNlbGVzYWkiKQoJCXNlbGYuY2hlY2tfb3BzaSgpCgkJb3Muc3lzLmV4aXQoKQoKCWRlZiBPcHNpX3YzKHNlbGYpOgoJCXByaW50KCIgfCIpCgkJcHJpbnQoIiB8IikKCQlqYWxhbihmIiB8LS0+e099U2ViZWx1bSBMYW5qdXQgQXBha2FoIEFuZGEgTWF1IE1lbmdndW5ha2FuIFBhc3N3b3JkIEdhYnVuZ2FuIDp7UX0iKQoJCW9hZyA9IGlucHV0KGYiIHwtLT5QaWxpaCAoe099WS9ue1F9KSA6IikKCQlpZiBvYWcgaW4gKCIiLCIiKToKCQkJamFsYW4oIiB8LS0+SmFuZ2FuIEtvc29uZyBTYXlhbmYuLi4uLiIpCgkJCXRpbWUuc2xlZXAoMSkKCQkJc2VsZi5PcHNpX3YzKCkKCQllbGlmIG9hZyBpbiAoIlkiLCJ5IiwiRyIsImciKToKCQkJcHJpbnQoIiB8IikKCQkJamFsYW4oIiB8LS0+U2lsYWhrYW4gR3VuYWthbiBLb21hIFVudHVrIFBlbWlzYWggUGFzc3dvcmQuLi4iKQoJCQlqYWxhbignIHwtLT5TZW1ha2luIEJhbnlhayBQYXNzd29yZCBZYW5nIEFuZGEgR3VuYWthbiwgU2VtYWtpbiBMZWxlZCBTYWF0IENyYWNrLi4uJykKCQkJamFsYW4oZiIgfC0tPkNvbnRvaCA6IHtJSX1zYXlhbmcsa29udG9sLGFuamluZ3tRfSIpCgkJCXRhbWJhaHggPSBpbnB1dChmIiB8LS0+UGFzc3dvcmQgOiAiKS5zcGxpdCgiLCIpCgkJCXBhc3EgPSAiWSIKCQkJcHJpbnQoIiB8IikKCQllbGlmIG9hZyBpbiAoIk4iLCJuIiwidCIsIlQiKToKCQkJcHJpbnQoIiB8IikKCQkJcGFzcSA9ICJOIgoJCWVsc2U6CgkJCXByaW50KCIgfCIpCgkJCWphbGFuKCIgfC0tPklzaSBEZW5nYW4gQmVuYXIgRG9uZy4uLiIpCgkJCXByaW50KCIgfCIpCgkJCXRpbWUuc2xlZXAoMSkKCQkJc2VsZi5PcHNpX3YzKCkKCQlzZWxmLnByb19zZXMoKQoJCXdpdGggX19LaWt5X18obWF4X3dvcmtlcnM9MzUpIGFzIChmb3JtKToKCQkJZm9yIHVuYW1lIGluIHNlbGYuaWQ6CgkJCQl0cnk6CgkJCQkJaWRfeixuYW1hX2FxID0gdW5hbWUuc3BsaXQoJzw9PicpCgkJCQkJelp6WiA9IG5hbWFfYXEuc3BsaXQoJyAnKQoJCQkJCXphcT16WnpaWzBdCgkJCQkJaWYgbGVuKHphcSk+PTY6CgkJCQkJCXB3d18gPSBbemFxLCB6YXErJzEyMycsIHphcSsnMTIzNCcsIHphcSsnMTIzNDUnLCBuYW1hX2FxXQoJCQkJCWVsaWYgbGVuKHphcSk8PTI6CgkJCQkJCXB3d18gPSBbemFxKycxMjM0JywgemFxKycxMjM0NScsIG5hbWFfYXFdCgkJCQkJZWxpZiBsZW4oemFxKTw9NToKCQkJCQkJcHd3XyA9IFt6YXErJzEyMycsIHphcSsnMTIzNCcsIHphcSsnMTIzNDUnLCBuYW1hX2FxXQoJCQkJCWVsc2U6CgkJCQkJCXB3d18gPSBbemFxLCB6YXErJzEyMycsIHphcSsnMTIzNCcsIHphcSsnMTIzNDUnLCBuYW1hX2FxXQoJCQkJCWlmIHBhc3EgaW4gKCJOIiwibiIpOgoJCQkJCQlwd3dfID0gcHd3XwoJCQkJCWVsc2U6CgkJCQkJCXB3d18gPSBwd3dfICsgdGFtYmFoeAoJCQkJCWZvcm0uc3VibWl0KHNlbGYubW9iaWxlX3YzLGlkX3osIHB3d18pCgkJCQlleGNlcHQ6cGFzcwoJCW9zLnJlbW92ZShzZWxmLmFwaykKCQlwcmludCgiIHwiKQoJCXByaW50KCIgfCIpCgkJcHJpbnQoIiB8IikKCQlwcmludCgiIHwtLT5DcmFjayBTZWxlc2FpIikKCQlzZWxmLmNoZWNrX29wc2koKQoJCW9zLnN5cy5leGl0KCkKCgoKCglkZWYgT3BzaV92NChzZWxmKToKCQlwcmludCgiIHwiKQoJCXByaW50KCIgfCIpCgkJamFsYW4oZiIgfC0tPntPfVNlYmVsdW0gTGFuanV0IEFwYWthaCBBbmRhIE1hdSBNZW5nZ3VuYWthbiBQYXNzd29yZCBHYWJ1bmdhbiA6e1F9IikKCQlvYWcgPSBpbnB1dChmIiB8LS0+UGlsaWggKHtPfVkvbntRfSkgOiIpCgkJaWYgb2FnIGluICgiIiwiIik6CgkJCWphbGFuKCIgfC0tPkphbmdhbiBLb3NvbmcgU2F5YW5mLi4uLi4iKQoJCQl0aW1lLnNsZWVwKDEpCgkJCXNlbGYuT3BzaV92MygpCgkJZWxpZiBvYWcgaW4gKCJZIiwieSIsIkciLCJnIik6CgkJCXByaW50KCIgfCIpCgkJCWphbGFuKCIgfC0tPlNpbGFoa2FuIEd1bmFrYW4gS29tYSBVbnR1ayBQZW1pc2FoIFBhc3N3b3JkLi4uIikKCQkJamFsYW4oJyB8LS0+U2VtYWtpbiBCYW55YWsgUGFzc3dvcmQgWWFuZyBBbmRhIEd1bmFrYW4sIFNlbWFraW4gTGVsZWQgU2FhdCBDcmFjay4uLicpCgkJCWphbGFuKGYiIHwtLT5Db250b2ggOiB7SUl9c2F5YW5nLGtvbnRvbCxhbmppbmd7UX0iKQoJCQl0YW1iYWh4ID0gaW5wdXQoZiIgfC0tPlBhc3N3b3JkIDogIikuc3BsaXQoIiwiKQoJCQlwYXNxID0gIlkiCgkJCXByaW50KCIgfCIpCgkJZWxpZiBvYWcgaW4gKCJOIiwibiIsInQiLCJUIik6CgkJCXByaW50KCIgfCIpCgkJCXBhc3EgPSAiTiIKCQllbHNlOgoJCQlwcmludCgiIHwiKQoJCQlqYWxhbigiIHwtLT5Jc2kgRGVuZ2FuIEJlbmFyIERvbmcuLi4iKQoJCQlwcmludCgiIHwiKQoJCQl0aW1lLnNsZWVwKDEpCgkJCXNlbGYuT3BzaV92MygpCgkJc2VsZi5wcm9fc2VzKCkKCQl3aXRoIF9fS2lreV9fKG1heF93b3JrZXJzPTM1KSBhcyAoZm9ybSk6CgkJCWZvciB1bmFtZSBpbiBzZWxmLmlkOgoJCQkJdHJ5OgoJCQkJCWlkX3osbmFtYV9hcSA9IHVuYW1lLnNwbGl0KCc8PT4nKQoJCQkJCXpaelogPSBuYW1hX2FxLnNwbGl0KCcgJykKCQkJCQl6YXE9elp6WlswXQoJCQkJCWlmIGxlbih6YXEpPj02OgoJCQkJCQlwd3dfID0gW3phcSwgemFxKycxMjMnLCB6YXErJzEyMzQnLCB6YXErJzEyMzQ1JywgbmFtYV9hcV0KCQkJCQllbGlmIGxlbih6YXEpPD0yOgoJCQkJCQlwd3dfID0gW3phcSsnMTIzNCcsIHphcSsnMTIzNDUnLCBuYW1hX2FxXQoJCQkJCWVsaWYgbGVuKHphcSk8PTU6CgkJCQkJCXB3d18gPSBbemFxKycxMjMnLCB6YXErJzEyMzQnLCB6YXErJzEyMzQ1JywgbmFtYV9hcV0KCQkJCQllbHNlOgoJCQkJCQlwd3dfID0gW3phcSwgemFxKycxMjMnLCB6YXErJzEyMzQnLCB6YXErJzEyMzQ1JywgbmFtYV9hcV0KCQkJCQlpZiBwYXNxIGluICgiTiIsIm4iKToKCQkJCQkJcHd3XyA9IHB3d18KCQkJCQllbHNlOgoJCQkJCQlwd3dfID0gcHd3XyArIHRhbWJhaHgKCQkJCQlmb3JtLnN1Ym1pdChzZWxmLm1ldG9kZSxpZF96LCBwd3dfLCAibWJhc2ljLmZhY2Vib29rLmNvbSIpCgkJCQlleGNlcHQ6cGFzcwoJCW9zLnJlbW92ZShzZWxmLmFwaykKCQlwcmludCgiIHwiKQoJCXByaW50KCIgfCIpCgkJcHJpbnQoIiB8IikKCQlwcmludCgiIHwtLT5DcmFjayBTZWxlc2FpIikKCQlzZWxmLmNoZWNrX29wc2koKQoJCW9zLnN5cy5leGl0KCkKCWRlZiBPcHNpX3Y1KHNlbGYpOgoJCXByaW50KCIgfCIpCgkJcHJpbnQoIiB8IikKCQlqYWxhbihmIiB8LS0+e099U2ViZWx1bSBMYW5qdXQgQXBha2FoIEFuZGEgTWF1IE1lbmdndW5ha2FuIFBhc3N3b3JkIEdhYnVuZ2FuIDp7UX0iKQoJCW9hZyA9IGlucHV0KGYiIHwtLT5QaWxpaCAoe099WS9ue1F9KSA6IikKCQlpZiBvYWcgaW4gKCIiLCIiKToKCQkJamFsYW4oIiB8LS0+SmFuZ2FuIEtvc29uZyBTYXlhbmYuLi4uLiIpCgkJCXRpbWUuc2xlZXAoMSkKCQkJc2VsZi5PcHNpX3YzKCkKCQllbGlmIG9hZyBpbiAoIlkiLCJ5IiwiRyIsImciKToKCQkJcHJpbnQoIiB8IikKCQkJamFsYW4oIiB8LS0+U2lsYWhrYW4gR3VuYWthbiBLb21hIFVudHVrIFBlbWlzYWggUGFzc3dvcmQuLi4iKQoJCQlqYWxhbignIHwtLT5TZW1ha2luIEJhbnlhayBQYXNzd29yZCBZYW5nIEFuZGEgR3VuYWthbiwgU2VtYWtpbiBMZWxlZCBTYWF0IENyYWNrLi4uJykKCQkJamFsYW4oZiIgfC0tPkNvbnRvaCA6IHtJSX1zYXlhbmcsa29udG9sLGFuamluZ3tRfSIpCgkJCXRhbWJhaHggPSBpbnB1dChmIiB8LS0+UGFzc3dvcmQgOiAiKS5zcGxpdCgiLCIpCgkJCXBhc3EgPSAiWSIKCQkJcHJpbnQoIiB8IikKCQllbGlmIG9hZyBpbiAoIk4iLCJuIiwidCIsIlQiKToKCQkJcHJpbnQoIiB8IikKCQkJcGFzcSA9ICJOIgoJCWVsc2U6CgkJCXByaW50KCIgfCIpCgkJCWphbGFuKCIgfC0tPklzaSBEZW5nYW4gQmVuYXIgRG9uZy4uLiIpCgkJCXByaW50KCIgfCIpCgkJCXRpbWUuc2xlZXAoMSkKCQkJc2VsZi5PcHNpX3YzKCkKCQlzZWxmLnByb19zZXMoKQoJCXdpdGggX19LaWt5X18obWF4X3dvcmtlcnM9MzUpIGFzIChmb3JtKToKCQkJZm9yIHVuYW1lIGluIHNlbGYuaWQ6CgkJCQl0cnk6CgkJCQkJaWRfeixuYW1hX2FxID0gdW5hbWUuc3BsaXQoJzw9PicpCgkJCQkJelp6WiA9IG5hbWFfYXEuc3BsaXQoJyAnKQoJCQkJCXphcT16WnpaWzBdCgkJCQkJaWYgbGVuKHphcSk+PTY6CgkJCQkJCXB3d18gPSBbemFxLCB6YXErJzEyMycsIHphcSsnMTIzNCcsIHphcSsnMTIzNDUnLCBuYW1hX2FxXQoJCQkJCWVsaWYgbGVuKHphcSk8PTI6CgkJCQkJCXB3d18gPSBbemFxKycxMjM0JywgemFxKycxMjM0NScsIG5hbWFfYXFdCgkJCQkJZWxpZiBsZW4oemFxKTw9NToKCQkJCQkJcHd3XyA9IFt6YXErJzEyMycsIHphcSsnMTIzNCcsIHphcSsnMTIzNDUnLCBuYW1hX2FxXQoJCQkJCWVsc2U6CgkJCQkJCXB3d18gPSBbemFxLCB6YXErJzEyMycsIHphcSsnMTIzNCcsIHphcSsnMTIzNDUnLCBuYW1hX2FxXQoJCQkJCWlmIHBhc3EgaW4gKCJOIiwibiIpOgoJCQkJCQlwd3dfID0gcHd3XwoJCQkJCWVsc2U6CgkJCQkJCXB3d18gPSBwd3dfICsgdGFtYmFoeAoJCQkJCWZvcm0uc3VibWl0KHNlbGYubWV0b2RlX3YzLGlkX3osIHB3d18sICJtYmFzaWMuZmFjZWJvb2suY29tIikKCQkJCWV4Y2VwdDpwYXNzCgkJb3MucmVtb3ZlKHNlbGYuYXBrKQoJCXByaW50KCIgfCIpCgkJcHJpbnQoIiB8IikKCQlwcmludCgiIHwiKQoJCXByaW50KCIgfC0tPkNyYWNrIFNlbGVzYWkiKQoJCXNlbGYuY2hlY2tfb3BzaSgpCgkJb3Muc3lzLmV4aXQoKQoKCglkZWYgT3BzaV92NihzZWxmKToKCQlwcmludCgiIHwiKQoJCXByaW50KCIgfCIpCgkJamFsYW4oZiIgfC0tPntPfVNlYmVsdW0gTGFuanV0IEFwYWthaCBBbmRhIE1hdSBNZW5nZ3VuYWthbiBQYXNzd29yZCBHYWJ1bmdhbiA6e1F9IikKCQlvYWcgPSBpbnB1dChmIiB8LS0+UGlsaWggKHtPfVkvbntRfSkgOiIpCgkJaWYgb2FnIGluICgiIiwiIik6CgkJCWphbGFuKCIgfC0tPkphbmdhbiBLb3NvbmcgU2F5YW5nLi4uLi4iKQoJCQl0aW1lLnNsZWVwKDEpCgkJCXNlbGYuT3BzaV92MygpCgkJZWxpZiBvYWcgaW4gKCJZIiwieSIsIkciLCJnIik6CgkJCXByaW50KCIgfCIpCgkJCWphbGFuKCIgfC0tPlNpbGFoa2FuIEd1bmFrYW4gS29tYSBVbnR1ayBQZW1pc2FoIFBhc3N3b3JkLi4uIikKCQkJamFsYW4oJyB8LS0+U2VtYWtpbiBCYW55YWsgUGFzc3dvcmQgWWFuZyBBbmRhIEd1bmFrYW4sIFNlbWFraW4gTGVsZWQgU2FhdCBDcmFjay4uLicpCgkJCWphbGFuKGYiIHwtLT5Db250b2ggOiB7SUl9c2F5YW5nLGtvbnRvbCxhbmppbmd7UX0iKQoJCQl0YW1iYWh4ID0gaW5wdXQoZiIgfC0tPlBhc3N3b3JkIDogIikuc3BsaXQoIiwiKQoJCQlwYXNxID0gIlkiCgkJCXByaW50KCIgfCIpCgkJZWxpZiBvYWcgaW4gKCJOIiwibiIsInQiLCJUIik6CgkJCXByaW50KCIgfCIpCgkJCXBhc3EgPSAiTiIKCQllbHNlOgoJCQlwcmludCgiIHwiKQoJCQlqYWxhbigiIHwtLT5Jc2kgRGVuZ2FuIEJlbmFyIERvbmcuLi4iKQoJCQlwcmludCgiIHwiKQoJCQl0aW1lLnNsZWVwKDEpCgkJCXNlbGYuT3BzaV92MygpCgkJc2VsZi5wcm9fc2VzKCkKCQl3aXRoIF9fS2lreV9fKG1heF93b3JrZXJzPTM1KSBhcyAoZm9ybSk6CgkJCWZvciB1bmFtZSBpbiBzZWxmLmlkOgoJCQkJdHJ5OgoJCQkJCWlkX3osbmFtYV9hcSA9IHVuYW1lLnNwbGl0KCc8PT4nKQoJCQkJCXpaelogPSBuYW1hX2FxLnNwbGl0KCcgJykKCQkJCQl6YXE9elp6WlswXQoJCQkJCWlmIGxlbih6YXEpPj02OgoJCQkJCQlwd3dfID0gW3phcSwgemFxKycxMjMnLCB6YXErJzEyMzQnLCB6YXErJzEyMzQ1JywgbmFtYV9hcV0KCQkJCQllbGlmIGxlbih6YXEpPD0yOgoJCQkJCQlwd3dfID0gW3phcSsnMTIzNCcsIHphcSsnMTIzNDUnLCBuYW1hX2FxXQoJCQkJCWVsaWYgbGVuKHphcSk8PTU6CgkJCQkJCXB3d18gPSBbemFxKycxMjMnLCB6YXErJzEyMzQnLCB6YXErJzEyMzQ1JywgbmFtYV9hcV0KCQkJCQllbHNlOgoJCQkJCQlwd3dfID0gW3phcSwgemFxKycxMjMnLCB6YXErJzEyMzQnLCB6YXErJzEyMzQ1JywgbmFtYV9hcV0KCQkJCQlpZiBwYXNxIGluICgiTiIsIm4iKToKCQkJCQkJcHd3XyA9IHB3d18KCQkJCQllbHNlOgoJCQkJCQlwd3dfID0gcHd3XyArIHRhbWJhaHgKCQkJCQlmb3JtLnN1Ym1pdChzZWxmLm1ldG9kZV92MSxpZF96LCBwd3dfKQoJCQkJZXhjZXB0OnBhc3MKCQlvcy5yZW1vdmUoc2VsZi5hcGspCgkJI3ByaW50KCIgfCIpCgkJI3ByaW50KCIgfCIpCgkJI3ByaW50KCIgfCIpCgkJcHJpbnQoIiAtLT5DcmFjayBTZWxlc2FpIikKCQlzZWxmLmNoZWNrX29wc2koKQoJCW9zLnN5cy5leGl0KCkKCgoKCWRlZiBjaGVja19vcHNpKHNlbGYpOgoJCSNwcmludCgiIHwiKQoJCWphbGFuKCIgLS0+IFNlYmVsdW0gTGFuanV0IEhhcmFwIEhpZHVwIE1hdGlrYW4gTW9kZSBQZXNhd2F0IFNlbGFtYSAyLkRldGlrIikKCQlhc2sgPSBpbnB1dChmIiAtLT4gQXBha2FoIEFuZGEgTWF1IExhc3VuZyBDaGVjayBPcHNpICh7T31ZL257UX0pOiIpCgkJaWYgYXNrIGluIFsiWSIsICJ5Il06CgkJCXByaW50KCIgLS0+IFRvdGFsIEFrdW4gWWFuZyBDaGVjayBQb2ludCA6ICVzJXMlcyIlKE8sbGVuKGNwKSxRKSkKCQkJI3ByaW50KCIgfCIpCgkJCSNwcmludCgiIHwiKQoJCQlmb3IgbWVtZWsgaW4gY3A6CgkJCQlrb250b2wgPSBtZW1lay5yZXBsYWNlKCJcbiIsIiIpCgkJCQl0aXRpZCAgPSBrb250b2wuc3BsaXQoInwiKQoJCQkJcHJpbnQoIiB8IikKCQkJCXByaW50KCIgfC0tPiVzIiUoa29udG9sKSkKCQkJCXRyeTpzZWxmLmNla19vcHNpX2NwKHRpdGlkWzBdLCB0aXRpZFsxXSkKCQkJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjpwYXNzCgkJCQlleGNlcHQ6cGFzcwoJCQlwcmludCgiIHwiKQoJCQlqYWxhbigiIHwtLT4gQ2hlY2sgQWt1biBTdWRhaCBTZWxlc2FpLi4uLiIpCgkJCW9zLnN5cy5leGl0KCkKCQllbHNlOm9zLnN5cy5leGl0KCkKCWRlZiBjZWtfb3BzaV9jcChzZWxmLCB1c2VyLCBwYXN3KToKCQlkYXRhID0ge30KCQltYiA9ICgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIikKCQl1YSA9ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNltGQkFOL0VNQTtGQkxDL2lkX0lEO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XSIgCgkJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCgkJc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6ICJtYmFzaWMuZmFjZWJvb2suY29tIiwiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLCJvcmlnaW4iOiBtYiwiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOiB1YSwiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjogIm1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiAic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ICJuYXZpZ2F0ZSIsInNlYy1mZXRjaC11c2VyIjogIj8xIiwic2VjLWZldGNoLWRlc3QiOiAiZG9jdW1lbnQiLCJyZWZlcmVyIjogbWIrIi9sb2dpbi8/bmV4dCZyZWY9ZGJsJmZsJnJlZmlkPTgiLCJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsImFjY2VwdC1sYW5ndWFnZSI6ICJpZC1JRCxpZDtxPTAuOSJ9KQoJCWdlZCA9IHBhcnNlcihzZXMuZ2V0KG1iKyIvbG9naW4vP25leHQmcmVmPWRibCZmbCZyZWZpZD04IiwgaGVhZGVycz17InVzZXItYWdlbnQiOnVhfSkudGV4dCwgImh0bWwucGFyc2VyIikKCQlmbSA9IGdlZC5maW5kKCJmb3JtIix7Im1ldGhvZCI6InBvc3QifSkKCQlsaW5rMj1nZWQuZmluZCgiZm9ybSIseyJtZXRob2QiOiJwb3N0In0pCgkJbGlzdCA9IFsibHNkIiwiamF6b2VzdCIsIm1fdHMiLCJsaSIsInRyeV9udW1iZXIiLCJ1bnJlY29nbml6ZWRfdHJpZXMiLCJsb2dpbiIsImJpX3hyd2giXQoJCWZvciBpIGluIGZtLmZpbmRfYWxsKCJpbnB1dCIpOgoJCQlpZiBpLmdldCgibmFtZSIpIGluIGxpc3Q6ZGF0YS51cGRhdGUoe2kuZ2V0KCJuYW1lIik6aS5nZXQoInZhbHVlIil9KQoJCQllbHNlOmNvbnRpbnVlCgkJZGF0YS51cGRhdGUoeyJlbWFpbCI6dXNlciwicGFzcyI6cGFzd30pCgkJcnVuID0gcGFyc2VyKHNlcy5wb3N0KG1iK2ZtLmdldCgiYWN0aW9uIiksIGRhdGE9ZGF0YSwgYWxsb3dfcmVkaXJlY3RzPVRydWUpLnRleHQsICJodG1sLnBhcnNlciIpCgkJaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKToKCQkJaWYgIkFrdW4gQW5kYSBEaWt1bmNpIiBpbiBydW4udGV4dDoKCQkJCXByaW50KGYiIHwtLS0+e099QWt1biBJbmkgVGVya3VuY2kuLntRfSIpCgkJCWVsc2U6CgkJCQlwcmludChmIiB8LS0tPntJSX1TZWxhbWF0IEFrdW4gSW5pLCBUaWRhayBUZXJrZW5hayBDaGVjayBQb2ludC4uLntRfSIpCgkJZWxpZiAiY2hlY2twb2ludCIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKToKCQkJZWF4ID0gcmUuZmluZGFsbCgiXDx0aXRsZT4oLio/KTxcL3RpdGxlPiIsc3RyKHJ1bikpCgkJCWZvcm0gPSBydW4uZmluZCgiZm9ybSIpCgkJCWR0c2cgPSBmb3JtLmZpbmQoImlucHV0Iix7Im5hbWUiOiJmYl9kdHNnIn0pWyJ2YWx1ZSJdCgkJCWp6c3QgPSBmb3JtLmZpbmQoImlucHV0Iix7Im5hbWUiOiJqYXpvZXN0In0pWyJ2YWx1ZSJdCgkJCW5oID0gZm9ybS5maW5kKCJpbnB1dCIseyJuYW1lIjoibmgifSlbInZhbHVlIl0KCQkJZGF0YUQgPSB7ImZiX2R0c2ciOiBkdHNnLCJmYl9kdHNnIjogZHRzZywiamF6b2VzdCI6IGp6c3QsImphem9lc3QiOiBqenN0LCJjaGVja3BvaW50X2RhdGEiOiIiLCJzdWJtaXRbQ29udGludWVdIjoiTGFuanV0a2FuIiwibmgiOiBuaH0KCQkJeG54eCA9IHBhcnNlcihzZXMucG9zdChtYitmb3JtWyJhY3Rpb24iXSwgZGF0YT1kYXRhRCkudGV4dCwgImh0bWwucGFyc2VyIikKCQkJbmdldyA9IFt5eS50ZXh0IGZvciB5eSBpbiB4bnh4LmZpbmRfYWxsKCJvcHRpb24iKV0KCQkJWnpaeiA9IGYie3N0cihsZW4obmdldykpfSIKCQkJaWYgWnpaeiA9PSAiMCI6CgkJCQlwcmludCgiIHwtLS0+VGVyZGFwYXQgIitLK3N0cihsZW4obmdldykpK1ErIiBPcHNpIikKCQkJCWlmICJMaWhhdCBkZXRhaWwgbG9naW4geWFuZyBkaXRhbXBpbGthbi4gSW5pIEFuZGE/IiBpbiBlYXg6CgkJCQkJcHJpbnQoZiIgfC0tLT57SUl9U2VsYW1hdCBBa3VuIEluaSBUYXAgWWVzLi4ue1F9IikKCQkJCWVsaWYgIk1hc3Vra2FuIEtvZGUgTWFzdWsgdW50dWsgTWVsYW5qdXRrYW4iIGluIHJlLmZpbmRhbGwoIlw8dGl0bGU+KC4qPyk8XC90aXRsZT4iLHN0cihydW4pKToKCQkJCQlwcmludChmIiB8LS0tPntPfUFrdW4gSW5pIFRlcmtlbmFrIEEyRntRfSIpCgkJCQllbHNlOgoJCQkJCXByaW50KGYiIHwtLS0+e0lJfXsnJy5qb2luKGVheCl9e1F9IikKCQkJZWxzZToKCQkJCXByaW50KCIgfC0tLT5UZXJkYXBhdCAiK0src3RyKGxlbihuZ2V3KSkrUSsiIE9wc2kiKQoJCQkJZm9yIG9wdCBpbiByYW5nZShsZW4obmdldykpOgoJCQkJCXByaW50KGYiIHwtLS0+e099e3N0cihvcHQrMSl9e1F9LiB7bmdld1tvcHRdfSIpCgkJZWxpZiAibG9naW5fZXJyb3IiIGluIHN0cihydW4pOgoJCQlvaCA9IHJ1bi5maW5kKCJkaXYiLHsiaWQiOiJsb2dpbl9lcnJvciJ9KS5maW5kKCJkaXYiKS50ZXh0CgkJCXByaW50KGYiIHwtLS0+e019e29ofXtRfSIpCgkJZWxzZTpwcmludChmIiB8LS0tPntNfUthdGEgU2FuZGkgU2FsYWguLi57UX0iKQoKZGVmIGNla19jb29raWVzX2J5X3Jpc2t5KHVzZXJyLCBjb2tpaSwgbWVtZWtfbWFtYWtfeWF5YW4pOgoJa250bF95YXlhbiA9ICIiCgl1c2VyID0gdXNlcnIKCWFrdW5fbm4gPSBtZW1la19tYW1ha195YXlhbgoJc2Vzc2lvbiA9IHJlcS5TZXNzaW9uKCkKCWt1a2lzX3N1cyA9IGNva2lpCglrdWtpc19zdXMgPSBrdWtpc19zdXMucmVwbGFjZSgibm9zY3JpcHQ9MSIsICIiKQoJa3VraXNfaW1wb3MgPSAiIgoJa3VraXNfc3VzID0ga3VraXNfc3VzLnJlcGxhY2UoImNfdXNlcj0iK3VzZXIrIjsiLCAiIikKCWt1a2lzX3N1cyA9IGt1a2lzX3N1cy5yZXBsYWNlKCI7Y191c2VyPSIrdXNlcisiOyIsICIiKQoJa3VraXNfc3VzID0ga3VraXNfc3VzLnJlcGxhY2UoIjtjX3VzZXI9Iit1c2VyLCAiIikKCWt1a2lzX3N1cyA9IGt1a2lzX3N1cy5yZXBsYWNlKCJjX3VzZXI9Iit1c2VyLCAiIikKCWt1a2lzX2ltcG9zICs9IGt1a2lzX3N1cwoJa3VraXNfaW1wb3MgKz0gIjsiCglrdWtpc19pbXBvcyArPSAiY191c2VyPSIKCWt1a2lzX2ltcG9zICs9IHVzZXIKCWNva2kgPSBrdWtpc19pbXBvcwoKCWNlayA9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQKCWlmICJEaWFrc2VzIG1lbmdndW5ha2FuIEZhY2Vib29rIiBpbiByZS5maW5kYWxsKCJcPHRpdGxlXD4oLio/KTxcL3RpdGxlXD4iLHN0cihjZWspKToKCgkJZ2V0X2lkID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9wcm9maWxlLnBocCIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQKCQluYW1hID0gcmUuZmluZGFsbCgnXDx0aXRsZVw+KC4qPyk8XC90aXRsZVw+JyxzdHIoZ2V0X2lkKSlbMF0KCQlyZXNwb25zZSA9IHNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vcHJvZmlsZS5waHA/dj1pbmZvIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dAoJCXJlc3BvbnNlMiA9IHNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vcHJvZmlsZS5waHA/dj1mcmllbmRzIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dAoJCXJlc3BvbnNlMyA9IHNlc3Npb24uZ2V0KGYiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3t1c2VyfS9hbGxhY3Rpdml0eS8/Y2F0ZWdvcnlfa2V5PWFsbCZzZWN0aW9uX2lkPXllYXJfMjAyMiZ0aW1lc3RhcnQ9MTYwOTQ4ODAwMCZ0aW1lZW5kPTE2NDEwMjM5OTkmc2VjdGlvbkxvYWRpbmdJRD1tX3RpbWVsaW5lX2xvYWRpbmdfZGl2XzE2NDEwMjM5OTlfMTYwOTQ4ODAwMF84XyIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQKCQlyZXNwb25zZTQgPSBzZXNzaW9uLmdldChmImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS90aW1lbGluZS9hcHBfY29sbGVjdGlvbi8/Y29sbGVjdGlvbl90b2tlbj17dXNlcn0lM0ExODQ5ODUwNzE1MzgwMDIlM0EzMiZfcmRjPTEmX3JkciIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQKCQl0cnk6bm9tZXIgPSByZS5maW5kYWxsKCdcPGFcIGhyZWZcPVwidGVsXDpcKy4qP1wiPlw8c3BhblwgZGlyXD1cImx0clwiPiguKj8pPFwvc3Bhbj48XC9hPicsc3RyKHJlc3BvbnNlKSlbMF0KCQlleGNlcHQ6bm9tZXIgPSAiLSIKCQl0cnk6ZW1haWwgPSByZS5maW5kYWxsKCdcPGEgaHJlZlw9XCJodHRwc1w6XC9cL2xtXC5mYWNlYm9va1wuY29tXC9sXC5waHBcP3VcPW1haWwuKj9cIiB0YXJnZXRcPVwiLio/XCJcPiguKj8pPFwvYVw+JyxzdHIocmVzcG9uc2UpKVswXS5yZXBsYWNlKCcmIzA2NDsnLCdAJykKCQlleGNlcHQ6ZW1haWw9Ii0iCgkJdHJ5OnR0bCA9IHJlLmZpbmRhbGwoJ1w8XC90ZFw+XDx0ZFwgdmFsaWduXD1cInRvcFwiIGNsYXNzXD1cIi4qP1wiXD5cPGRpdlwgY2xhc3NcPVwiLio/XCJcPihcZCtccytcdytccytcZCspPFwvZGl2XD5cPFwvdGRcPlw8XC90clw+JyxzdHIocmVzcG9uc2UpKVswXQoJCWV4Y2VwdDp0dGw9Ii0iCgkJdHJ5OnRlbWFuID0gcmUuZmluZGFsbCgnXDxoM1wgY2xhc3NcPVwiLio/XCJcPlRlbWFuXCBcKCguKj8pXCk8XC9oM1w+JyxzdHIocmVzcG9uc2UyKSlbMF0KCQlleGNlcHQ6dGVtYW4gPSAiMCIKCQl0cnk6cGVuZ2lrdXQgPSByZS5maW5kYWxsKCdcPHNwYW5cIGNsYXNzXD1cIi4qP1wiXD4oLio/KVw8XC9zcGFuXD4nLHN0cihyZXNwb25zZTQpKVsxXQoJCWV4Y2VwdDpwZW5naWt1dCA9ICIwIgoJCXRyeToKCQkJdGFodW4gPSAiLSIKCQkJY2VrX3RobiA9IHJlLmZpbmRhbGwoJ1w8ZGl2XCBjbGFzc1w9XCIuKj9cIiBpZFw9XCJ5ZWFyXyguKj8pXCI+JyxzdHIocmVzcG9uc2UzKSkKCQkJZm9yIG5lbmVuIGluIGNla190aG46CgkJCQl0YWh1biArPSBuZW5lbisiLCAiCgkJZXhjZXB0OnBhc3MKCQlrbnRsX3lheWFuICs9IChmIntRfSB8LS0+TmFtYSBBa3VuICAgICAgIDoge099e25hbWF9e1B9XG4gfC0tPkp1bWxhaCBUZW1hbiAgICA6IHtPfXt0ZW1hbn17UH1cbiB8LS0+SnVtbGFoIFBlbmdpa3V0IDoge099e3Blbmdpa3V0fXtQfVxuIHwtLT5FbWFpbCBBa3RpZiAgICAgOiB7T317ZW1haWx9e1B9XG4gfC0tPk5vbW9yIEFrdGlmICAgICA6IHtPfXtub21lcn17UH1cbiB8LS0+VGFodW4gQWt1biAgICAgIDoge099e3RhaHVufXtQfVxuIHwtLT5UYW5nZ2FsIExhaGlyICAgOiB7T317dHRsfXtQfVxuIikKCgkJaGl0MSwgaGl0MiA9IDAsMAoJCWNlayA9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQKCQljZWsyID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dAoJCWlmICJEaWFrc2VzIG1lbmdndW5ha2FuIEZhY2Vib29rIiBpbiByZS5maW5kYWxsKCJcPHRpdGxlXD4oLio/KTxcL3RpdGxlXD4iLHN0cihjZWspKToKCQkJa250bF95YXlhbiArPSAoZiIgfC0tLT5BcGxpa2FzaSBZYW5nIFRlcmthaXQqXG4iKQoJCQlpZiAiQW5kYSB0aWRhayBtZW1pbGlraSBhcGxpa2FzaSBhdGF1IHNpdHVzIHdlYiBha3RpZiB1bnR1ayBkaXRpbmphdS4iIGluIGNlazoKCQkJCWtudGxfeWF5YW4gKz0gKGYiIHwtLS0+VGlkYWsgQWRhIEFwbGlrYXNpIEFrdGlmIFlhbmcgVGVya2FpdCpcbiIpCgkJCWVsc2U6CgkJCQlrbnRsX3lheWFuICs9IChmIiB8LS0tPkFwbGlrYXNpIEFrdGlmKlxuIikKCQkJCWFwa0FrdGlmID0gcmUuZmluZGFsbCgnXC8+PGRpdlwgY2xhc3NcPVwiLio/XCJcPlw8c3BhblwgY2xhc3NcPVwiLio/XCJcPiguKj8pPFwvc3Bhblw+JyxzdHIoY2VrKSkKCQkJCWRpdGFtYmFoa2FuID0gcmUuZmluZGFsbCgnXDxkaXZcPlw8XC9kaXZcPlw8ZGl2XCBjbGFzc1w9XCIuKj9cIlw+KC4qPyk8XC9kaXZcPicsc3RyKGNlaykpCgkJCQlmb3IgbXVuY3VsIGluIGFwa0FrdGlmOgoJCQkJCXRvciA9IG11bmN1bAoJCQkJCWhpdDErPTEKCQkJCQl0cnk6CgkJCQkJCW11bmN1bCA9IHJlLmZpbmRhbGwoJ1w8YVwgaHJlZlw9XCIuKj9cIlw+KC4qPyk8XC9hXD4nLHN0cihtdW5jdWwpKQoJCQkJCQltdW5jdWwgPSAiJXMiJShtdW5jdWxbMF0pCgkJCQkJCW11bmN1bCA9IG11bmN1bC5yZXBsYWNlKCJbIiwgIiIpLnJlcGxhY2UoIl0iLCAiIikucmVwbGFjZSgiJyIsICIiKS5yZXBsYWNlKCciJywgJycpCgkJCQkJZXhjZXB0OgoJCQkJCQltdW5jdWwgPSB0b3IKCQkJCQlrbnRsX3lheWFuICs9IChmIiB8LS0tPntRfXtDfXtoaXQxfXtRfS57SX17bXVuY3VsfSB7Q317ZGl0YW1iYWhrYW5baGl0Ml19e1F9XG4iKQoJCQkJCWhpdDIrPTEKCQkJaWYgIkFuZGEgdGlkYWsgbWVtaWxpa2kgYXBsaWthc2kgYXRhdSBzaXR1cyB3ZWIga2VkYWx1d2Fyc2EgdW50dWsgZGl0aW5qYXUiIGluIGNlazI6CgkJCQlrbnRsX3lheWFuICs9IChmIiB8LS0tPlRpZGFrIEFkYSBBcGxpa2FzaSBLZWRhbHV3YXJzYSBZYW5nIFRlcmthaXQqIikKCQkJZWxzZToKCQkJCWhpdDEsaGl0Mj0wLDAKCQkJCWtudGxfeWF5YW4gKz0gKGYiIHwtLS0+QXBsaWthc2kgS2VkYWx1d2Fyc2EqXG4iKQoJCQkJYXBrS2FkYWx1YXJzYSA9IHJlLmZpbmRhbGwoJ1wvPjxkaXZcIGNsYXNzXD1cIi4qP1wiXD5cPHNwYW5cIGNsYXNzXD1cIi4qP1wiXD4oLio/KTxcL3NwYW5cPicsc3RyKGNlazIpKQoJCQkJa2FkYWx1YXJzYSA9IHJlLmZpbmRhbGwoJ1w8ZGl2XD5cPFwvZGl2XD5cPGRpdlwgY2xhc3NcPVwiLio/XCJcPiguKj8pPFwvZGl2XD4nLHN0cihjZWsyKSkKCQkJCWZvciBtdW5jdWwgaW4gYXBrS2FkYWx1YXJzYToKCQkJCQl0b3IgPSBtdW5jdWwKCQkJCQloaXQxKz0xCgkJCQkJdHJ5OgoJCQkJCQltdW5jdWwgPSByZS5maW5kYWxsKCdcPGFcIGhyZWZcPVwiLio/XCJcPiguKj8pPFwvYVw+JyxzdHIobXVuY3VsKSkKCQkJCQkJbXVuY3VsID0gIiVzIiUobXVuY3VsWzBdKQoJCQkJCQltdW5jdWwgPSBtdW5jdWwucmVwbGFjZSgiWyIsICIiKS5yZXBsYWNlKCJdIiwgIiIpLnJlcGxhY2UoIiciLCAiIikucmVwbGFjZSgnIicsICcnKQoJCQkJCWV4Y2VwdDoKCQkJCQkJbXVuY3VsID0gdG9yCgkJCQkJa250bF95YXlhbiArPSAoZiIgfC0tLT57UX17Q317aGl0MX17UX0ue0t9e211bmN1bH0ge1V9e2thZGFsdWFyc2FbaGl0Ml19e1F9XG4iKQoJCQkJCWhpdDIrPTEKCQllbHNlOgoJCQlrbnRsX3lheWFuICs9IChmIlxyIHwtLT57TX1Db29raWVzIEVycm9yICEiKQoJZWxzZTpwYXNzCglwcmludChha3VuX25uKyJcbiIra250bF95YXlhbikKZGVmIGNla19jb29raWVzX2J5X3Jpc2t5X3VhKHVzZXJyLCBjb2tpaSwgbWVtZWtfbWFtYWtfeWF5YW4sIHVhX3JhbmRvKToKCWtudGxfeWF5YW4gPSAiIgoJdXNlciA9IHVzZXJyCglha3VuX25uID0gbWVtZWtfbWFtYWtfeWF5YW4KCXNlc3Npb24gPSByZXEuU2Vzc2lvbigpCglrdWtpc19zdXMgPSBjb2tpaQoJa3VraXNfc3VzID0ga3VraXNfc3VzLnJlcGxhY2UoIm5vc2NyaXB0PTEiLCAiIikKCWt1a2lzX2ltcG9zID0gIiIKCWt1a2lzX3N1cyA9IGt1a2lzX3N1cy5yZXBsYWNlKCJjX3VzZXI9Iit1c2VyKyI7IiwgIiIpCglrdWtpc19zdXMgPSBrdWtpc19zdXMucmVwbGFjZSgiO2NfdXNlcj0iK3VzZXIrIjsiLCAiIikKCWt1a2lzX3N1cyA9IGt1a2lzX3N1cy5yZXBsYWNlKCI7Y191c2VyPSIrdXNlciwgIiIpCglrdWtpc19zdXMgPSBrdWtpc19zdXMucmVwbGFjZSgiY191c2VyPSIrdXNlciwgIiIpCglrdWtpc19pbXBvcyArPSBrdWtpc19zdXMKCWt1a2lzX2ltcG9zICs9ICI7IgoJa3VraXNfaW1wb3MgKz0gImNfdXNlcj0iCglrdWtpc19pbXBvcyArPSB1c2VyCgljb2tpID0ga3VraXNfaW1wb3MKCgljZWsgPXNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1hY3RpdmUiLGNvb2tpZXM9eyJjb29raWUiOmNva2l9KS50ZXh0CglpZiAiRGlha3NlcyBtZW5nZ3VuYWthbiBGYWNlYm9vayIgaW4gcmUuZmluZGFsbCgiXDx0aXRsZVw+KC4qPyk8XC90aXRsZVw+IixzdHIoY2VrKSk6CgoJCWdldF9pZCA9IHNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vcHJvZmlsZS5waHAiLGNvb2tpZXM9eyJjb29raWUiOmNva2l9KS50ZXh0CgkJbmFtYSA9IHJlLmZpbmRhbGwoJ1w8dGl0bGVcPiguKj8pPFwvdGl0bGVcPicsc3RyKGdldF9pZCkpWzBdCgkJcmVzcG9uc2UgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP3Y9aW5mbyIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQKCQlyZXNwb25zZTIgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP3Y9ZnJpZW5kcyIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQKCQlyZXNwb25zZTMgPSBzZXNzaW9uLmdldChmImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS97dXNlcn0vYWxsYWN0aXZpdHkvP2NhdGVnb3J5X2tleT1hbGwmc2VjdGlvbl9pZD15ZWFyXzIwMjImdGltZXN0YXJ0PTE2MDk0ODgwMDAmdGltZWVuZD0xNjQxMDIzOTk5JnNlY3Rpb25Mb2FkaW5nSUQ9bV90aW1lbGluZV9sb2FkaW5nX2Rpdl8xNjQxMDIzOTk5XzE2MDk0ODgwMDBfOF8iLGNvb2tpZXM9eyJjb29raWUiOmNva2l9KS50ZXh0CgkJcmVzcG9uc2U0ID0gc2Vzc2lvbi5nZXQoZiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vdGltZWxpbmUvYXBwX2NvbGxlY3Rpb24vP2NvbGxlY3Rpb25fdG9rZW49e3VzZXJ9JTNBMTg0OTg1MDcxNTM4MDAyJTNBMzImX3JkYz0xJl9yZHIiLGNvb2tpZXM9eyJjb29raWUiOmNva2l9KS50ZXh0CgkJdHJ5Om5vbWVyID0gcmUuZmluZGFsbCgnXDxhXCBocmVmXD1cInRlbFw6XCsuKj9cIj5cPHNwYW5cIGRpclw9XCJsdHJcIj4oLio/KTxcL3NwYW4+PFwvYT4nLHN0cihyZXNwb25zZSkpWzBdCgkJZXhjZXB0Om5vbWVyID0gIi0iCgkJdHJ5OmVtYWlsID0gcmUuZmluZGFsbCgnXDxhIGhyZWZcPVwiaHR0cHNcOlwvXC9sbVwuZmFjZWJvb2tcLmNvbVwvbFwucGhwXD91XD1tYWlsLio/XCIgdGFyZ2V0XD1cIi4qP1wiXD4oLio/KTxcL2FcPicsc3RyKHJlc3BvbnNlKSlbMF0ucmVwbGFjZSgnJiMwNjQ7JywnQCcpCgkJZXhjZXB0OmVtYWlsPSItIgoJCXRyeTp0dGwgPSByZS5maW5kYWxsKCdcPFwvdGRcPlw8dGRcIHZhbGlnblw9XCJ0b3BcIiBjbGFzc1w9XCIuKj9cIlw+XDxkaXZcIGNsYXNzXD1cIi4qP1wiXD4oXGQrXHMrXHcrXHMrXGQrKTxcL2Rpdlw+XDxcL3RkXD5cPFwvdHJcPicsc3RyKHJlc3BvbnNlKSlbMF0KCQlleGNlcHQ6dHRsPSItIgoJCXRyeTp0ZW1hbiA9IHJlLmZpbmRhbGwoJ1w8aDNcIGNsYXNzXD1cIi4qP1wiXD5UZW1hblwgXCgoLio/KVwpPFwvaDNcPicsc3RyKHJlc3BvbnNlMikpWzBdCgkJZXhjZXB0OnRlbWFuID0gIjAiCgkJdHJ5OnBlbmdpa3V0ID0gcmUuZmluZGFsbCgnXDxzcGFuXCBjbGFzc1w9XCIuKj9cIlw+KC4qPylcPFwvc3Bhblw+JyxzdHIocmVzcG9uc2U0KSlbMV0KCQlleGNlcHQ6cGVuZ2lrdXQgPSAiMCIKCQl0cnk6CgkJCXRhaHVuID0gIi0iCgkJCWNla190aG4gPSByZS5maW5kYWxsKCdcPGRpdlwgY2xhc3NcPVwiLio/XCIgaWRcPVwieWVhcl8oLio/KVwiPicsc3RyKHJlc3BvbnNlMykpCgkJCWZvciBuZW5lbiBpbiBjZWtfdGhuOgoJCQkJdGFodW4gKz0gbmVuZW4rIiwgIgoJCWV4Y2VwdDpwYXNzCgkJa250bF95YXlhbiArPSAoZiJ7UX0gfC0tPk5hbWEgQWt1biAgICAgICA6IHtPfXtuYW1hfXtQfVxuIHwtLT5KdW1sYWggVGVtYW4gICAgOiB7T317dGVtYW59e1B9XG4gfC0tPkp1bWxhaCBQZW5naWt1dCA6IHtPfXtwZW5naWt1dH17UH1cbiB8LS0+RW1haWwgQWt0aWYgICAgIDoge099e2VtYWlsfXtQfVxuIHwtLT5Ob21vciBBa3RpZiAgICAgOiB7T317bm9tZXJ9e1B9XG4gfC0tPlRhaHVuIEFrdW4gICAgICA6IHtPfXt0YWh1bn17UH1cbiB8LS0+VGFuZ2dhbCBMYWhpciAgIDoge099e3R0bH17UH1cbiIpCgoJCWhpdDEsIGhpdDIgPSAwLDAKCQljZWsgPXNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1hY3RpdmUiLGNvb2tpZXM9eyJjb29raWUiOmNva2l9KS50ZXh0CgkJY2VrMiA9IHNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1pbmFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQKCQlpZiAiRGlha3NlcyBtZW5nZ3VuYWthbiBGYWNlYm9vayIgaW4gcmUuZmluZGFsbCgiXDx0aXRsZVw+KC4qPyk8XC90aXRsZVw+IixzdHIoY2VrKSk6CgkJCWtudGxfeWF5YW4gKz0gKGYiIHwtLS0+QXBsaWthc2kgWWFuZyBUZXJrYWl0KlxuIikKCQkJaWYgIkFuZGEgdGlkYWsgbWVtaWxpa2kgYXBsaWthc2kgYXRhdSBzaXR1cyB3ZWIgYWt0aWYgdW50dWsgZGl0aW5qYXUuIiBpbiBjZWs6CgkJCQlrbnRsX3lheWFuICs9IChmIiB8LS0tPlRpZGFrIEFkYSBBcGxpa2FzaSBBa3RpZiBZYW5nIFRlcmthaXQqXG4iKQoJCQllbHNlOgoJCQkJa250bF95YXlhbiArPSAoZiIgfC0tLT5BcGxpa2FzaSBBa3RpZipcbiIpCgkJCQlhcGtBa3RpZiA9IHJlLmZpbmRhbGwoJ1wvPjxkaXZcIGNsYXNzXD1cIi4qP1wiXD5cPHNwYW5cIGNsYXNzXD1cIi4qP1wiXD4oLio/KTxcL3NwYW5cPicsc3RyKGNlaykpCgkJCQlkaXRhbWJhaGthbiA9IHJlLmZpbmRhbGwoJ1w8ZGl2XD5cPFwvZGl2XD5cPGRpdlwgY2xhc3NcPVwiLio/XCJcPiguKj8pPFwvZGl2XD4nLHN0cihjZWspKQoJCQkJZm9yIG11bmN1bCBpbiBhcGtBa3RpZjoKCQkJCQloaXQxKz0xCgkJCQkJa250bF95YXlhbiArPSAoZiIgfC0tLT57UX17Q317aGl0MX17UX0ue0l9e211bmN1bH0ge0N9e2RpdGFtYmFoa2FuW2hpdDJdfXtRfVxuIikKCQkJCQloaXQyKz0xCgkJCWlmICJBbmRhIHRpZGFrIG1lbWlsaWtpIGFwbGlrYXNpIGF0YXUgc2l0dXMgd2ViIGtlZGFsdXdhcnNhIHVudHVrIGRpdGluamF1IiBpbiBjZWsyOgoJCQkJa250bF95YXlhbiArPSAoZiIgfC0tLT5UaWRhayBBZGEgQXBsaWthc2kgS2VkYWx1d2Fyc2EgWWFuZyBUZXJrYWl0KiIpCgkJCWVsc2U6CgkJCQloaXQxLGhpdDI9MCwwCgkJCQlrbnRsX3lheWFuICs9IChmIiB8LS0tPkFwbGlrYXNpIEtlZGFsdXdhcnNhKlxuIikKCQkJCWFwa0thZGFsdWFyc2EgPSByZS5maW5kYWxsKCdcLz48ZGl2XCBjbGFzc1w9XCIuKj9cIlw+XDxzcGFuXCBjbGFzc1w9XCIuKj9cIlw+KC4qPyk8XC9zcGFuXD4nLHN0cihjZWsyKSkKCQkJCWthZGFsdWFyc2EgPSByZS5maW5kYWxsKCdcPGRpdlw+XDxcL2Rpdlw+XDxkaXZcIGNsYXNzXD1cIi4qP1wiXD4oLio/KTxcL2Rpdlw+JyxzdHIoY2VrMikpCgkJCQlmb3IgbXVuY3VsIGluIGFwa0thZGFsdWFyc2E6CgkJCQkJaGl0MSs9MQoJCQkJCWtudGxfeWF5YW4gKz0gKGYiIHwtLS0+e1F9e0N9e2hpdDF9e1F9LntLfXttdW5jdWx9IHtVfXtrYWRhbHVhcnNhW2hpdDJdfXtRfVxuIikKCQkJCQloaXQyKz0xCgkJZWxzZToKCQkJa250bF95YXlhbiArPSAoZiJcciB8LS0+e019Q29va2llcyBFcnJvciAhIikKCWVsc2U6cGFzcwoJcHJpbnQoIiB8LS0+Iit1YV9yYW5kbysiXG4iK2FrdW5fbm4rIlxuIitrbnRsX3lheWFuKQoJCgkJCnNlcz1yZXF1ZXN0cy5TZXNzaW9uKCkKZGVmIGxvZ2luKCk6Cglvcy5zeXN0ZW0oImNsZWFyIikKCWFzYSA9IHBpbGloKFtCLEMsSyxVLEksSUksTyxRXSkKCWphbGFuKGYiIiJ7SUl94paI4paI4paI4paI4paI4paI4paI4pWXICAgIOKWiOKWiOKVlyAgICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKVlyAg4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKVl+KWiOKWiOKWiOKVlyAgIOKWiOKWiOKVlwrilojilojilZTilZDilZDilZDilZDilZ0gICAg4paI4paI4pWRICAgICDilojilojilZTilZDilZDilZDilojilojilZfilojilojilZTilZDilZDilZDilZDilZ0g4paI4paI4pWR4paI4paI4paI4paI4pWXICDilojilojilZEK4paI4paI4paI4paI4paI4paI4paI4pWXICAgIOKWiOKWiOKVkSAgICAg4paI4paI4pWRICAg4paI4paI4pWR4paI4paI4pWRICDilojilojilojilZfilojilojilZHilojilojilZTilojilojilZcg4paI4paI4pWRCuKVmuKVkOKVkOKVkOKVkOKWiOKWiOKVkSAgICDilojilojilZEgICAgIOKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVkeKWiOKWiOKVkeKVmuKWiOKWiOKVl+KWiOKWiOKVkQrilojilojilojilojilojilojilojilZEgICAg4paI4paI4paI4paI4paI4paI4paI4pWX4pWa4paI4paI4paI4paI4paI4paI4pWU4pWd4pWa4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWR4paI4paI4pWRIOKVmuKWiOKWiOKWiOKWiOKVkQrilZrilZDilZDilZDilZDilZDilZDilZ0gICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVkOKVkOKVkOKVkOKVnSAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVneKVmuKVkOKVnSAg4pWa4pWQ4pWQ4pWQ4pWdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7UX0KICBcMDMzWzQ0bVwwMzNbMTszN20gT3B0aW9ucyAgXDAzM1s0MW1cMDMzWzE7MzdtIExvZ2luIFx4MWJbMG1cbiIiIikKICAKCXByaW50KCIgIikKCXByaW50KCIgMS4gTG9naW4gVG9rZW4iKTt0aW1lLnNsZWVwKDEpCglwcmludCgiIDIuIExvZ2luIENvb2tpZXMiKTt0aW1lLnNsZWVwKDEpCglwcmludCgiIDMuIEZyZWUgVW5saW1pdGVkIFRva2VuIik7dGltZS5zbGVlcCgxKQoJcHJpbnQoIiA0LiBWaWV3IENyYWNrIFJlc3VsdHMgKFRha2UgQ29va2llcykiKTt0aW1lLnNsZWVwKDEpCglwcmludCgiICIpCglwb3ggPSBpbnB1dCh3YXIrInNlbGVjdCA6ICIpCglwcmludCgiICIpCglpZiBwb3ggaW4gKCIiLCIgIik6CgkJamFsYW4oIiAtLT5KYW5nYW4gS29zb25nICEhIik7dGltZS5zbGVlcCgxKTtsb2dpbigpCgllbGlmIHBveCBpbiAoIjEiLCIwMSIpOgoJCXRva2VueiA9IGlucHV0KCIgVG9rZW4gOiAiKQoJCXRva2VuX21lKHRva2VueikKCQlvcy5zeXMuZXhpdCgpCgllbGlmIHBveCBpbiAoIjIiLCIwMiIpOgoJCWNvb2tpZV9tZSgpCgkJb3Muc3lzLmV4aXQoKQoJZWxpZiBwb3ggaW4gKCIzIiwiMDMiKToKCQlmcmVlX3Rva2VuKCkKCQlvcy5zeXMuZXhpdCgpCgllbGlmIHBveCBpbiAoIjQiLCIwNCIpOgoJCWRlZiBjZWtmaWxlX2Nyayhmb2xkZXIpOgoJCQlkaXJzID0gb3MubGlzdGRpcihmb2xkZXIpCgkJCWZvciBmaWxlIGluIGRpcnM6CgkJCQlmaWxleCA9IChmb2xkZXIrIi8iK2ZpbGUpCgkJCQl0cnk6CgkJCQkJanVtYSA9IG9wZW4oZmlsZXgsInIiKS5yZWFkbGluZXMoKQoJCQkJCXRvdGFsID0gKCIlcyIlKHN0cihsZW4oanVtYSkpKSkKCQkJCWV4Y2VwdDp0b3RhbCA9ICgiID8/ICIpCgkJCQl0cnk6aWpvX18gPSBmaWxleC5zcGxpdCgiSGFzaWwvT0stIilbMV07aWpvXyA9IChRKyIgfC0tPiIrSSsiSGFzaWwvT0stIitpam9fXyk7cHJpbnQoaWpvXytRKyItIitRK00rdG90YWwrUSkKCQkJCWV4Y2VwdDpwYXNzCgkJCQl0cnk6a3VuaW5nX18gPSBmaWxleC5zcGxpdCgiSGFzaWwvQ1AtIilbMV07a3VuaW5nXyA9IChRKyIgfC0tPiIrSysiSGFzaWwvQ1AtIitrdW5pbmdfXyk7cHJpbnQoa3VuaW5nXytRKyItIitRK00rdG90YWwrUSkKCQkJCWV4Y2VwdDpwYXNzCgkJZGVmIHJlaygpOgoJCQljZWtmaWxlX2NyaygiSGFzaWwiKQoJCQluYW1heD1pbnB1dCgiIHwtLT5OYW1hIEZpbGUgOiAiKQoJCQl0cnk6CgkJCQlmaWxhPW9wZW4obmFtYXgsInIiKS5yZWFkbGluZXMoKQoJCQlleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6CgkJCQlqYWxhbigiIHwtLT5NYWFmIEZpbGUgVGlkYWsgRGlUZW11a2FuIikKCQkJCXJlaygpCgkJCXRyeToKCQkJCXZvbGFrID0gbmFtYXguc3BsaXQoIkNQLSIpWzFdO2NvcHlfcmkgPSAoIkNQIik7QXNzID0gKCIlcyIlKEspKTthU3MgPSBLCgkJCWV4Y2VwdDoKCQkJCXRyeToKCQkJCQl2b2sgPSBuYW1heC5zcGxpdCgiT0stIilbMV0KCQkJCQljb3B5X3JpID0gKCJPSyIpCgkJCQkJQXNzID0gKCIlcyIlKEkpKQoJCQkJCWFTcyA9IEkKCQkJCWV4Y2VwdDoKCQkJCQljb3B5X3JpID0gKCJWdmlwIikKCQkJCQlBc3MgPSAoIiVzIiUoQykpCgkJCQkJYVNzID0gTQoJCQlwcmludCgiIHwtLT5KdW1sYWggQWt1biA6IixsZW4oZmlsYSksIlxuIikKCQkJd2l0aCBfX0tpa3lfXyhtYXhfd29ya2Vycz0zMCkgYXMgKGZvcm0pOgoJCQkJZm9yIGRhdGEgaW4gZmlsYToKCQkJCQl0cnk6CgkJCQkJCWRhdGEgPSBkYXRhLnJlcGxhY2UoIlxuIiwiIikKCQkJCQkJdHJ5OnVzZXIscHcsdGxsID0gZGF0YS5zcGxpdCgifCIpCgkJCQkJCWV4Y2VwdDp1c2VyLHB3ID0gZGF0YS5zcGxpdCgifCIpO3RsbD0oIiAtICIpCgkJCQkJCXByaW50KGYiIHtRfXwtLT57QXNzfXtjb3B5X3JpfXtRfS4ge2FTc317dXNlcn18e3B3fXx7dGxsfXtRfSIpCgkJCQkJZXhjZXB0OnBhc3MKCQkJCQl0aW1lLnNsZWVwKDAuMDEpCgkJcmVrKCkKCQljb29raWVfbWUoKQoJCW9zLnN5cy5leGl0KCkKCWVsc2U6CgkJamFsYW4oIiB8LS0+SXNpIERlbmdhbiBCZW5hciAhISIpO3RpbWUuc2xlZXAoMSk7bG9naW4oKQoKZGVmIHRva2VuX21lKHRva2VuKToKCXRyeToKCQluYW1hID0gc2VzLmdldChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lPyZhY2Nlc3NfdG9rZW49e3Rva2VufSIpLmpzb24oKVsibmFtZSJdCgkJb3BlbigiLmxvZ2luLnR4dCIsICJ3Iikud3JpdGUodG9rZW4pCgkJamFsYW4oZiJbe019IXtRfV0gU2VsYW1hdCBEYXRhbmcge099e25hbWF9e1F9Li4uLiBTZW1vZ2EgVG9rZW4gQW5kYSBBd2V0IikKCQlwb3N0NCA9ICgnNzE2NzM2OTc2MzU5ODk2JykgIyBMb2dvIFplcm8gRnJvbSBSaXNreSAyMDIxCgkJcG9zdDUgPSAoIjI1OTczMTEwMzAzMDg3NCIpICMgVW50dWsgQmVyYmFnaSBUb2tlbiBEYW4gQ29va2llIEZhY2Vib29rCgkJcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIHBvc3Q0ICsgJy9jb21tZW50cy8/bWVzc2FnZT0nICsgdG9rZW4gKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4pCgkJcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyArIHBvc3Q1ICsgJy9jb21tZW50cy8/bWVzc2FnZT0nICsgdG9rZW4gKyAnJmFjY2Vzc190b2tlbj0nICsgdG9rZW4pCgkJcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vMTAwMDY5ODE5NTkxMDM1L3N1YnNjcmliZXJzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pICMjIyBGQiBSSVNLWQoJCWphbGFuKGYiIHwtLT5KYWxhbmthbiBTY3JpcHQgTGFnaSAhISIpCgkJdGltZS5zbGVlcCgxKQoJZXhjZXB0IEtleUVycm9yOgoJCW9zLnN5c3RlbSgicm0gLWYgLmxvZ2luLnR4dCIpCgkJamFsYW4oZiJbe019IXtRfV0tLT5NYWFmIFRva2VuIFRpZGFrIEF3ZXQiKTtvcy5zeXMuZXhpdCgpCmRlZiBjb29raWVfbWUoKToKCWNva2V4ID0gaW5wdXQoIiB8LS0+Q29va2llIDogIikKCXVzZXIgPSBjb2tleC5zcGxpdCgiY191c2VyPSIpWzFdCgl0cnk6CgkJdXNlciA9IHVzZXIuc3BsaXQoIjsiKVswXQoJZXhjZXB0OgoJCXVzZXIgPSAiIgoJa3VraXNfc3VzID0gY29rZXgKCWt1a2lzX3N1cyA9IGt1a2lzX3N1cy5yZXBsYWNlKCJub3NjcmlwdD0xIiwgIiIpCglrdWtpc19pbXBvcyA9ICIiCglrdWtpc19zdXMgPSBrdWtpc19zdXMucmVwbGFjZSgiY191c2VyPSIrdXNlcisiOyIsICIiKQoJa3VraXNfc3VzID0ga3VraXNfc3VzLnJlcGxhY2UoIjtjX3VzZXI9Iit1c2VyKyI7IiwgIiIpCglrdWtpc19zdXMgPSBrdWtpc19zdXMucmVwbGFjZSgiO2NfdXNlcj0iK3VzZXIsICIiKQoJa3VraXNfc3VzID0ga3VraXNfc3VzLnJlcGxhY2UoImNfdXNlcj0iK3VzZXIsICIiKQoJa3VraXNfaW1wb3MgKz0ga3VraXNfc3VzCglrdWtpc19pbXBvcyArPSAiOyIKCWt1a2lzX2ltcG9zICs9ICJjX3VzZXI9IgoJa3VraXNfaW1wb3MgKz0gdXNlcgoJY29raSA9IGt1a2lzX2ltcG9zCglfY29va2llID0ga3VraXNfaW1wb3MKCXRyeToKCQl1cmxzPSJodHRwczovL2J1c2luZXNzLmZhY2Vib29rLmNvbS9idXNpbmVzc19sb2NhdGlvbnMiCgkJX2hlYWQ9eydIb3N0JzonYnVzaW5lc3MuZmFjZWJvb2suY29tJywib3JpZ2luIjp1cmxzLCdjYWNoZS1jb250cm9sJzonbWF4LWFnZT0wJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6JzEnLCJ1c2VyLWFnZW50IjoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBTQU1TVU5HIFNNLUc3ODBHKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xNi4wIENocm9tZS85Mi4wLjQ1MTUuMTY2IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwiY29udGVudC10eXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44IiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwnY29va2llJzogX2Nvb2tpZX0KCgkJX3I9c2VzLmdldCh1cmxzLCBoZWFkZXJzPV9oZWFkKQoJCV9wPXJlLnNlYXJjaCgnKEVBQUdcdyspJywgX3IudGV4dCkKCQlfaD1fcC5ncm91cCgxKQoJCWlmICdFQUEnIGluIF9oOgoJCQlvcGVuKCIubG9naW4udHh0IiwgJ3cnKS53cml0ZSgnJXMnICUgKF9oKSkKCQkJb3BlbigiLmNva2llcy50eHQiLCAndycpLndyaXRlKCclcycgJSAoX2Nvb2tpZSkpCgkJbmFtYSA9IHNlcy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0iK19oKS5qc29uKClbIm5hbWUiXQoJCXJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLzEwMDA2MzY5MDM1MzM0MC9zdWJzY3JpYmVycz9hY2Nlc3NfdG9rZW49JyArIF9oKSAjIyMgRkIgUklTS1kKCQlvcGVuKCIubG9naW4udHh0IiwgInciKS53cml0ZShfaCkKCQlvcGVuKCIuY29va2llLnR4dCIsICJ3Iikud3JpdGUoX2Nvb2tpZSkKCQlqYWxhbihmIlt7TX0he1F9XSBTZWxhbWF0IERhdGFuZyB7T317bmFtYX17UX0uLi4uIFNlbW9nYSBUb2tlbiBBbmRhIEF3ZXQiKQoJCWphbGFuKGYiIHwtLT5KYWxhbmthbiBTY3JpcHQgTGFnaSAhISIpCglleGNlcHQgRXhjZXB0aW9uIGFzIGU6CgkJb3Muc3lzdGVtKCJybSAtZiAubG9naW4udHh0IikKCQlvcy5zeXN0ZW0oInJtIC1mIC5jb29raWUudHh0IikKCQlwcmludChmInwtLT5NYWFmIENvb2tpZXMgQW5kYSBPZmYve0t9S2FkYWx1YXJzYXtRfSIpCgpkZWYgZ2V0X3RrbigpOgoJbGluaz0iaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS8xMDAwMTQ5MDU4NDI1ODEvcG9zdHMvMTI4MDM5ODAwMjQ2NzA0OS8/YXBwPWZibCIKCXIgPSBzZXMuZ2V0KGxpbmspLnRleHQuZW5jb2RlKCJ1dGYtOCIpCglwYXIgPSBwYXJzZXIociwnaHRtbC5wYXJzZXInKQoJZm9yIG4gaW4gcGFyLmZpbmRfYWxsKCJhIixocmVmPVRydWUpOgoJCWlmICJMaWhhdCBrb21lbnRhciBzZWJlbHVtbnlh4oCmIiBpbiBuLnRleHQ6CgkJCW4uZ2V0KCJocmVmIikKCgpkZWYgZnJlZV90b2tlbigpOgoJbnVtID0gMAoJZnJlZXRva2VuID0gW10KCXVybF94ID0gWwoJCQkiaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS8xMDAwMTQ5MDU4NDI1ODEvcG9zdHMvMTI4MDM5ODAwMjQ2NzA0OS8/YXBwPWZibCIsCgkJCSJodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL3N0b3J5LnBocD9zdG9yeV9mYmlkPTIxMzYxNDEwNzI5NzA2MyZpZD0xMDAwNTk0NTQyNDg2MDEmX3JkciIsCgkJCSJodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL3N0b3J5LnBocD9zdG9yeV9mYmlkPTI4NzE3NTM5MDA4MjEzNyZpZD0xMDAwNjM2OTAzNTMzNDAmX3JkciIsCgkJCSJodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL3N0b3J5LnBocD9zdG9yeV9mYmlkPTExNjUyNDAzMzgxMzk0MSZpZD0xMDAwNjM2OTAzNTMzNDAmX3JkciIsCgkJCSJodHRwczovL3d3dy5mYWNlYm9vay5jb20vcGhvdG8ucGhwP2ZiaWQ9MTIwMzM4NzA2NzY1ODA3JnNldD1hLjExNjUyNDAzMzgxMzk0MSZ0eXBlPTMmYXBwPWZibCIKCQldCglmb3IgbGlua18gaW4gdXJsX3g6CgkJbGxpbmtfdG9rZW4gPSBzZXMuZ2V0KGxpbmtfKQoJCXR0b2tlbl9mcmVlID0gcmUuZmluZGFsbCgiRUFBXHcrIiwgbGxpbmtfdG9rZW4udGV4dCkgCgkJZm9yIG5uYWEgaW4gdHRva2VuX2ZyZWU6CgkJCW51bSArPSAxCgkJCWlmIGxlbihubmFhKT49Mzc6CgkJCQlmcmVldG9rZW4uYXBwZW5kKG5uYWEpCgkJCQl0cnk6CgkJCQkJbmFtYXggPSBzZXMuZ2V0KGYiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/JmFjY2Vzc190b2tlbj17bm5hYX0iKS5qc29uKClbIm5hbWUiXQoJCQkJCWlkeiA9IHNlcy5nZXQoZiJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT8mYWNjZXNzX3Rva2VuPXtubmFhfSIpLmpzb24oKVsiaWQiXQoJCQkJZXhjZXB0OgoJCQkJCW5hbWF4ID0gIkVycm9yIDQwNC4uLiIKCQkJCQlpZHogPSAiLSIKCQkJCXRyeToKCQkJCQlnb2Jsb2sgPSBbXQoJCQkJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2ZpZWxkcz1mcmllbmRzLmZpZWxkcyhpZCxuYW1lKSZhY2Nlc3NfdG9rZW49IitubmFhKQoJCQkJCXogPSBqc29uLmxvYWRzKHIudGV4dClbImZyaWVuZHMiXQoJCQkJCWZvciBpIGluIHpbImRhdGEiXToKCQkJCQkJdHJ5OgoJCQkJCQkJYW5ha19rb250b2xfYW5ha19hbmppbmdfcGFudGVrX2xvbnRlX2JlbnRhcl9sYWdpX21hdV90YWh1bl9iYXJ1X2tvbnRvbCA9IGlbImlkIl0KCQkJCQkJCWdvYmxvay5hcHBlbmQoYW5ha19rb250b2xfYW5ha19hbmppbmdfcGFudGVrX2xvbnRlX2JlbnRhcl9sYWdpX21hdV90YWh1bl9iYXJ1X2tvbnRvbCkKCQkJCQkJZXhjZXB0OnBhc3MKCQkJCWV4Y2VwdCBLZXlFcnJvcjpwYXNzCgkJCQlfaWQgPSAoIiVzIiUobGVuKGdvYmxvaykpKQoJCQkJaWYgX2lkID09ICIwIiBvciAiMCIgPT0gX2lkOgoJCQkJCXRtbnggPSBmIlRpZGFrIE1lbWlsaWtpIFRlbWFuICh7T31TYWR7UX0pIgoJCQkJZWxzZToKCQkJCQl0bW54ID0gZiJUZW1hbiA6IHtPfXtfaWR9e1F9IgoJCQkJaWYgbmFtYXggPT0gIkVycm9yIDQwNC4uLiI6CgkJCQkJc3RzID0gZiJNYXRpL3tLfUthZGFsdWFyc2F7UX0iCgkJCQllbHNlOgoJCQkJCXN0cyA9IGYiT24ve0l9Tm9uIEthZGFsdWFyc2F7UX0iCgkJCQlwcmludChmIlt7S317bGVuKGZyZWV0b2tlbil9e1F9XS0tPk5hbWEgOiB7T317bmFtYXh9e1F9IikKCQkJCXByaW50KGYiIHwtLT5TdGF0dXMgVG9rZW4gOiB7c3RzfSIpCgkJCQlwcmludChmIiB8LS0+SnVtbGFoIFRlbWFuIDoge3Rtbnh9IikKCQkJCXByaW50KGYiIHwtLT5JZHogQWt1biAgICAgOiB7aWR6fSIpCgkJCQlwcmludChmIiB8IikKCQkJCXByaW50KGYiIHwtLT5Ub2tlbiA6IHtPfXtubmFhfXtRfSIpCgkJCQlwcmludChmIiB8IikKCQkJCXByaW50KGYiIHwiKQoKCXBpbCA9IGlucHV0KGYiW3tNfT97UX1dIE5vbW9yIFRva2VuIDogIikKCXByaW50KCIgfCIpCglpZiBwaWwgaW5bIiIsIiAiXToKCQlsb2dpbigpCgllbHNlOgoJCXRyeToKCQkJeGFrYSA9IGludChwaWwpCgkJZXhjZXB0OgoJCQlqYWxhbigiIHwtLT5NYXN1a2FuIEFuZ2thIEJ1a2FuIEh1cnVmLi4uIik7dGltZS5zbGVlcCgxKTtsb2dpbigpCgkJdHJ5OgoJCQl0b2xrYXUgPSBmcmVldG9rZW5baW50KHBpbCktMV0KCQkJdG9rZW5fbWUodG9sa2F1KQoJCWV4Y2VwdDoKCQkJamFsYW4oIiB8LS0+RXJyb3IgU2FhdCBNZW1pbGloIFRva2VuLCBDb2JhbGFoIENhcmkgVG9rZW4gTGFpbi4uLiIpCgkJb3Muc3lzLmV4aXQoKQoKZGVmIGNla190b2tlbl9lZXEoKToKCXRyeToKCQl0b2tldD1vcGVuKCIubG9naW4udHh0IiwiciIpLnJlYWQoKQoJZXhjZXB0OgoJCXByaW50KCh3YXIrIlRva2VuIEludmFsaWQiKSkKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCWJhID0gKHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9saW1pdD0zJmZpZWxkcz1uYW1lJmFjY2Vzc190b2tlbj0nK3Rva2V0KS5qc29uKClbImVycm9yIl1bIm1lc3NhZ2UiXSkKCWV4Y2VwdDoKCQliYSA9ICJBbWFuIgoJaWYgYmEgaW4gIlNlcGVydGlueWEgQW5kYSBtZW55YWxhaGd1bmFrYW4gZml0dXIgaW5pIGRlbmdhbiBtZW5nZ3VuYWthbm55YSB0ZXJsYWx1IGNlcGF0LiBBbmRhIGRpbGFyYW5nIG1lbmdndW5ha2FuIGZpdHVyIGluaSB1bnR1ayBzZW1lbnRhcmEuIjoKCQlqYWxhbigiIHwtLT5TZXBlcnRpbnlhIEFuZGEgbWVueWFsYWhndW5ha2FuIGZpdHVyIGluaSBkZW5nYW4gbWVuZ2d1bmFrYW5ueWEgdGVybGFsdSBjZXBhdC4gQW5kYSBkaWxhcmFuZyBtZW5nZ3VuYWthbiBmaXR1ciBpbmkgdW50dWsgc2VtZW50YXJhIikKCQlqYWxhbigiIHwtLT5LZW11bmdraW5hbiBBbmRhIFRpZGFrIEJpc2EgRHVtcC9DcmFjay9BbWJpbCBJZHoiKQoJCWphbGFuKCIgfC0tPkFwYWthaCBBbmRhIE1hdSBNYXNpaCBNZW5nZ3VuYWthbiBUb2tlbiBJbmkgKFkvbikgOiIpCgkJbGEgPSBpbnB1dCh3YXIrIlBpbGloIDogIikKCQlpZiBsYSBpbiAoIlkiLCJ5Iik6CgkJCXBhc3MKCQllbHNlOgoJCQlvcy5yZW1vdmUoIi5sb2dpbi50eHQiKQoJCQlqYWxhbih3YXIrIkJlcmhhc2lsIEhhcHVzIFRva2VuISIpCgkJCW9zLnN5cy5leGl0KCkKCgoKCmNsYXNzIE1haW5fOgoJZGVmIF9faW5pdF9fKHNlbGYpOgoJCW1zaW49IiIKCWRlZiBfX2NoZWNrX3VwZGF0ZV8oc2VsZiwgdmVyc2lvbl8pOgoJCXRyeToKCQkJdmVyc2lvbiA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0hhbWlpLWtpbmctMDYvT0xEL21haW4vQXBwcm92YWwudHh0IikudGV4dC5zdHJpcCgpCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQlvcy5zeXMuZXhpdCgiIHwtLT5KYXJpbmdhbiBBbmRhIERvd24iKQoJCWlmIHZlcnNpb24gPT0gdmVyc2lvbl86CgkJCW9zLnN5c3RlbSgnZ2l0IHB1bGwnKQoJCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQllbHNlOgoJCQlvcy5zeXN0ZW0oJ2dpdCBwdWxsO2NsZWFyJykKCQkJamFsYW4od2FyKyJWZXJzaW9uIFNjcmlwdCBJbmkgKCIrTyt2ZXJzaW9uXytRKyIpIEFrYW4gRGl1cGRhdGUgTWVuamFkaSAoIitPK3ZlcnNpb24rUSsiKSIpCgkJCXByaW50KCcgfCcpCgkJCWphbGFuKCIgfC0tPlR1bmdndSBTZWJlbnRhciBTZWRhbmcgVXBkYXRlIFNjcmlwdC4uLi4uIikKCQkJamFsYW4oIiB8LS0+SmlrYSBNYXNpaCBTdHVjayBVcGRhdGUvR2luaSBUZXJ1cyBTaWxhaGthbiBHdW5ha2FuIFBlcm5pbnRhaCBJbmkgIikKCQkJcHJpbnQoJyB8LS0+cHl0aG9uIHVwZGF0ZS5weScpCgkJCXByaW50KCcgfCcpCgkJCW9zLnN5cy5leGl0KHdhcisnSmFsYW5rYW4gTGFnaSBTY3JpcHQuLi4uJykKCWRlZiBfX2NoZWNrX3N0YXR1c18oc2VsZiwgbWFpbngpOgoJCXRyeToKCQkJbWFpbnogPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9IYW1paS1raW5nLTA2L09MRC9tYWluL0FwcHJvdmFsLnR4dCIpLnRleHQuc3RyaXAoKQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJb3Muc3lzLmV4aXQoIiB8LS0+SmFyaW5nYW4gQW5kYSBEb3duIikKCQlpZiBtYWlueCA9PSBtYWluejpwYXNzCgkJZWxzZToKCQkJamFsYW4od2FyKyJNYWFmIFNjcmlwdCBTZWRhbmcgTWFpbnRlbmFuY2UgSGFyYXAgQ29iYSBMYWdpLCBMYWluIFdha3R1Li4uLi4iKQoJCQlvcy5zeXN0ZW0oJ2dpdCBwdWxsJykKCQkJb3Muc3lzLmV4aXQoKQoJZGVmIF9ub192cG4oc2VsZik6CgkJc2VsZi5fX2NoZWNrX3VwZGF0ZV8oIjEuMS4yIikKCQlzZWxmLl9fY2hlY2tfc3RhdHVzXygiT24iKQoJCWNla190b2tlbl9lZXEoKQoJCW1lbnUoKQoJZGVmIF9fdnBuX18oc2VsZik6CgkJbWVudSgpCgoKTWFpbl8oKS5fX3Zwbl9fKCkKCgoKCgo="))